var Gf=Object.defineProperty;var If=(t,e,r)=>e in t?Gf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ii=(t,e,r)=>(If(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bc={exports:{}},Xa={},$c={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ni=Symbol.for("react.element"),Uf=Symbol.for("react.portal"),zf=Symbol.for("react.fragment"),Vf=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),Hf=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Wf=Symbol.for("react.suspense"),Kf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),qu=Symbol.iterator;function Xf(t){return t===null||typeof t!="object"?null:(t=qu&&t[qu]||t["@@iterator"],typeof t=="function"?t:null)}var Hc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jc=Object.assign,Wc={};function Fn(t,e,r){this.props=t,this.context=e,this.refs=Wc,this.updater=r||Hc}Fn.prototype.isReactComponent={};Fn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kc(){}Kc.prototype=Fn.prototype;function Vl(t,e,r){this.props=t,this.context=e,this.refs=Wc,this.updater=r||Hc}var Bl=Vl.prototype=new Kc;Bl.constructor=Vl;jc(Bl,Fn.prototype);Bl.isPureReactComponent=!0;var Zu=Array.isArray,Yc=Object.prototype.hasOwnProperty,$l={current:null},Xc={key:!0,ref:!0,__self:!0,__source:!0};function Qc(t,e,r){var n,i={},a=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Yc.call(e,n)&&!Xc.hasOwnProperty(n)&&(i[n]=e[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in s=t.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Ni,type:t,key:a,ref:o,props:i,_owner:$l.current}}function Qf(t,e){return{$$typeof:Ni,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ni}function qf(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ju=/\/+/g;function is(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qf(""+t.key):e.toString(36)}function sa(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ni:case Uf:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+is(o,0):n,Zu(i)?(r="",t!=null&&(r=t.replace(Ju,"$&/")+"/"),sa(i,e,r,"",function(u){return u})):i!=null&&(Hl(i)&&(i=Qf(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ju,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Zu(t))for(var s=0;s<t.length;s++){a=t[s];var l=n+is(a,s);o+=sa(a,e,r,l,i)}else if(l=Xf(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=n+is(a,s++),o+=sa(a,e,r,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ui(t,e,r){if(t==null)return t;var n=[],i=0;return sa(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Zf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Be={current:null},la={transition:null},Jf={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:la,ReactCurrentOwner:$l};X.Children={map:Ui,forEach:function(t,e,r){Ui(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ui(t,function(){e++}),e},toArray:function(t){return Ui(t,function(e){return e})||[]},only:function(t){if(!Hl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};X.Component=Fn;X.Fragment=zf;X.Profiler=Bf;X.PureComponent=Vl;X.StrictMode=Vf;X.Suspense=Wf;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;X.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=jc({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=$l.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Yc.call(e,l)&&!Xc.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Ni,type:t.type,key:i,ref:a,props:n,_owner:o}};X.createContext=function(t){return t={$$typeof:Hf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$f,_context:t},t.Consumer=t};X.createElement=Qc;X.createFactory=function(t){var e=Qc.bind(null,t);return e.type=t,e};X.createRef=function(){return{current:null}};X.forwardRef=function(t){return{$$typeof:jf,render:t}};X.isValidElement=Hl;X.lazy=function(t){return{$$typeof:Yf,_payload:{_status:-1,_result:t},_init:Zf}};X.memo=function(t,e){return{$$typeof:Kf,type:t,compare:e===void 0?null:e}};X.startTransition=function(t){var e=la.transition;la.transition={};try{t()}finally{la.transition=e}};X.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};X.useCallback=function(t,e){return Be.current.useCallback(t,e)};X.useContext=function(t){return Be.current.useContext(t)};X.useDebugValue=function(){};X.useDeferredValue=function(t){return Be.current.useDeferredValue(t)};X.useEffect=function(t,e){return Be.current.useEffect(t,e)};X.useId=function(){return Be.current.useId()};X.useImperativeHandle=function(t,e,r){return Be.current.useImperativeHandle(t,e,r)};X.useInsertionEffect=function(t,e){return Be.current.useInsertionEffect(t,e)};X.useLayoutEffect=function(t,e){return Be.current.useLayoutEffect(t,e)};X.useMemo=function(t,e){return Be.current.useMemo(t,e)};X.useReducer=function(t,e,r){return Be.current.useReducer(t,e,r)};X.useRef=function(t){return Be.current.useRef(t)};X.useState=function(t){return Be.current.useState(t)};X.useSyncExternalStore=function(t,e,r){return Be.current.useSyncExternalStore(t,e,r)};X.useTransition=function(){return Be.current.useTransition()};X.version="18.2.0";$c.exports=X;var at=$c.exports;const e1=Vc(at);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t1=at,r1=Symbol.for("react.element"),n1=Symbol.for("react.fragment"),i1=Object.prototype.hasOwnProperty,a1=t1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o1={key:!0,ref:!0,__self:!0,__source:!0};function qc(t,e,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)i1.call(e,n)&&!o1.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:r1,type:t,key:a,ref:o,props:i,_owner:a1.current}}Xa.Fragment=n1;Xa.jsx=qc;Xa.jsxs=qc;Bc.exports=Xa;var Fe=Bc.exports,zs={},Zc={exports:{}},tt={},Jc={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,I){var M=F.length;F.push(I);e:for(;0<M;){var b=M-1>>>1,B=F[b];if(0<i(B,I))F[b]=I,F[M]=B,M=b;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var I=F[0],M=F.pop();if(M!==I){F[0]=M;e:for(var b=0,B=F.length,ee=B>>>1;b<ee;){var Q=2*(b+1)-1,Xe=F[Q],ie=Q+1,P=F[ie];if(0>i(Xe,M))ie<B&&0>i(P,Xe)?(F[b]=P,F[ie]=M,b=ie):(F[b]=Xe,F[Q]=M,b=Q);else if(ie<B&&0>i(P,M))F[b]=P,F[ie]=M,b=ie;else break e}}return I}function i(F,I){var M=F.sortIndex-I.sortIndex;return M!==0?M:F.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,y=null,f=3,g=!1,d=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(F){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=F)n(u),I.sortIndex=I.expirationTime,e(l,I);else break;I=r(u)}}function p(F){if(_=!1,h(F),!d)if(r(l)!==null)d=!0,H(S);else{var I=r(u);I!==null&&j(p,I.startTime-F)}}function S(F,I){d=!1,_&&(_=!1,m(w),w=-1),g=!0;var M=f;try{for(h(I),y=r(l);y!==null&&(!(y.expirationTime>I)||F&&!N());){var b=y.callback;if(typeof b=="function"){y.callback=null,f=y.priorityLevel;var B=b(y.expirationTime<=I);I=t.unstable_now(),typeof B=="function"?y.callback=B:y===r(l)&&n(l),h(I)}else n(l);y=r(l)}if(y!==null)var ee=!0;else{var Q=r(u);Q!==null&&j(p,Q.startTime-I),ee=!1}return ee}finally{y=null,f=M,g=!1}}var k=!1,x=null,w=-1,T=5,E=-1;function N(){return!(t.unstable_now()-E<T)}function A(){if(x!==null){var F=t.unstable_now();E=F;var I=!0;try{I=x(!0,F)}finally{I?L():(k=!1,x=null)}}else k=!1}var L;if(typeof v=="function")L=function(){v(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=A,L=function(){G.postMessage(null)}}else L=function(){C(A,0)};function H(F){x=F,k||(k=!0,L())}function j(F,I){w=C(function(){F(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){d||g||(d=!0,H(S))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(F){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var M=f;f=I;try{return F()}finally{f=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var M=f;f=F;try{return I()}finally{f=M}},t.unstable_scheduleCallback=function(F,I,M){var b=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?b+M:b):M=b,F){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=M+B,F={id:c++,callback:I,priorityLevel:F,startTime:M,expirationTime:B,sortIndex:-1},M>b?(F.sortIndex=M,e(u,F),r(l)===null&&F===r(u)&&(_?(m(w),w=-1):_=!0,j(p,M-b))):(F.sortIndex=B,e(l,F),d||g||(d=!0,H(S))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var I=f;return function(){var M=f;f=I;try{return F.apply(this,arguments)}finally{f=M}}}})(ed);Jc.exports=ed;var s1=Jc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=at,et=s1;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rd=new Set,ui={};function Ir(t,e){_n(t,e),_n(t+"Capture",e)}function _n(t,e){for(ui[t]=e,t=0;t<e.length;t++)rd.add(e[t])}var Ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=Object.prototype.hasOwnProperty,l1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eh={},th={};function u1(t){return Vs.call(th,t)?!0:Vs.call(eh,t)?!1:l1.test(t)?th[t]=!0:(eh[t]=!0,!1)}function h1(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c1(t,e,r,n){if(e===null||typeof e>"u"||h1(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $e(t,e,r,n,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new $e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new $e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new $e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new $e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new $e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new $e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new $e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new $e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new $e(t,5,!1,t.toLowerCase(),null,!1,!1)});var jl=/[\-:]([a-z])/g;function Wl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jl,Wl);Le[e]=new $e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jl,Wl);Le[e]=new $e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jl,Wl);Le[e]=new $e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new $e(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new $e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new $e(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kl(t,e,r,n){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c1(e,r,i,n)&&(r=null),n||i===null?u1(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var $t=td.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zi=Symbol.for("react.element"),en=Symbol.for("react.portal"),tn=Symbol.for("react.fragment"),Yl=Symbol.for("react.strict_mode"),Bs=Symbol.for("react.profiler"),nd=Symbol.for("react.provider"),id=Symbol.for("react.context"),Xl=Symbol.for("react.forward_ref"),$s=Symbol.for("react.suspense"),Hs=Symbol.for("react.suspense_list"),Ql=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),ad=Symbol.for("react.offscreen"),rh=Symbol.iterator;function In(t){return t===null||typeof t!="object"?null:(t=rh&&t[rh]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,as;function Qn(t){if(as===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);as=e&&e[1]||""}return`
`+as+t}var os=!1;function ss(t,e){if(!t||os)return"";os=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{os=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Qn(t):""}function d1(t){switch(t.tag){case 5:return Qn(t.type);case 16:return Qn("Lazy");case 13:return Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 2:case 15:return t=ss(t.type,!1),t;case 11:return t=ss(t.type.render,!1),t;case 1:return t=ss(t.type,!0),t;default:return""}}function js(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tn:return"Fragment";case en:return"Portal";case Bs:return"Profiler";case Yl:return"StrictMode";case $s:return"Suspense";case Hs:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case id:return(t.displayName||"Context")+".Consumer";case nd:return(t._context.displayName||"Context")+".Provider";case Xl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ql:return e=t.displayName||null,e!==null?e:js(t.type)||"Memo";case Zt:e=t._payload,t=t._init;try{return js(t(e))}catch{}}return null}function f1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return js(e);case 8:return e===Yl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function od(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function g1(t){var e=od(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vi(t){t._valueTracker||(t._valueTracker=g1(t))}function sd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=od(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ws(t,e){var r=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function nh(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=dr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ld(t,e){e=e.checked,e!=null&&Kl(t,"checked",e,!1)}function Ks(t,e){ld(t,e);var r=dr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ys(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ys(t,e.type,dr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ih(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ys(t,e,r){(e!=="number"||wa(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var qn=Array.isArray;function fn(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+dr(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Xs(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ah(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(R(92));if(qn(r)){if(1<r.length)throw Error(R(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:dr(r)}}function ud(t,e){var r=dr(e.value),n=dr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function oh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qs(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bi,cd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hi(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p1=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){p1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ei[e]=ei[t]})});function dd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ei.hasOwnProperty(t)&&ei[t]?(""+e).trim():e+"px"}function fd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var v1=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qs(t,e){if(e){if(v1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Zs(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Js=null;function ql(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var el=null,gn=null,pn=null;function sh(t){if(t=Mi(t)){if(typeof el!="function")throw Error(R(280));var e=t.stateNode;e&&(e=eo(e),el(t.stateNode,t.type,e))}}function gd(t){gn?pn?pn.push(t):pn=[t]:gn=t}function pd(){if(gn){var t=gn,e=pn;if(pn=gn=null,sh(t),e)for(t=0;t<e.length;t++)sh(e[t])}}function vd(t,e){return t(e)}function md(){}var ls=!1;function yd(t,e,r){if(ls)return t(e,r);ls=!0;try{return vd(t,e,r)}finally{ls=!1,(gn!==null||pn!==null)&&(md(),pd())}}function ci(t,e){var r=t.stateNode;if(r===null)return null;var n=eo(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(R(231,e,typeof r));return r}var tl=!1;if(Ut)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{tl=!1}function m1(t,e,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ti=!1,Ca=null,ka=!1,rl=null,y1={onError:function(t){ti=!0,Ca=t}};function _1(t,e,r,n,i,a,o,s,l){ti=!1,Ca=null,m1.apply(y1,arguments)}function S1(t,e,r,n,i,a,o,s,l){if(_1.apply(this,arguments),ti){if(ti){var u=Ca;ti=!1,Ca=null}else throw Error(R(198));ka||(ka=!0,rl=u)}}function Ur(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function _d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lh(t){if(Ur(t)!==t)throw Error(R(188))}function w1(t){var e=t.alternate;if(!e){if(e=Ur(t),e===null)throw Error(R(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return lh(i),t;if(a===n)return lh(i),e;a=a.sibling}throw Error(R(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?t:e}function Sd(t){return t=w1(t),t!==null?wd(t):null}function wd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wd(t);if(e!==null)return e;t=t.sibling}return null}var Cd=et.unstable_scheduleCallback,uh=et.unstable_cancelCallback,C1=et.unstable_shouldYield,k1=et.unstable_requestPaint,we=et.unstable_now,E1=et.unstable_getCurrentPriorityLevel,Zl=et.unstable_ImmediatePriority,kd=et.unstable_UserBlockingPriority,Ea=et.unstable_NormalPriority,P1=et.unstable_LowPriority,Ed=et.unstable_IdlePriority,Qa=null,Tt=null;function x1(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Qa,t,void 0,(t.current.flags&128)===128)}catch{}}var yt=Math.clz32?Math.clz32:F1,T1=Math.log,N1=Math.LN2;function F1(t){return t>>>=0,t===0?32:31-(T1(t)/N1|0)|0}var $i=64,Hi=4194304;function Zn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pa(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,a=t.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=Zn(s):(a&=o,a!==0&&(n=Zn(a)))}else o=r&~i,o!==0?n=Zn(o):a!==0&&(n=Zn(a));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-yt(e),i=1<<r,n|=t[r],e&=~i;return n}function R1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M1(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-yt(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=R1(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function nl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Pd(){var t=$i;return $i<<=1,!($i&4194240)&&($i=64),t}function us(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fi(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yt(e),t[e]=r}function A1(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-yt(r),a=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~a}}function Jl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-yt(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var te=0;function xd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Td,eu,Nd,Fd,Rd,il=!1,ji=[],ir=null,ar=null,or=null,di=new Map,fi=new Map,er=[],O1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hh(t,e){switch(t){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":di.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(e.pointerId)}}function zn(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Mi(e),e!==null&&eu(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L1(t,e,r,n,i){switch(e){case"focusin":return ir=zn(ir,t,e,r,n,i),!0;case"dragenter":return ar=zn(ar,t,e,r,n,i),!0;case"mouseover":return or=zn(or,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return di.set(a,zn(di.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,fi.set(a,zn(fi.get(a)||null,t,e,r,n,i)),!0}return!1}function Md(t){var e=Tr(t.target);if(e!==null){var r=Ur(e);if(r!==null){if(e=r.tag,e===13){if(e=_d(r),e!==null){t.blockedOn=e,Rd(t.priority,function(){Nd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ua(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=al(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Js=n,r.target.dispatchEvent(n),Js=null}else return e=Mi(r),e!==null&&eu(e),t.blockedOn=r,!1;e.shift()}return!0}function ch(t,e,r){ua(t)&&r.delete(e)}function b1(){il=!1,ir!==null&&ua(ir)&&(ir=null),ar!==null&&ua(ar)&&(ar=null),or!==null&&ua(or)&&(or=null),di.forEach(ch),fi.forEach(ch)}function Vn(t,e){t.blockedOn===e&&(t.blockedOn=null,il||(il=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,b1)))}function gi(t){function e(i){return Vn(i,t)}if(0<ji.length){Vn(ji[0],t);for(var r=1;r<ji.length;r++){var n=ji[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ir!==null&&Vn(ir,t),ar!==null&&Vn(ar,t),or!==null&&Vn(or,t),di.forEach(e),fi.forEach(e),r=0;r<er.length;r++)n=er[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<er.length&&(r=er[0],r.blockedOn===null);)Md(r),r.blockedOn===null&&er.shift()}var vn=$t.ReactCurrentBatchConfig,xa=!0;function D1(t,e,r,n){var i=te,a=vn.transition;vn.transition=null;try{te=1,tu(t,e,r,n)}finally{te=i,vn.transition=a}}function G1(t,e,r,n){var i=te,a=vn.transition;vn.transition=null;try{te=4,tu(t,e,r,n)}finally{te=i,vn.transition=a}}function tu(t,e,r,n){if(xa){var i=al(t,e,r,n);if(i===null)_s(t,e,n,Ta,r),hh(t,n);else if(L1(i,t,e,r,n))n.stopPropagation();else if(hh(t,n),e&4&&-1<O1.indexOf(t)){for(;i!==null;){var a=Mi(i);if(a!==null&&Td(a),a=al(t,e,r,n),a===null&&_s(t,e,n,Ta,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else _s(t,e,n,null,r)}}var Ta=null;function al(t,e,r,n){if(Ta=null,t=ql(n),t=Tr(t),t!==null)if(e=Ur(t),e===null)t=null;else if(r=e.tag,r===13){if(t=_d(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ta=t,null}function Ad(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(E1()){case Zl:return 1;case kd:return 4;case Ea:case P1:return 16;case Ed:return 536870912;default:return 16}default:return 16}}var rr=null,ru=null,ha=null;function Od(){if(ha)return ha;var t,e=ru,r=e.length,n,i="value"in rr?rr.value:rr.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[a-n];n++);return ha=i.slice(t,1<n?1-n:void 0)}function ca(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wi(){return!0}function dh(){return!1}function rt(t){function e(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(r=t[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Wi:dh,this.isPropagationStopped=dh,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),e}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nu=rt(Rn),Ri=pe({},Rn,{view:0,detail:0}),I1=rt(Ri),hs,cs,Bn,qa=pe({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bn&&(Bn&&t.type==="mousemove"?(hs=t.screenX-Bn.screenX,cs=t.screenY-Bn.screenY):cs=hs=0,Bn=t),hs)},movementY:function(t){return"movementY"in t?t.movementY:cs}}),fh=rt(qa),U1=pe({},qa,{dataTransfer:0}),z1=rt(U1),V1=pe({},Ri,{relatedTarget:0}),ds=rt(V1),B1=pe({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),$1=rt(B1),H1=pe({},Rn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),j1=rt(H1),W1=pe({},Rn,{data:0}),gh=rt(W1),K1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Q1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=X1[t])?!!e[t]:!1}function iu(){return Q1}var q1=pe({},Ri,{key:function(t){if(t.key){var e=K1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ca(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Y1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(t){return t.type==="keypress"?ca(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ca(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Z1=rt(q1),J1=pe({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ph=rt(J1),e2=pe({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),t2=rt(e2),r2=pe({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),n2=rt(r2),i2=pe({},qa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),a2=rt(i2),o2=[9,13,27,32],au=Ut&&"CompositionEvent"in window,ri=null;Ut&&"documentMode"in document&&(ri=document.documentMode);var s2=Ut&&"TextEvent"in window&&!ri,Ld=Ut&&(!au||ri&&8<ri&&11>=ri),vh=" ",mh=!1;function bd(t,e){switch(t){case"keyup":return o2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rn=!1;function l2(t,e){switch(t){case"compositionend":return Dd(e);case"keypress":return e.which!==32?null:(mh=!0,vh);case"textInput":return t=e.data,t===vh&&mh?null:t;default:return null}}function u2(t,e){if(rn)return t==="compositionend"||!au&&bd(t,e)?(t=Od(),ha=ru=rr=null,rn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ld&&e.locale!=="ko"?null:e.data;default:return null}}var h2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!h2[t.type]:e==="textarea"}function Gd(t,e,r,n){gd(n),e=Na(e,"onChange"),0<e.length&&(r=new nu("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ni=null,pi=null;function c2(t){Yd(t,0)}function Za(t){var e=on(t);if(sd(e))return t}function d2(t,e){if(t==="change")return e}var Id=!1;if(Ut){var fs;if(Ut){var gs="oninput"in document;if(!gs){var _h=document.createElement("div");_h.setAttribute("oninput","return;"),gs=typeof _h.oninput=="function"}fs=gs}else fs=!1;Id=fs&&(!document.documentMode||9<document.documentMode)}function Sh(){ni&&(ni.detachEvent("onpropertychange",Ud),pi=ni=null)}function Ud(t){if(t.propertyName==="value"&&Za(pi)){var e=[];Gd(e,pi,t,ql(t)),yd(c2,e)}}function f2(t,e,r){t==="focusin"?(Sh(),ni=e,pi=r,ni.attachEvent("onpropertychange",Ud)):t==="focusout"&&Sh()}function g2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Za(pi)}function p2(t,e){if(t==="click")return Za(e)}function v2(t,e){if(t==="input"||t==="change")return Za(e)}function m2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wt=typeof Object.is=="function"?Object.is:m2;function vi(t,e){if(wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Vs.call(e,i)||!wt(t[i],e[i]))return!1}return!0}function wh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ch(t,e){var r=wh(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wh(r)}}function zd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vd(){for(var t=window,e=wa();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=wa(t.document)}return e}function ou(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y2(t){var e=Vd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zd(r.ownerDocument.documentElement,r)){if(n!==null&&ou(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!t.extend&&a>n&&(i=n,n=a,a=i),i=Ch(r,a);var o=Ch(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _2=Ut&&"documentMode"in document&&11>=document.documentMode,nn=null,ol=null,ii=null,sl=!1;function kh(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;sl||nn==null||nn!==wa(n)||(n=nn,"selectionStart"in n&&ou(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ii&&vi(ii,n)||(ii=n,n=Na(ol,"onSelect"),0<n.length&&(e=new nu("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=nn)))}function Ki(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var an={animationend:Ki("Animation","AnimationEnd"),animationiteration:Ki("Animation","AnimationIteration"),animationstart:Ki("Animation","AnimationStart"),transitionend:Ki("Transition","TransitionEnd")},ps={},Bd={};Ut&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function Ja(t){if(ps[t])return ps[t];if(!an[t])return t;var e=an[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Bd)return ps[t]=e[r];return t}var $d=Ja("animationend"),Hd=Ja("animationiteration"),jd=Ja("animationstart"),Wd=Ja("transitionend"),Kd=new Map,Eh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pr(t,e){Kd.set(t,e),Ir(e,[t])}for(var vs=0;vs<Eh.length;vs++){var ms=Eh[vs],S2=ms.toLowerCase(),w2=ms[0].toUpperCase()+ms.slice(1);pr(S2,"on"+w2)}pr($d,"onAnimationEnd");pr(Hd,"onAnimationIteration");pr(jd,"onAnimationStart");pr("dblclick","onDoubleClick");pr("focusin","onFocus");pr("focusout","onBlur");pr(Wd,"onTransitionEnd");_n("onMouseEnter",["mouseout","mouseover"]);_n("onMouseLeave",["mouseout","mouseover"]);_n("onPointerEnter",["pointerout","pointerover"]);_n("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jn));function Ph(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,S1(n,e,void 0,t),t.currentTarget=null}function Yd(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ph(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ph(i,s,u),a=l}}}if(ka)throw t=rl,ka=!1,rl=null,t}function le(t,e){var r=e[dl];r===void 0&&(r=e[dl]=new Set);var n=t+"__bubble";r.has(n)||(Xd(e,t,2,!1),r.add(n))}function ys(t,e,r){var n=0;e&&(n|=4),Xd(r,t,n,e)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function mi(t){if(!t[Yi]){t[Yi]=!0,rd.forEach(function(r){r!=="selectionchange"&&(C2.has(r)||ys(r,!1,t),ys(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yi]||(e[Yi]=!0,ys("selectionchange",!1,e))}}function Xd(t,e,r,n){switch(Ad(e)){case 1:var i=D1;break;case 4:i=G1;break;default:i=tu}r=i.bind(null,e,r,t),i=void 0,!tl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function _s(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Tr(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}yd(function(){var u=a,c=ql(r),y=[];e:{var f=Kd.get(t);if(f!==void 0){var g=nu,d=t;switch(t){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":g=Z1;break;case"focusin":d="focus",g=ds;break;case"focusout":d="blur",g=ds;break;case"beforeblur":case"afterblur":g=ds;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=fh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=t2;break;case $d:case Hd:case jd:g=$1;break;case Wd:g=n2;break;case"scroll":g=I1;break;case"wheel":g=a2;break;case"copy":case"cut":case"paste":g=j1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=ph}var _=(e&4)!==0,C=!_&&t==="scroll",m=_?f!==null?f+"Capture":null:f;_=[];for(var v=u,h;v!==null;){h=v;var p=h.stateNode;if(h.tag===5&&p!==null&&(h=p,m!==null&&(p=ci(v,m),p!=null&&_.push(yi(v,p,h)))),C)break;v=v.return}0<_.length&&(f=new g(f,d,null,r,c),y.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&r!==Js&&(d=r.relatedTarget||r.fromElement)&&(Tr(d)||d[zt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(d=r.relatedTarget||r.toElement,g=u,d=d?Tr(d):null,d!==null&&(C=Ur(d),d!==C||d.tag!==5&&d.tag!==6)&&(d=null)):(g=null,d=u),g!==d)){if(_=fh,p="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=ph,p="onPointerLeave",m="onPointerEnter",v="pointer"),C=g==null?f:on(g),h=d==null?f:on(d),f=new _(p,v+"leave",g,r,c),f.target=C,f.relatedTarget=h,p=null,Tr(c)===u&&(_=new _(m,v+"enter",d,r,c),_.target=h,_.relatedTarget=C,p=_),C=p,g&&d)t:{for(_=g,m=d,v=0,h=_;h;h=Qr(h))v++;for(h=0,p=m;p;p=Qr(p))h++;for(;0<v-h;)_=Qr(_),v--;for(;0<h-v;)m=Qr(m),h--;for(;v--;){if(_===m||m!==null&&_===m.alternate)break t;_=Qr(_),m=Qr(m)}_=null}else _=null;g!==null&&xh(y,f,g,_,!1),d!==null&&C!==null&&xh(y,C,d,_,!0)}}e:{if(f=u?on(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=d2;else if(yh(f))if(Id)S=v2;else{S=g2;var k=f2}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=p2);if(S&&(S=S(t,u))){Gd(y,S,r,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Ys(f,"number",f.value)}switch(k=u?on(u):window,t){case"focusin":(yh(k)||k.contentEditable==="true")&&(nn=k,ol=u,ii=null);break;case"focusout":ii=ol=nn=null;break;case"mousedown":sl=!0;break;case"contextmenu":case"mouseup":case"dragend":sl=!1,kh(y,r,c);break;case"selectionchange":if(_2)break;case"keydown":case"keyup":kh(y,r,c)}var x;if(au)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else rn?bd(t,r)&&(w="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Ld&&r.locale!=="ko"&&(rn||w!=="onCompositionStart"?w==="onCompositionEnd"&&rn&&(x=Od()):(rr=c,ru="value"in rr?rr.value:rr.textContent,rn=!0)),k=Na(u,w),0<k.length&&(w=new gh(w,t,null,r,c),y.push({event:w,listeners:k}),x?w.data=x:(x=Dd(r),x!==null&&(w.data=x)))),(x=s2?l2(t,r):u2(t,r))&&(u=Na(u,"onBeforeInput"),0<u.length&&(c=new gh("onBeforeInput","beforeinput",null,r,c),y.push({event:c,listeners:u}),c.data=x))}Yd(y,e)})}function yi(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Na(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ci(t,r),a!=null&&n.unshift(yi(t,a,i)),a=ci(t,e),a!=null&&n.push(yi(t,a,i))),t=t.return}return n}function Qr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xh(t,e,r,n,i){for(var a=e._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=ci(r,a),l!=null&&o.unshift(yi(r,l,s))):i||(l=ci(r,a),l!=null&&o.push(yi(r,l,s)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var k2=/\r\n?/g,E2=/\u0000|\uFFFD/g;function Th(t){return(typeof t=="string"?t:""+t).replace(k2,`
`).replace(E2,"")}function Xi(t,e,r){if(e=Th(e),Th(t)!==e&&r)throw Error(R(425))}function Fa(){}var ll=null,ul=null;function hl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cl=typeof setTimeout=="function"?setTimeout:void 0,P2=typeof clearTimeout=="function"?clearTimeout:void 0,Nh=typeof Promise=="function"?Promise:void 0,x2=typeof queueMicrotask=="function"?queueMicrotask:typeof Nh<"u"?function(t){return Nh.resolve(null).then(t).catch(T2)}:cl;function T2(t){setTimeout(function(){throw t})}function Ss(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),gi(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);gi(e)}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Mn=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Mn,_i="__reactProps$"+Mn,zt="__reactContainer$"+Mn,dl="__reactEvents$"+Mn,N2="__reactListeners$"+Mn,F2="__reactHandles$"+Mn;function Tr(t){var e=t[Pt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[zt]||r[Pt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Fh(t);t!==null;){if(r=t[Pt])return r;t=Fh(t)}return e}t=r,r=t.parentNode}return null}function Mi(t){return t=t[Pt]||t[zt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function on(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function eo(t){return t[_i]||null}var fl=[],sn=-1;function vr(t){return{current:t}}function ue(t){0>sn||(t.current=fl[sn],fl[sn]=null,sn--)}function oe(t,e){sn++,fl[sn]=t.current,t.current=e}var fr={},Ie=vr(fr),We=vr(!1),Ar=fr;function Sn(t,e){var r=t.type.contextTypes;if(!r)return fr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ke(t){return t=t.childContextTypes,t!=null}function Ra(){ue(We),ue(Ie)}function Rh(t,e,r){if(Ie.current!==fr)throw Error(R(168));oe(Ie,e),oe(We,r)}function Qd(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(R(108,f1(t)||"Unknown",i));return pe({},r,n)}function Ma(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fr,Ar=Ie.current,oe(Ie,t),oe(We,We.current),!0}function Mh(t,e,r){var n=t.stateNode;if(!n)throw Error(R(169));r?(t=Qd(t,e,Ar),n.__reactInternalMemoizedMergedChildContext=t,ue(We),ue(Ie),oe(Ie,t)):ue(We),oe(We,r)}var Lt=null,to=!1,ws=!1;function qd(t){Lt===null?Lt=[t]:Lt.push(t)}function R2(t){to=!0,qd(t)}function mr(){if(!ws&&Lt!==null){ws=!0;var t=0,e=te;try{var r=Lt;for(te=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Lt=null,to=!1}catch(i){throw Lt!==null&&(Lt=Lt.slice(t+1)),Cd(Zl,mr),i}finally{te=e,ws=!1}}return null}var ln=[],un=0,Aa=null,Oa=0,ot=[],st=0,Or=null,bt=1,Dt="";function Pr(t,e){ln[un++]=Oa,ln[un++]=Aa,Aa=t,Oa=e}function Zd(t,e,r){ot[st++]=bt,ot[st++]=Dt,ot[st++]=Or,Or=t;var n=bt;t=Dt;var i=32-yt(n)-1;n&=~(1<<i),r+=1;var a=32-yt(e)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,bt=1<<32-yt(e)+i|r<<i|n,Dt=a+t}else bt=1<<a|r<<i|n,Dt=t}function su(t){t.return!==null&&(Pr(t,1),Zd(t,1,0))}function lu(t){for(;t===Aa;)Aa=ln[--un],ln[un]=null,Oa=ln[--un],ln[un]=null;for(;t===Or;)Or=ot[--st],ot[st]=null,Dt=ot[--st],ot[st]=null,bt=ot[--st],ot[st]=null}var Je=null,Ze=null,ce=!1,mt=null;function Jd(t,e){var r=lt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Ah(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Je=t,Ze=sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Je=t,Ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Or!==null?{id:bt,overflow:Dt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=lt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Je=t,Ze=null,!0):!1;default:return!1}}function gl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pl(t){if(ce){var e=Ze;if(e){var r=e;if(!Ah(t,e)){if(gl(t))throw Error(R(418));e=sr(r.nextSibling);var n=Je;e&&Ah(t,e)?Jd(n,r):(t.flags=t.flags&-4097|2,ce=!1,Je=t)}}else{if(gl(t))throw Error(R(418));t.flags=t.flags&-4097|2,ce=!1,Je=t}}}function Oh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Je=t}function Qi(t){if(t!==Je)return!1;if(!ce)return Oh(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hl(t.type,t.memoizedProps)),e&&(e=Ze)){if(gl(t))throw e0(),Error(R(418));for(;e;)Jd(t,e),e=sr(e.nextSibling)}if(Oh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ze=sr(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ze=null}}else Ze=Je?sr(t.stateNode.nextSibling):null;return!0}function e0(){for(var t=Ze;t;)t=sr(t.nextSibling)}function wn(){Ze=Je=null,ce=!1}function uu(t){mt===null?mt=[t]:mt.push(t)}var M2=$t.ReactCurrentBatchConfig;function pt(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var La=vr(null),ba=null,hn=null,hu=null;function cu(){hu=hn=ba=null}function du(t){var e=La.current;ue(La),t._currentValue=e}function vl(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function mn(t,e){ba=t,hu=hn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function ht(t){var e=t._currentValue;if(hu!==t)if(t={context:t,memoizedValue:e,next:null},hn===null){if(ba===null)throw Error(R(308));hn=t,ba.dependencies={lanes:0,firstContext:t}}else hn=hn.next=t;return e}var Nr=null;function fu(t){Nr===null?Nr=[t]:Nr.push(t)}function t0(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,fu(e)):(r.next=i.next,i.next=r),e.interleaved=r,Vt(t,n)}function Vt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Jt=!1;function gu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lr(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Z&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Vt(t,r)}return i=n.interleaved,i===null?(e.next=e,fu(n)):(e.next=i.next,i.next=e),n.interleaved=e,Vt(t,r)}function da(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jl(t,r)}}function Lh(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Da(t,e,r,n){var i=t.updateQueue;Jt=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var y=i.baseState;o=0,c=u=l=null,s=a;do{var f=s.lane,g=s.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var d=t,_=s;switch(f=e,g=r,_.tag){case 1:if(d=_.payload,typeof d=="function"){y=d.call(g,y,f);break e}y=d;break e;case 3:d.flags=d.flags&-65537|128;case 0:if(d=_.payload,f=typeof d=="function"?d.call(g,y,f):d,f==null)break e;y=pe({},y,f);break e;case 2:Jt=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[s]:f.push(s))}else g={eventTime:g,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=y):c=c.next=g,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;f=s,s=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=y),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);br|=o,t.lanes=o,t.memoizedState=y}}function bh(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(R(191,i));i.call(n)}}}var n0=new td.Component().refs;function ml(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ro={isMounted:function(t){return(t=t._reactInternals)?Ur(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ve(),i=hr(t),a=Gt(n,i);a.payload=e,r!=null&&(a.callback=r),e=lr(t,a,i),e!==null&&(_t(e,t,i,n),da(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ve(),i=hr(t),a=Gt(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),e=lr(t,a,i),e!==null&&(_t(e,t,i,n),da(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ve(),n=hr(t),i=Gt(r,n);i.tag=2,e!=null&&(i.callback=e),e=lr(t,i,n),e!==null&&(_t(e,t,n,r),da(e,t,n))}};function Dh(t,e,r,n,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,o):e.prototype&&e.prototype.isPureReactComponent?!vi(r,n)||!vi(i,a):!0}function i0(t,e,r){var n=!1,i=fr,a=e.contextType;return typeof a=="object"&&a!==null?a=ht(a):(i=Ke(e)?Ar:Ie.current,n=e.contextTypes,a=(n=n!=null)?Sn(t,i):fr),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ro,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Gh(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ro.enqueueReplaceState(e,e.state,null)}function yl(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=n0,gu(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=ht(a):(a=Ke(e)?Ar:Ie.current,i.context=Sn(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(ml(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ro.enqueueReplaceState(i,i.state,null),Da(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $n(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,t));var i=n,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;s===n0&&(s=i.refs={}),o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,t))}return t}function qi(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ih(t){var e=t._init;return e(t._payload)}function a0(t){function e(m,v){if(t){var h=m.deletions;h===null?(m.deletions=[v],m.flags|=16):h.push(v)}}function r(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function n(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=cr(m,v),m.index=0,m.sibling=null,m}function a(m,v,h){return m.index=h,t?(h=m.alternate,h!==null?(h=h.index,h<v?(m.flags|=2,v):h):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function s(m,v,h,p){return v===null||v.tag!==6?(v=Ns(h,m.mode,p),v.return=m,v):(v=i(v,h),v.return=m,v)}function l(m,v,h,p){var S=h.type;return S===tn?c(m,v,h.props.children,p,h.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zt&&Ih(S)===v.type)?(p=i(v,h.props),p.ref=$n(m,v,h),p.return=m,p):(p=ya(h.type,h.key,h.props,null,m.mode,p),p.ref=$n(m,v,h),p.return=m,p)}function u(m,v,h,p){return v===null||v.tag!==4||v.stateNode.containerInfo!==h.containerInfo||v.stateNode.implementation!==h.implementation?(v=Fs(h,m.mode,p),v.return=m,v):(v=i(v,h.children||[]),v.return=m,v)}function c(m,v,h,p,S){return v===null||v.tag!==7?(v=Mr(h,m.mode,p,S),v.return=m,v):(v=i(v,h),v.return=m,v)}function y(m,v,h){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ns(""+v,m.mode,h),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case zi:return h=ya(v.type,v.key,v.props,null,m.mode,h),h.ref=$n(m,null,v),h.return=m,h;case en:return v=Fs(v,m.mode,h),v.return=m,v;case Zt:var p=v._init;return y(m,p(v._payload),h)}if(qn(v)||In(v))return v=Mr(v,m.mode,h,null),v.return=m,v;qi(m,v)}return null}function f(m,v,h,p){var S=v!==null?v.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return S!==null?null:s(m,v,""+h,p);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case zi:return h.key===S?l(m,v,h,p):null;case en:return h.key===S?u(m,v,h,p):null;case Zt:return S=h._init,f(m,v,S(h._payload),p)}if(qn(h)||In(h))return S!==null?null:c(m,v,h,p,null);qi(m,h)}return null}function g(m,v,h,p,S){if(typeof p=="string"&&p!==""||typeof p=="number")return m=m.get(h)||null,s(v,m,""+p,S);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case zi:return m=m.get(p.key===null?h:p.key)||null,l(v,m,p,S);case en:return m=m.get(p.key===null?h:p.key)||null,u(v,m,p,S);case Zt:var k=p._init;return g(m,v,h,k(p._payload),S)}if(qn(p)||In(p))return m=m.get(h)||null,c(v,m,p,S,null);qi(v,p)}return null}function d(m,v,h,p){for(var S=null,k=null,x=v,w=v=0,T=null;x!==null&&w<h.length;w++){x.index>w?(T=x,x=null):T=x.sibling;var E=f(m,x,h[w],p);if(E===null){x===null&&(x=T);break}t&&x&&E.alternate===null&&e(m,x),v=a(E,v,w),k===null?S=E:k.sibling=E,k=E,x=T}if(w===h.length)return r(m,x),ce&&Pr(m,w),S;if(x===null){for(;w<h.length;w++)x=y(m,h[w],p),x!==null&&(v=a(x,v,w),k===null?S=x:k.sibling=x,k=x);return ce&&Pr(m,w),S}for(x=n(m,x);w<h.length;w++)T=g(x,m,w,h[w],p),T!==null&&(t&&T.alternate!==null&&x.delete(T.key===null?w:T.key),v=a(T,v,w),k===null?S=T:k.sibling=T,k=T);return t&&x.forEach(function(N){return e(m,N)}),ce&&Pr(m,w),S}function _(m,v,h,p){var S=In(h);if(typeof S!="function")throw Error(R(150));if(h=S.call(h),h==null)throw Error(R(151));for(var k=S=null,x=v,w=v=0,T=null,E=h.next();x!==null&&!E.done;w++,E=h.next()){x.index>w?(T=x,x=null):T=x.sibling;var N=f(m,x,E.value,p);if(N===null){x===null&&(x=T);break}t&&x&&N.alternate===null&&e(m,x),v=a(N,v,w),k===null?S=N:k.sibling=N,k=N,x=T}if(E.done)return r(m,x),ce&&Pr(m,w),S;if(x===null){for(;!E.done;w++,E=h.next())E=y(m,E.value,p),E!==null&&(v=a(E,v,w),k===null?S=E:k.sibling=E,k=E);return ce&&Pr(m,w),S}for(x=n(m,x);!E.done;w++,E=h.next())E=g(x,m,w,E.value,p),E!==null&&(t&&E.alternate!==null&&x.delete(E.key===null?w:E.key),v=a(E,v,w),k===null?S=E:k.sibling=E,k=E);return t&&x.forEach(function(A){return e(m,A)}),ce&&Pr(m,w),S}function C(m,v,h,p){if(typeof h=="object"&&h!==null&&h.type===tn&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case zi:e:{for(var S=h.key,k=v;k!==null;){if(k.key===S){if(S=h.type,S===tn){if(k.tag===7){r(m,k.sibling),v=i(k,h.props.children),v.return=m,m=v;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Zt&&Ih(S)===k.type){r(m,k.sibling),v=i(k,h.props),v.ref=$n(m,k,h),v.return=m,m=v;break e}r(m,k);break}else e(m,k);k=k.sibling}h.type===tn?(v=Mr(h.props.children,m.mode,p,h.key),v.return=m,m=v):(p=ya(h.type,h.key,h.props,null,m.mode,p),p.ref=$n(m,v,h),p.return=m,m=p)}return o(m);case en:e:{for(k=h.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===h.containerInfo&&v.stateNode.implementation===h.implementation){r(m,v.sibling),v=i(v,h.children||[]),v.return=m,m=v;break e}else{r(m,v);break}else e(m,v);v=v.sibling}v=Fs(h,m.mode,p),v.return=m,m=v}return o(m);case Zt:return k=h._init,C(m,v,k(h._payload),p)}if(qn(h))return d(m,v,h,p);if(In(h))return _(m,v,h,p);qi(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,v!==null&&v.tag===6?(r(m,v.sibling),v=i(v,h),v.return=m,m=v):(r(m,v),v=Ns(h,m.mode,p),v.return=m,m=v),o(m)):r(m,v)}return C}var Cn=a0(!0),o0=a0(!1),Ai={},Nt=vr(Ai),Si=vr(Ai),wi=vr(Ai);function Fr(t){if(t===Ai)throw Error(R(174));return t}function pu(t,e){switch(oe(wi,e),oe(Si,t),oe(Nt,Ai),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qs(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qs(e,t)}ue(Nt),oe(Nt,e)}function kn(){ue(Nt),ue(Si),ue(wi)}function s0(t){Fr(wi.current);var e=Fr(Nt.current),r=Qs(e,t.type);e!==r&&(oe(Si,t),oe(Nt,r))}function vu(t){Si.current===t&&(ue(Nt),ue(Si))}var fe=vr(0);function Ga(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cs=[];function mu(){for(var t=0;t<Cs.length;t++)Cs[t]._workInProgressVersionPrimary=null;Cs.length=0}var fa=$t.ReactCurrentDispatcher,ks=$t.ReactCurrentBatchConfig,Lr=0,ge=null,Pe=null,Re=null,Ia=!1,ai=!1,Ci=0,A2=0;function be(){throw Error(R(321))}function yu(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wt(t[r],e[r]))return!1;return!0}function _u(t,e,r,n,i,a){if(Lr=a,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fa.current=t===null||t.memoizedState===null?D2:G2,t=r(n,i),ai){a=0;do{if(ai=!1,Ci=0,25<=a)throw Error(R(301));a+=1,Re=Pe=null,e.updateQueue=null,fa.current=I2,t=r(n,i)}while(ai)}if(fa.current=Ua,e=Pe!==null&&Pe.next!==null,Lr=0,Re=Pe=ge=null,Ia=!1,e)throw Error(R(300));return t}function Su(){var t=Ci!==0;return Ci=0,t}function Et(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?ge.memoizedState=Re=t:Re=Re.next=t,Re}function ct(){if(Pe===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Re===null?ge.memoizedState:Re.next;if(e!==null)Re=e,Pe=t;else{if(t===null)throw Error(R(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Re===null?ge.memoizedState=Re=t:Re=Re.next=t}return Re}function ki(t,e){return typeof e=="function"?e(t):e}function Es(t){var e=ct(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=Pe,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Lr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var y={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=y,o=n):l=l.next=y,ge.lanes|=c,br|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,wt(n,e.memoizedState)||(je=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do a=i.lane,ge.lanes|=a,br|=a,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Ps(t){var e=ct(),r=e.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);wt(a,e.memoizedState)||(je=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function l0(){}function u0(t,e){var r=ge,n=ct(),i=e(),a=!wt(n.memoizedState,i);if(a&&(n.memoizedState=i,je=!0),n=n.queue,wu(d0.bind(null,r,n,t),[t]),n.getSnapshot!==e||a||Re!==null&&Re.memoizedState.tag&1){if(r.flags|=2048,Ei(9,c0.bind(null,r,n,i,e),void 0,null),Me===null)throw Error(R(349));Lr&30||h0(r,e,i)}return i}function h0(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function c0(t,e,r,n){e.value=r,e.getSnapshot=n,f0(e)&&g0(t)}function d0(t,e,r){return r(function(){f0(e)&&g0(t)})}function f0(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wt(t,r)}catch{return!0}}function g0(t){var e=Vt(t,1);e!==null&&_t(e,t,1,-1)}function Uh(t){var e=Et();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},e.queue=t,t=t.dispatch=b2.bind(null,ge,t),[e.memoizedState,t]}function Ei(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ge.updateQueue,e===null?(e={lastEffect:null,stores:null},ge.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function p0(){return ct().memoizedState}function ga(t,e,r,n){var i=Et();ge.flags|=t,i.memoizedState=Ei(1|e,r,void 0,n===void 0?null:n)}function no(t,e,r,n){var i=ct();n=n===void 0?null:n;var a=void 0;if(Pe!==null){var o=Pe.memoizedState;if(a=o.destroy,n!==null&&yu(n,o.deps)){i.memoizedState=Ei(e,r,a,n);return}}ge.flags|=t,i.memoizedState=Ei(1|e,r,a,n)}function zh(t,e){return ga(8390656,8,t,e)}function wu(t,e){return no(2048,8,t,e)}function v0(t,e){return no(4,2,t,e)}function m0(t,e){return no(4,4,t,e)}function y0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _0(t,e,r){return r=r!=null?r.concat([t]):null,no(4,4,y0.bind(null,e,t),r)}function Cu(){}function S0(t,e){var r=ct();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yu(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function w0(t,e){var r=ct();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&yu(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function C0(t,e,r){return Lr&21?(wt(r,e)||(r=Pd(),ge.lanes|=r,br|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=r)}function O2(t,e){var r=te;te=r!==0&&4>r?r:4,t(!0);var n=ks.transition;ks.transition={};try{t(!1),e()}finally{te=r,ks.transition=n}}function k0(){return ct().memoizedState}function L2(t,e,r){var n=hr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},E0(t))P0(e,r);else if(r=t0(t,e,r,n),r!==null){var i=Ve();_t(r,t,n,i),x0(r,e,n)}}function b2(t,e,r){var n=hr(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(E0(t))P0(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,wt(s,o)){var l=e.interleaved;l===null?(i.next=i,fu(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=t0(t,e,i,n),r!==null&&(i=Ve(),_t(r,t,n,i),x0(r,e,n))}}function E0(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function P0(t,e){ai=Ia=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function x0(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jl(t,r)}}var Ua={readContext:ht,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},D2={readContext:ht,useCallback:function(t,e){return Et().memoizedState=[t,e===void 0?null:e],t},useContext:ht,useEffect:zh,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ga(4194308,4,y0.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ga(4194308,4,t,e)},useInsertionEffect:function(t,e){return ga(4,2,t,e)},useMemo:function(t,e){var r=Et();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Et();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=L2.bind(null,ge,t),[n.memoizedState,t]},useRef:function(t){var e=Et();return t={current:t},e.memoizedState=t},useState:Uh,useDebugValue:Cu,useDeferredValue:function(t){return Et().memoizedState=t},useTransition:function(){var t=Uh(!1),e=t[0];return t=O2.bind(null,t[1]),Et().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ge,i=Et();if(ce){if(r===void 0)throw Error(R(407));r=r()}else{if(r=e(),Me===null)throw Error(R(349));Lr&30||h0(n,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,zh(d0.bind(null,n,a,t),[t]),n.flags|=2048,Ei(9,c0.bind(null,n,a,r,e),void 0,null),r},useId:function(){var t=Et(),e=Me.identifierPrefix;if(ce){var r=Dt,n=bt;r=(n&~(1<<32-yt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Ci++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=A2++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},G2={readContext:ht,useCallback:S0,useContext:ht,useEffect:wu,useImperativeHandle:_0,useInsertionEffect:v0,useLayoutEffect:m0,useMemo:w0,useReducer:Es,useRef:p0,useState:function(){return Es(ki)},useDebugValue:Cu,useDeferredValue:function(t){var e=ct();return C0(e,Pe.memoizedState,t)},useTransition:function(){var t=Es(ki)[0],e=ct().memoizedState;return[t,e]},useMutableSource:l0,useSyncExternalStore:u0,useId:k0,unstable_isNewReconciler:!1},I2={readContext:ht,useCallback:S0,useContext:ht,useEffect:wu,useImperativeHandle:_0,useInsertionEffect:v0,useLayoutEffect:m0,useMemo:w0,useReducer:Ps,useRef:p0,useState:function(){return Ps(ki)},useDebugValue:Cu,useDeferredValue:function(t){var e=ct();return Pe===null?e.memoizedState=t:C0(e,Pe.memoizedState,t)},useTransition:function(){var t=Ps(ki)[0],e=ct().memoizedState;return[t,e]},useMutableSource:l0,useSyncExternalStore:u0,useId:k0,unstable_isNewReconciler:!1};function En(t,e){try{var r="",n=e;do r+=d1(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function xs(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function _l(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var U2=typeof WeakMap=="function"?WeakMap:Map;function T0(t,e,r){r=Gt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Va||(Va=!0,Fl=n),_l(t,e)},r}function N0(t,e,r){r=Gt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){_l(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){_l(t,e),typeof n!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Vh(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new U2;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=J2.bind(null,t,e,r),e.then(t,t))}function Bh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $h(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Gt(-1,1),e.tag=2,lr(r,e,1))),r.lanes|=1),t)}var z2=$t.ReactCurrentOwner,je=!1;function ze(t,e,r,n){e.child=t===null?o0(e,null,r,n):Cn(e,t.child,r,n)}function Hh(t,e,r,n,i){r=r.render;var a=e.ref;return mn(e,i),n=_u(t,e,r,n,a,i),r=Su(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bt(t,e,i)):(ce&&r&&su(e),e.flags|=1,ze(t,e,n,i),e.child)}function jh(t,e,r,n,i){if(t===null){var a=r.type;return typeof a=="function"&&!Ru(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=a,F0(t,e,a,n,i)):(t=ya(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:vi,r(o,n)&&t.ref===e.ref)return Bt(t,e,i)}return e.flags|=1,t=cr(a,n),t.ref=e.ref,t.return=e,e.child=t}function F0(t,e,r,n,i){if(t!==null){var a=t.memoizedProps;if(vi(a,n)&&t.ref===e.ref)if(je=!1,e.pendingProps=n=a,(t.lanes&i)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,Bt(t,e,i)}return Sl(t,e,r,n,i)}function R0(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(dn,Qe),Qe|=r;else{if(!(r&1073741824))return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(dn,Qe),Qe|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,oe(dn,Qe),Qe|=n}else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,oe(dn,Qe),Qe|=n;return ze(t,e,i,r),e.child}function M0(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Sl(t,e,r,n,i){var a=Ke(r)?Ar:Ie.current;return a=Sn(e,a),mn(e,i),r=_u(t,e,r,n,a,i),n=Su(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Bt(t,e,i)):(ce&&n&&su(e),e.flags|=1,ze(t,e,r,i),e.child)}function Wh(t,e,r,n,i){if(Ke(r)){var a=!0;Ma(e)}else a=!1;if(mn(e,i),e.stateNode===null)pa(t,e),i0(e,r,n),yl(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=ht(u):(u=Ke(r)?Ar:Ie.current,u=Sn(e,u));var c=r.getDerivedStateFromProps,y=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&Gh(e,o,n,u),Jt=!1;var f=e.memoizedState;o.state=f,Da(e,n,o,i),l=e.memoizedState,s!==n||f!==l||We.current||Jt?(typeof c=="function"&&(ml(e,r,c,n),l=e.memoizedState),(s=Jt||Dh(e,r,s,n,f,l,u))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,r0(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:pt(e.type,s),o.props=u,y=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=ht(l):(l=Ke(r)?Ar:Ie.current,l=Sn(e,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==y||f!==l)&&Gh(e,o,n,l),Jt=!1,f=e.memoizedState,o.state=f,Da(e,n,o,i);var d=e.memoizedState;s!==y||f!==d||We.current||Jt?(typeof g=="function"&&(ml(e,r,g,n),d=e.memoizedState),(u=Jt||Dh(e,r,u,n,f,d,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,d,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,d,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=d),o.props=n,o.state=d,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return wl(t,e,r,n,a,i)}function wl(t,e,r,n,i,a){M0(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Mh(e,r,!1),Bt(t,e,a);n=e.stateNode,z2.current=e;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Cn(e,t.child,null,a),e.child=Cn(e,null,s,a)):ze(t,e,s,a),e.memoizedState=n.state,i&&Mh(e,r,!0),e.child}function A0(t){var e=t.stateNode;e.pendingContext?Rh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Rh(t,e.context,!1),pu(t,e.containerInfo)}function Kh(t,e,r,n,i){return wn(),uu(i),e.flags|=256,ze(t,e,r,n),e.child}var Cl={dehydrated:null,treeContext:null,retryLane:0};function kl(t){return{baseLanes:t,cachePool:null,transitions:null}}function O0(t,e,r){var n=e.pendingProps,i=fe.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),oe(fe,i&1),t===null)return pl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,a?(n=e.mode,a=e.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=oo(o,n,0,null),t=Mr(t,n,r,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=kl(r),e.memoizedState=Cl,t):ku(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return V2(t,e,o,n,s,i,r);if(a){a=n.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=cr(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=cr(s,a):(a=Mr(a,o,r,null),a.flags|=2),a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,o=t.child.memoizedState,o=o===null?kl(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~r,e.memoizedState=Cl,n}return a=t.child,t=a.sibling,n=cr(a,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ku(t,e){return e=oo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zi(t,e,r,n){return n!==null&&uu(n),Cn(e,t.child,null,r),t=ku(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function V2(t,e,r,n,i,a,o){if(r)return e.flags&256?(e.flags&=-257,n=xs(Error(R(422))),Zi(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=n.fallback,i=e.mode,n=oo({mode:"visible",children:n.children},i,0,null),a=Mr(a,i,o,null),a.flags|=2,n.return=e,a.return=e,n.sibling=a,e.child=n,e.mode&1&&Cn(e,t.child,null,o),e.child.memoizedState=kl(o),e.memoizedState=Cl,a);if(!(e.mode&1))return Zi(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(R(419)),n=xs(a,n,void 0),Zi(t,e,o,n)}if(s=(o&t.childLanes)!==0,je||s){if(n=Me,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Vt(t,i),_t(n,t,i,-1))}return Fu(),n=xs(Error(R(421))),Zi(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eg.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Ze=sr(i.nextSibling),Je=e,ce=!0,mt=null,t!==null&&(ot[st++]=bt,ot[st++]=Dt,ot[st++]=Or,bt=t.id,Dt=t.overflow,Or=e),e=ku(e,n.children),e.flags|=4096,e)}function Yh(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vl(t.return,e,r)}function Ts(t,e,r,n,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function L0(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(ze(t,e,n.children,r),n=fe.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yh(t,r,e);else if(t.tag===19)Yh(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(oe(fe,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ga(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Ts(e,!1,i,r,a);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ga(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Ts(e,!0,r,null,a);break;case"together":Ts(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Bt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),br|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,r=cr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function B2(t,e,r){switch(e.tag){case 3:A0(e),wn();break;case 5:s0(e);break;case 1:Ke(e.type)&&Ma(e);break;case 4:pu(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;oe(La,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(oe(fe,fe.current&1),e.flags|=128,null):r&e.child.childLanes?O0(t,e,r):(oe(fe,fe.current&1),t=Bt(t,e,r),t!==null?t.sibling:null);oe(fe,fe.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return L0(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(fe,fe.current),n)break;return null;case 22:case 23:return e.lanes=0,R0(t,e,r)}return Bt(t,e,r)}var b0,El,D0,G0;b0=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};El=function(){};D0=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Fr(Nt.current);var a=null;switch(r){case"input":i=Ws(t,i),n=Ws(t,n),a=[];break;case"select":i=pe({},i,{value:void 0}),n=pe({},n,{value:void 0}),a=[];break;case"textarea":i=Xs(t,i),n=Xs(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Fa)}qs(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ui.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ui.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&le("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};G0=function(t,e,r,n){r!==n&&(e.flags|=4)};function Hn(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $2(t,e,r){var n=e.pendingProps;switch(lu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return Ke(e.type)&&Ra(),De(e),null;case 3:return n=e.stateNode,kn(),ue(We),ue(Ie),mu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Qi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mt!==null&&(Al(mt),mt=null))),El(t,e),De(e),null;case 5:vu(e);var i=Fr(wi.current);if(r=e.type,t!==null&&e.stateNode!=null)D0(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(R(166));return De(e),null}if(t=Fr(Nt.current),Qi(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Pt]=e,n[_i]=a,t=(e.mode&1)!==0,r){case"dialog":le("cancel",n),le("close",n);break;case"iframe":case"object":case"embed":le("load",n);break;case"video":case"audio":for(i=0;i<Jn.length;i++)le(Jn[i],n);break;case"source":le("error",n);break;case"img":case"image":case"link":le("error",n),le("load",n);break;case"details":le("toggle",n);break;case"input":nh(n,a),le("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},le("invalid",n);break;case"textarea":ah(n,a),le("invalid",n)}qs(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Xi(n.textContent,s,t),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Xi(n.textContent,s,t),i=["children",""+s]):ui.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&le("scroll",n)}switch(r){case"input":Vi(n),ih(n,a,!0);break;case"textarea":Vi(n),oh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Fa)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Pt]=e,t[_i]=n,b0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zs(r,n),r){case"dialog":le("cancel",t),le("close",t),i=n;break;case"iframe":case"object":case"embed":le("load",t),i=n;break;case"video":case"audio":for(i=0;i<Jn.length;i++)le(Jn[i],t);i=n;break;case"source":le("error",t),i=n;break;case"img":case"image":case"link":le("error",t),le("load",t),i=n;break;case"details":le("toggle",t),i=n;break;case"input":nh(t,n),i=Ws(t,n),le("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pe({},n,{value:void 0}),le("invalid",t);break;case"textarea":ah(t,n),i=Xs(t,n),le("invalid",t);break;default:i=n}qs(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?fd(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cd(t,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&hi(t,l):typeof l=="number"&&hi(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ui.hasOwnProperty(a)?l!=null&&a==="onScroll"&&le("scroll",t):l!=null&&Kl(t,a,l,o))}switch(r){case"input":Vi(t),ih(t,n,!1);break;case"textarea":Vi(t),oh(t);break;case"option":n.value!=null&&t.setAttribute("value",""+dr(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?fn(t,!!n.multiple,a,!1):n.defaultValue!=null&&fn(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return De(e),null;case 6:if(t&&e.stateNode!=null)G0(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(R(166));if(r=Fr(wi.current),Fr(Nt.current),Qi(e)){if(n=e.stateNode,r=e.memoizedProps,n[Pt]=e,(a=n.nodeValue!==r)&&(t=Je,t!==null))switch(t.tag){case 3:Xi(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xi(n.nodeValue,r,(t.mode&1)!==0)}a&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Pt]=e,e.stateNode=n}return De(e),null;case 13:if(ue(fe),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&Ze!==null&&e.mode&1&&!(e.flags&128))e0(),wn(),e.flags|=98560,a=!1;else if(a=Qi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!a)throw Error(R(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[Pt]=e}else wn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),a=!1}else mt!==null&&(Al(mt),mt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?xe===0&&(xe=3):Fu())),e.updateQueue!==null&&(e.flags|=4),De(e),null);case 4:return kn(),El(t,e),t===null&&mi(e.stateNode.containerInfo),De(e),null;case 10:return du(e.type._context),De(e),null;case 17:return Ke(e.type)&&Ra(),De(e),null;case 19:if(ue(fe),a=e.memoizedState,a===null)return De(e),null;if(n=(e.flags&128)!==0,o=a.rendering,o===null)if(n)Hn(a,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ga(t),o!==null){for(e.flags|=128,Hn(a,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return oe(fe,fe.current&1|2),e.child}t=t.sibling}a.tail!==null&&we()>Pn&&(e.flags|=128,n=!0,Hn(a,!1),e.lanes=4194304)}else{if(!n)if(t=Ga(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Hn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ce)return De(e),null}else 2*we()-a.renderingStartTime>Pn&&r!==1073741824&&(e.flags|=128,n=!0,Hn(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(r=a.last,r!==null?r.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=we(),e.sibling=null,r=fe.current,oe(fe,n?r&1|2:r&1),e):(De(e),null);case 22:case 23:return Nu(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Qe&1073741824&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function H2(t,e){switch(lu(e),e.tag){case 1:return Ke(e.type)&&Ra(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kn(),ue(We),ue(Ie),mu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return vu(e),null;case 13:if(ue(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));wn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(fe),null;case 4:return kn(),null;case 10:return du(e.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var Ji=!1,Ge=!1,j2=typeof WeakSet=="function"?WeakSet:Set,D=null;function cn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){me(t,e,n)}else r.current=null}function Pl(t,e,r){try{r()}catch(n){me(t,e,n)}}var Xh=!1;function W2(t,e){if(ll=xa,t=Vd(),ou(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,y=t,f=null;t:for(;;){for(var g;y!==r||i!==0&&y.nodeType!==3||(s=o+i),y!==a||n!==0&&y.nodeType!==3||(l=o+n),y.nodeType===3&&(o+=y.nodeValue.length),(g=y.firstChild)!==null;)f=y,y=g;for(;;){if(y===t)break t;if(f===r&&++u===i&&(s=o),f===a&&++c===n&&(l=o),(g=y.nextSibling)!==null)break;y=f,f=y.parentNode}y=g}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ul={focusedElem:t,selectionRange:r},xa=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var d=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(d!==null){var _=d.memoizedProps,C=d.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:pt(e.type,_),C);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var h=e.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(p){me(e,e.return,p)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return d=Xh,Xh=!1,d}function oi(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&Pl(e,r,a)}i=i.next}while(i!==n)}}function io(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function xl(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function I0(t){var e=t.alternate;e!==null&&(t.alternate=null,I0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pt],delete e[_i],delete e[dl],delete e[N2],delete e[F2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U0(t){return t.tag===5||t.tag===3||t.tag===4}function Qh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Fa));else if(n!==4&&(t=t.child,t!==null))for(Tl(t,e,r),t=t.sibling;t!==null;)Tl(t,e,r),t=t.sibling}function Nl(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Nl(t,e,r),t=t.sibling;t!==null;)Nl(t,e,r),t=t.sibling}var Ae=null,vt=!1;function Xt(t,e,r){for(r=r.child;r!==null;)z0(t,e,r),r=r.sibling}function z0(t,e,r){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Qa,r)}catch{}switch(r.tag){case 5:Ge||cn(r,e);case 6:var n=Ae,i=vt;Ae=null,Xt(t,e,r),Ae=n,vt=i,Ae!==null&&(vt?(t=Ae,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ae.removeChild(r.stateNode));break;case 18:Ae!==null&&(vt?(t=Ae,r=r.stateNode,t.nodeType===8?Ss(t.parentNode,r):t.nodeType===1&&Ss(t,r),gi(t)):Ss(Ae,r.stateNode));break;case 4:n=Ae,i=vt,Ae=r.stateNode.containerInfo,vt=!0,Xt(t,e,r),Ae=n,vt=i;break;case 0:case 11:case 14:case 15:if(!Ge&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Pl(r,e,o),i=i.next}while(i!==n)}Xt(t,e,r);break;case 1:if(!Ge&&(cn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){me(r,e,s)}Xt(t,e,r);break;case 21:Xt(t,e,r);break;case 22:r.mode&1?(Ge=(n=Ge)||r.memoizedState!==null,Xt(t,e,r),Ge=n):Xt(t,e,r);break;default:Xt(t,e,r)}}function qh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new j2),e.forEach(function(n){var i=tg.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ft(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Ae=s.stateNode,vt=!1;break e;case 3:Ae=s.stateNode.containerInfo,vt=!0;break e;case 4:Ae=s.stateNode.containerInfo,vt=!0;break e}s=s.return}if(Ae===null)throw Error(R(160));z0(a,o,i),Ae=null,vt=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){me(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)V0(e,t),e=e.sibling}function V0(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ft(e,t),kt(t),n&4){try{oi(3,t,t.return),io(3,t)}catch(_){me(t,t.return,_)}try{oi(5,t,t.return)}catch(_){me(t,t.return,_)}}break;case 1:ft(e,t),kt(t),n&512&&r!==null&&cn(r,r.return);break;case 5:if(ft(e,t),kt(t),n&512&&r!==null&&cn(r,r.return),t.flags&32){var i=t.stateNode;try{hi(i,"")}catch(_){me(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=r!==null?r.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&ld(i,a),Zs(s,o);var u=Zs(s,a);for(o=0;o<l.length;o+=2){var c=l[o],y=l[o+1];c==="style"?fd(i,y):c==="dangerouslySetInnerHTML"?cd(i,y):c==="children"?hi(i,y):Kl(i,c,y,u)}switch(s){case"input":Ks(i,a);break;case"textarea":ud(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var g=a.value;g!=null?fn(i,!!a.multiple,g,!1):f!==!!a.multiple&&(a.defaultValue!=null?fn(i,!!a.multiple,a.defaultValue,!0):fn(i,!!a.multiple,a.multiple?[]:"",!1))}i[_i]=a}catch(_){me(t,t.return,_)}}break;case 6:if(ft(e,t),kt(t),n&4){if(t.stateNode===null)throw Error(R(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(_){me(t,t.return,_)}}break;case 3:if(ft(e,t),kt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{gi(e.containerInfo)}catch(_){me(t,t.return,_)}break;case 4:ft(e,t),kt(t);break;case 13:ft(e,t),kt(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(xu=we())),n&4&&qh(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Ge=(u=Ge)||c,ft(e,t),Ge=u):ft(e,t),kt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(y=D=c;D!==null;){switch(f=D,g=f.child,f.tag){case 0:case 11:case 14:case 15:oi(4,f,f.return);break;case 1:cn(f,f.return);var d=f.stateNode;if(typeof d.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,d.props=e.memoizedProps,d.state=e.memoizedState,d.componentWillUnmount()}catch(_){me(n,r,_)}}break;case 5:cn(f,f.return);break;case 22:if(f.memoizedState!==null){Jh(y);continue}}g!==null?(g.return=f,D=g):Jh(y)}c=c.sibling}e:for(c=null,y=t;;){if(y.tag===5){if(c===null){c=y;try{i=y.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=y.stateNode,l=y.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=dd("display",o))}catch(_){me(t,t.return,_)}}}else if(y.tag===6){if(c===null)try{y.stateNode.nodeValue=u?"":y.memoizedProps}catch(_){me(t,t.return,_)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;c===y&&(c=null),y=y.return}c===y&&(c=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:ft(e,t),kt(t),n&4&&qh(t);break;case 21:break;default:ft(e,t),kt(t)}}function kt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(U0(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(hi(i,""),n.flags&=-33);var a=Qh(t);Nl(t,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Qh(t);Tl(t,s,o);break;default:throw Error(R(161))}}catch(l){me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K2(t,e,r){D=t,B0(t)}function B0(t,e,r){for(var n=(t.mode&1)!==0;D!==null;){var i=D,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ji;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Ge;s=Ji;var u=Ge;if(Ji=o,(Ge=l)&&!u)for(D=i;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?ec(i):l!==null?(l.return=o,D=l):ec(i);for(;a!==null;)D=a,B0(a),a=a.sibling;D=i,Ji=s,Ge=u}Zh(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,D=a):Zh(t)}}function Zh(t){for(;D!==null;){var e=D;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ge||io(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ge)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:pt(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&bh(e,a,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}bh(e,o,r)}break;case 5:var s=e.stateNode;if(r===null&&e.flags&4){r=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var y=c.dehydrated;y!==null&&gi(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ge||e.flags&512&&xl(e)}catch(f){me(e,e.return,f)}}if(e===t){D=null;break}if(r=e.sibling,r!==null){r.return=e.return,D=r;break}D=e.return}}function Jh(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var r=e.sibling;if(r!==null){r.return=e.return,D=r;break}D=e.return}}function ec(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{io(4,e)}catch(l){me(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){me(e,i,l)}}var a=e.return;try{xl(e)}catch(l){me(e,a,l)}break;case 5:var o=e.return;try{xl(e)}catch(l){me(e,o,l)}}}catch(l){me(e,e.return,l)}if(e===t){D=null;break}var s=e.sibling;if(s!==null){s.return=e.return,D=s;break}D=e.return}}var Y2=Math.ceil,za=$t.ReactCurrentDispatcher,Eu=$t.ReactCurrentOwner,ut=$t.ReactCurrentBatchConfig,Z=0,Me=null,ke=null,Oe=0,Qe=0,dn=vr(0),xe=0,Pi=null,br=0,ao=0,Pu=0,si=null,He=null,xu=0,Pn=1/0,Ot=null,Va=!1,Fl=null,ur=null,ea=!1,nr=null,Ba=0,li=0,Rl=null,va=-1,ma=0;function Ve(){return Z&6?we():va!==-1?va:va=we()}function hr(t){return t.mode&1?Z&2&&Oe!==0?Oe&-Oe:M2.transition!==null?(ma===0&&(ma=Pd()),ma):(t=te,t!==0||(t=window.event,t=t===void 0?16:Ad(t.type)),t):1}function _t(t,e,r,n){if(50<li)throw li=0,Rl=null,Error(R(185));Fi(t,r,n),(!(Z&2)||t!==Me)&&(t===Me&&(!(Z&2)&&(ao|=r),xe===4&&tr(t,Oe)),Ye(t,n),r===1&&Z===0&&!(e.mode&1)&&(Pn=we()+500,to&&mr()))}function Ye(t,e){var r=t.callbackNode;M1(t,e);var n=Pa(t,t===Me?Oe:0);if(n===0)r!==null&&uh(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&uh(r),e===1)t.tag===0?R2(tc.bind(null,t)):qd(tc.bind(null,t)),x2(function(){!(Z&6)&&mr()}),r=null;else{switch(xd(n)){case 1:r=Zl;break;case 4:r=kd;break;case 16:r=Ea;break;case 536870912:r=Ed;break;default:r=Ea}r=Q0(r,$0.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $0(t,e){if(va=-1,ma=0,Z&6)throw Error(R(327));var r=t.callbackNode;if(yn()&&t.callbackNode!==r)return null;var n=Pa(t,t===Me?Oe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=$a(t,n);else{e=n;var i=Z;Z|=2;var a=j0();(Me!==t||Oe!==e)&&(Ot=null,Pn=we()+500,Rr(t,e));do try{q2();break}catch(s){H0(t,s)}while(!0);cu(),za.current=a,Z=i,ke!==null?e=0:(Me=null,Oe=0,e=xe)}if(e!==0){if(e===2&&(i=nl(t),i!==0&&(n=i,e=Ml(t,i))),e===1)throw r=Pi,Rr(t,0),tr(t,n),Ye(t,we()),r;if(e===6)tr(t,n);else{if(i=t.current.alternate,!(n&30)&&!X2(i)&&(e=$a(t,n),e===2&&(a=nl(t),a!==0&&(n=a,e=Ml(t,a))),e===1))throw r=Pi,Rr(t,0),tr(t,n),Ye(t,we()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(R(345));case 2:xr(t,He,Ot);break;case 3:if(tr(t,n),(n&130023424)===n&&(e=xu+500-we(),10<e)){if(Pa(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Ve(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cl(xr.bind(null,t,He,Ot),e);break}xr(t,He,Ot);break;case 4:if(tr(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-yt(n);a=1<<o,o=e[o],o>i&&(i=o),n&=~a}if(n=i,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Y2(n/1960))-n,10<n){t.timeoutHandle=cl(xr.bind(null,t,He,Ot),n);break}xr(t,He,Ot);break;case 5:xr(t,He,Ot);break;default:throw Error(R(329))}}}return Ye(t,we()),t.callbackNode===r?$0.bind(null,t):null}function Ml(t,e){var r=si;return t.current.memoizedState.isDehydrated&&(Rr(t,e).flags|=256),t=$a(t,e),t!==2&&(e=He,He=r,e!==null&&Al(e)),t}function Al(t){He===null?He=t:He.push.apply(He,t)}function X2(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!wt(a(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function tr(t,e){for(e&=~Pu,e&=~ao,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-yt(e),n=1<<r;t[r]=-1,e&=~n}}function tc(t){if(Z&6)throw Error(R(327));yn();var e=Pa(t,0);if(!(e&1))return Ye(t,we()),null;var r=$a(t,e);if(t.tag!==0&&r===2){var n=nl(t);n!==0&&(e=n,r=Ml(t,n))}if(r===1)throw r=Pi,Rr(t,0),tr(t,e),Ye(t,we()),r;if(r===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xr(t,He,Ot),Ye(t,we()),null}function Tu(t,e){var r=Z;Z|=1;try{return t(e)}finally{Z=r,Z===0&&(Pn=we()+500,to&&mr())}}function Dr(t){nr!==null&&nr.tag===0&&!(Z&6)&&yn();var e=Z;Z|=1;var r=ut.transition,n=te;try{if(ut.transition=null,te=1,t)return t()}finally{te=n,ut.transition=r,Z=e,!(Z&6)&&mr()}}function Nu(){Qe=dn.current,ue(dn)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,P2(r)),ke!==null)for(r=ke.return;r!==null;){var n=r;switch(lu(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ra();break;case 3:kn(),ue(We),ue(Ie),mu();break;case 5:vu(n);break;case 4:kn();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:du(n.type._context);break;case 22:case 23:Nu()}r=r.return}if(Me=t,ke=t=cr(t.current,null),Oe=Qe=e,xe=0,Pi=null,Pu=ao=br=0,He=si=null,Nr!==null){for(e=0;e<Nr.length;e++)if(r=Nr[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Nr=null}return t}function H0(t,e){do{var r=ke;try{if(cu(),fa.current=Ua,Ia){for(var n=ge.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ia=!1}if(Lr=0,Re=Pe=ge=null,ai=!1,Ci=0,Eu.current=null,r===null||r.return===null){xe=1,Pi=e,ke=null;break}e:{var a=t,o=r.return,s=r,l=e;if(e=Oe,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,y=c.tag;if(!(c.mode&1)&&(y===0||y===11||y===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=Bh(o);if(g!==null){g.flags&=-257,$h(g,o,s,a,e),g.mode&1&&Vh(a,u,e),e=g,l=u;var d=e.updateQueue;if(d===null){var _=new Set;_.add(l),e.updateQueue=_}else d.add(l);break e}else{if(!(e&1)){Vh(a,u,e),Fu();break e}l=Error(R(426))}}else if(ce&&s.mode&1){var C=Bh(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),$h(C,o,s,a,e),uu(En(l,s));break e}}a=l=En(l,s),xe!==4&&(xe=2),si===null?si=[a]:si.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var m=T0(a,l,e);Lh(a,m);break e;case 1:s=l;var v=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ur===null||!ur.has(h)))){a.flags|=65536,e&=-e,a.lanes|=e;var p=N0(a,s,e);Lh(a,p);break e}}a=a.return}while(a!==null)}K0(r)}catch(S){e=S,ke===r&&r!==null&&(ke=r=r.return);continue}break}while(!0)}function j0(){var t=za.current;return za.current=Ua,t===null?Ua:t}function Fu(){(xe===0||xe===3||xe===2)&&(xe=4),Me===null||!(br&268435455)&&!(ao&268435455)||tr(Me,Oe)}function $a(t,e){var r=Z;Z|=2;var n=j0();(Me!==t||Oe!==e)&&(Ot=null,Rr(t,e));do try{Q2();break}catch(i){H0(t,i)}while(!0);if(cu(),Z=r,za.current=n,ke!==null)throw Error(R(261));return Me=null,Oe=0,xe}function Q2(){for(;ke!==null;)W0(ke)}function q2(){for(;ke!==null&&!C1();)W0(ke)}function W0(t){var e=X0(t.alternate,t,Qe);t.memoizedProps=t.pendingProps,e===null?K0(t):ke=e,Eu.current=null}function K0(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=H2(r,e),r!==null){r.flags&=32767,ke=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,ke=null;return}}else if(r=$2(r,e,Qe),r!==null){ke=r;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);xe===0&&(xe=5)}function xr(t,e,r){var n=te,i=ut.transition;try{ut.transition=null,te=1,Z2(t,e,r,n)}finally{ut.transition=i,te=n}return null}function Z2(t,e,r,n){do yn();while(nr!==null);if(Z&6)throw Error(R(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var a=r.lanes|r.childLanes;if(A1(t,a),t===Me&&(ke=Me=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ea||(ea=!0,Q0(Ea,function(){return yn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=ut.transition,ut.transition=null;var o=te;te=1;var s=Z;Z|=4,Eu.current=null,W2(t,r),V0(r,t),y2(ul),xa=!!ll,ul=ll=null,t.current=r,K2(r),k1(),Z=s,te=o,ut.transition=a}else t.current=r;if(ea&&(ea=!1,nr=t,Ba=i),a=t.pendingLanes,a===0&&(ur=null),x1(r.stateNode),Ye(t,we()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Va)throw Va=!1,t=Fl,Fl=null,t;return Ba&1&&t.tag!==0&&yn(),a=t.pendingLanes,a&1?t===Rl?li++:(li=0,Rl=t):li=0,mr(),null}function yn(){if(nr!==null){var t=xd(Ba),e=ut.transition,r=te;try{if(ut.transition=null,te=16>t?16:t,nr===null)var n=!1;else{if(t=nr,nr=null,Ba=0,Z&6)throw Error(R(331));var i=Z;for(Z|=4,D=t.current;D!==null;){var a=D,o=a.child;if(D.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:oi(8,c,a)}var y=c.child;if(y!==null)y.return=c,D=y;else for(;D!==null;){c=D;var f=c.sibling,g=c.return;if(I0(c),c===u){D=null;break}if(f!==null){f.return=g,D=f;break}D=g}}}var d=a.alternate;if(d!==null){var _=d.child;if(_!==null){d.child=null;do{var C=_.sibling;_.sibling=null,_=C}while(_!==null)}}D=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,D=o;else e:for(;D!==null;){if(a=D,a.flags&2048)switch(a.tag){case 0:case 11:case 15:oi(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,D=m;break e}D=a.return}}var v=t.current;for(D=v;D!==null;){o=D;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,D=h;else e:for(o=v;D!==null;){if(s=D,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:io(9,s)}}catch(S){me(s,s.return,S)}if(s===o){D=null;break e}var p=s.sibling;if(p!==null){p.return=s.return,D=p;break e}D=s.return}}if(Z=i,mr(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Qa,t)}catch{}n=!0}return n}finally{te=r,ut.transition=e}}return!1}function rc(t,e,r){e=En(r,e),e=T0(t,e,1),t=lr(t,e,1),e=Ve(),t!==null&&(Fi(t,1,e),Ye(t,e))}function me(t,e,r){if(t.tag===3)rc(t,t,r);else for(;e!==null;){if(e.tag===3){rc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ur===null||!ur.has(n))){t=En(r,t),t=N0(e,t,1),e=lr(e,t,1),t=Ve(),e!==null&&(Fi(e,1,t),Ye(e,t));break}}e=e.return}}function J2(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&r,Me===t&&(Oe&r)===r&&(xe===4||xe===3&&(Oe&130023424)===Oe&&500>we()-xu?Rr(t,0):Pu|=r),Ye(t,e)}function Y0(t,e){e===0&&(t.mode&1?(e=Hi,Hi<<=1,!(Hi&130023424)&&(Hi=4194304)):e=1);var r=Ve();t=Vt(t,e),t!==null&&(Fi(t,e,r),Ye(t,r))}function eg(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Y0(t,r)}function tg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(e),Y0(t,r)}var X0;X0=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||We.current)je=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return je=!1,B2(t,e,r);je=!!(t.flags&131072)}else je=!1,ce&&e.flags&1048576&&Zd(e,Oa,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;pa(t,e),t=e.pendingProps;var i=Sn(e,Ie.current);mn(e,r),i=_u(null,e,n,t,i,r);var a=Su();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ke(n)?(a=!0,Ma(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gu(e),i.updater=ro,e.stateNode=i,i._reactInternals=e,yl(e,n,t,r),e=wl(null,e,n,!0,a,r)):(e.tag=0,ce&&a&&su(e),ze(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(pa(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=ng(n),t=pt(n,t),i){case 0:e=Sl(null,e,n,t,r);break e;case 1:e=Wh(null,e,n,t,r);break e;case 11:e=Hh(null,e,n,t,r);break e;case 14:e=jh(null,e,n,pt(n.type,t),r);break e}throw Error(R(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pt(n,i),Sl(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pt(n,i),Wh(t,e,n,i,r);case 3:e:{if(A0(e),t===null)throw Error(R(387));n=e.pendingProps,a=e.memoizedState,i=a.element,r0(t,e),Da(e,n,null,r);var o=e.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=En(Error(R(423)),e),e=Kh(t,e,n,r,i);break e}else if(n!==i){i=En(Error(R(424)),e),e=Kh(t,e,n,r,i);break e}else for(Ze=sr(e.stateNode.containerInfo.firstChild),Je=e,ce=!0,mt=null,r=o0(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wn(),n===i){e=Bt(t,e,r);break e}ze(t,e,n,r)}e=e.child}return e;case 5:return s0(e),t===null&&pl(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,hl(n,i)?o=null:a!==null&&hl(n,a)&&(e.flags|=32),M0(t,e),ze(t,e,o,r),e.child;case 6:return t===null&&pl(e),null;case 13:return O0(t,e,r);case 4:return pu(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cn(e,null,n,r):ze(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pt(n,i),Hh(t,e,n,i,r);case 7:return ze(t,e,e.pendingProps,r),e.child;case 8:return ze(t,e,e.pendingProps.children,r),e.child;case 12:return ze(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,oe(La,n._currentValue),n._currentValue=o,a!==null)if(wt(a.value,o)){if(a.children===i.children&&!We.current){e=Bt(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Gt(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),vl(a.return,r,e),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(R(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),vl(o,r,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}ze(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,mn(e,r),i=ht(i),n=n(i),e.flags|=1,ze(t,e,n,r),e.child;case 14:return n=e.type,i=pt(n,e.pendingProps),i=pt(n.type,i),jh(t,e,n,i,r);case 15:return F0(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:pt(n,i),pa(t,e),e.tag=1,Ke(n)?(t=!0,Ma(e)):t=!1,mn(e,r),i0(e,n,i),yl(e,n,i,r),wl(null,e,n,!0,t,r);case 19:return L0(t,e,r);case 22:return R0(t,e,r)}throw Error(R(156,e.tag))};function Q0(t,e){return Cd(t,e)}function rg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(t,e,r,n){return new rg(t,e,r,n)}function Ru(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ng(t){if(typeof t=="function")return Ru(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xl)return 11;if(t===Ql)return 14}return 2}function cr(t,e){var r=t.alternate;return r===null?(r=lt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ya(t,e,r,n,i,a){var o=2;if(n=t,typeof t=="function")Ru(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case tn:return Mr(r.children,i,a,e);case Yl:o=8,i|=8;break;case Bs:return t=lt(12,r,e,i|2),t.elementType=Bs,t.lanes=a,t;case $s:return t=lt(13,r,e,i),t.elementType=$s,t.lanes=a,t;case Hs:return t=lt(19,r,e,i),t.elementType=Hs,t.lanes=a,t;case ad:return oo(r,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nd:o=10;break e;case id:o=9;break e;case Xl:o=11;break e;case Ql:o=14;break e;case Zt:o=16,n=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=lt(o,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Mr(t,e,r,n){return t=lt(7,t,n,e),t.lanes=r,t}function oo(t,e,r,n){return t=lt(22,t,n,e),t.elementType=ad,t.lanes=r,t.stateNode={isHidden:!1},t}function Ns(t,e,r){return t=lt(6,t,null,e),t.lanes=r,t}function Fs(t,e,r){return e=lt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ig(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=us(0),this.expirationTimes=us(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=us(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mu(t,e,r,n,i,a,o,s,l){return t=new ig(t,e,r,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=lt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(a),t}function ag(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:en,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function q0(t){if(!t)return fr;t=t._reactInternals;e:{if(Ur(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ke(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var r=t.type;if(Ke(r))return Qd(t,r,e)}return e}function Z0(t,e,r,n,i,a,o,s,l){return t=Mu(r,n,!0,t,i,a,o,s,l),t.context=q0(null),r=t.current,n=Ve(),i=hr(r),a=Gt(n,i),a.callback=e??null,lr(r,a,i),t.current.lanes=i,Fi(t,i,n),Ye(t,n),t}function so(t,e,r,n){var i=e.current,a=Ve(),o=hr(i);return r=q0(r),e.context===null?e.context=r:e.pendingContext=r,e=Gt(a,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=lr(i,e,o),t!==null&&(_t(t,i,o,a),da(t,i,o)),o}function Ha(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Au(t,e){nc(t,e),(t=t.alternate)&&nc(t,e)}function og(){return null}var J0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ou(t){this._internalRoot=t}lo.prototype.render=Ou.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));so(t,e,null,null)};lo.prototype.unmount=Ou.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Dr(function(){so(null,t,null,null)}),e[zt]=null}};function lo(t){this._internalRoot=t}lo.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<er.length&&e!==0&&e<er[r].priority;r++);er.splice(r,0,t),r===0&&Md(t)}};function Lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ic(){}function sg(t,e,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Ha(o);a.call(u)}}var o=Z0(e,n,t,0,null,!1,!1,"",ic);return t._reactRootContainer=o,t[zt]=o.current,mi(t.nodeType===8?t.parentNode:t),Dr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Ha(l);s.call(u)}}var l=Mu(t,0,!1,null,null,!1,!1,"",ic);return t._reactRootContainer=l,t[zt]=l.current,mi(t.nodeType===8?t.parentNode:t),Dr(function(){so(e,l,r,n)}),l}function ho(t,e,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Ha(o);s.call(l)}}so(e,o,t,i)}else o=sg(r,e,t,i,n);return Ha(o)}Td=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zn(e.pendingLanes);r!==0&&(Jl(e,r|1),Ye(e,we()),!(Z&6)&&(Pn=we()+500,mr()))}break;case 13:Dr(function(){var n=Vt(t,1);if(n!==null){var i=Ve();_t(n,t,1,i)}}),Au(t,1)}};eu=function(t){if(t.tag===13){var e=Vt(t,134217728);if(e!==null){var r=Ve();_t(e,t,134217728,r)}Au(t,134217728)}};Nd=function(t){if(t.tag===13){var e=hr(t),r=Vt(t,e);if(r!==null){var n=Ve();_t(r,t,e,n)}Au(t,e)}};Fd=function(){return te};Rd=function(t,e){var r=te;try{return te=t,e()}finally{te=r}};el=function(t,e,r){switch(e){case"input":if(Ks(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=eo(n);if(!i)throw Error(R(90));sd(n),Ks(n,i)}}}break;case"textarea":ud(t,r);break;case"select":e=r.value,e!=null&&fn(t,!!r.multiple,e,!1)}};vd=Tu;md=Dr;var lg={usingClientEntryPoint:!1,Events:[Mi,on,eo,gd,pd,Tu]},jn={findFiberByHostInstance:Tr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ug={bundleType:jn.bundleType,version:jn.version,rendererPackageName:jn.rendererPackageName,rendererConfig:jn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sd(t),t===null?null:t.stateNode},findFiberByHostInstance:jn.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ta.isDisabled&&ta.supportsFiber)try{Qa=ta.inject(ug),Tt=ta}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lg;tt.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lu(e))throw Error(R(200));return ag(t,e,null,r)};tt.createRoot=function(t,e){if(!Lu(t))throw Error(R(299));var r=!1,n="",i=J0;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mu(t,1,!1,null,null,r,!1,n,i),t[zt]=e.current,mi(t.nodeType===8?t.parentNode:t),new Ou(e)};tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Sd(e),t=t===null?null:t.stateNode,t};tt.flushSync=function(t){return Dr(t)};tt.hydrate=function(t,e,r){if(!uo(e))throw Error(R(200));return ho(null,t,e,!0,r)};tt.hydrateRoot=function(t,e,r){if(!Lu(t))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=J0;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Z0(e,null,t,1,r??null,i,!1,a,o),t[zt]=e.current,mi(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new lo(e)};tt.render=function(t,e,r){if(!uo(e))throw Error(R(200));return ho(null,t,e,!1,r)};tt.unmountComponentAtNode=function(t){if(!uo(t))throw Error(R(40));return t._reactRootContainer?(Dr(function(){ho(null,null,t,!1,function(){t._reactRootContainer=null,t[zt]=null})}),!0):!1};tt.unstable_batchedUpdates=Tu;tt.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!uo(r))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return ho(t,e,r,!1,n)};tt.version="18.2.0-next-9e3b772b8-20220608";function ef(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ef)}catch(t){console.error(t)}}ef(),Zc.exports=tt;var hg=Zc.exports,ac=hg;zs.createRoot=ac.createRoot,zs.hydrateRoot=ac.hydrateRoot;var bu={exports:{}},co={},tf={},K={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof Qu<"u"?Qu:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.3",isBrowser:r(),isUnminified:/param/.test((function(i){}).toString()),dblClickWindow:400,getAngle(i){return t.Konva.angleDeg?i*e:i},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(i){t.glob.Konva=i}};const n=i=>{t.Konva[i.prototype.getClassName()]=i};t._registerNode=n,t.Konva._injectGlobal(t.Konva)})(K);var ve={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=K;class r{constructor(p=[1,0,0,1,0,0]){this.dirty=!1,this.m=p&&p.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(p){p.m[0]=this.m[0],p.m[1]=this.m[1],p.m[2]=this.m[2],p.m[3]=this.m[3],p.m[4]=this.m[4],p.m[5]=this.m[5]}point(p){var S=this.m;return{x:S[0]*p.x+S[2]*p.y+S[4],y:S[1]*p.x+S[3]*p.y+S[5]}}translate(p,S){return this.m[4]+=this.m[0]*p+this.m[2]*S,this.m[5]+=this.m[1]*p+this.m[3]*S,this}scale(p,S){return this.m[0]*=p,this.m[1]*=p,this.m[2]*=S,this.m[3]*=S,this}rotate(p){var S=Math.cos(p),k=Math.sin(p),x=this.m[0]*S+this.m[2]*k,w=this.m[1]*S+this.m[3]*k,T=this.m[0]*-k+this.m[2]*S,E=this.m[1]*-k+this.m[3]*S;return this.m[0]=x,this.m[1]=w,this.m[2]=T,this.m[3]=E,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(p,S){var k=this.m[0]+this.m[2]*S,x=this.m[1]+this.m[3]*S,w=this.m[2]+this.m[0]*p,T=this.m[3]+this.m[1]*p;return this.m[0]=k,this.m[1]=x,this.m[2]=w,this.m[3]=T,this}multiply(p){var S=this.m[0]*p.m[0]+this.m[2]*p.m[1],k=this.m[1]*p.m[0]+this.m[3]*p.m[1],x=this.m[0]*p.m[2]+this.m[2]*p.m[3],w=this.m[1]*p.m[2]+this.m[3]*p.m[3],T=this.m[0]*p.m[4]+this.m[2]*p.m[5]+this.m[4],E=this.m[1]*p.m[4]+this.m[3]*p.m[5]+this.m[5];return this.m[0]=S,this.m[1]=k,this.m[2]=x,this.m[3]=w,this.m[4]=T,this.m[5]=E,this}invert(){var p=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),S=this.m[3]*p,k=-this.m[1]*p,x=-this.m[2]*p,w=this.m[0]*p,T=p*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),E=p*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=S,this.m[1]=k,this.m[2]=x,this.m[3]=w,this.m[4]=T,this.m[5]=E,this}getMatrix(){return this.m}decompose(){var p=this.m[0],S=this.m[1],k=this.m[2],x=this.m[3],w=this.m[4],T=this.m[5],E=p*x-S*k;let N={x:w,y:T,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(p!=0||S!=0){var A=Math.sqrt(p*p+S*S);N.rotation=S>0?Math.acos(p/A):-Math.acos(p/A),N.scaleX=A,N.scaleY=E/A,N.skewX=(p*k+S*x)/E,N.skewY=0}else if(k!=0||x!=0){var L=Math.sqrt(k*k+x*x);N.rotation=Math.PI/2-(x>0?Math.acos(-k/L):-Math.acos(k/L)),N.scaleX=E/L,N.scaleY=L,N.skewX=0,N.skewY=(p*k+S*x)/E}return N.rotation=t.Util._getRotation(N.rotation),N}}t.Transform=r;var n="[object Array]",i="[object Number]",a="[object String]",o="[object Boolean]",s=Math.PI/180,l=180/Math.PI,u="#",c="",y="0",f="Konva warning: ",g="Konva error: ",d="rgb(",_={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},C=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,m=[];const v=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(h){setTimeout(h,60)};t.Util={_isElement(h){return!!(h&&h.nodeType==1)},_isFunction(h){return!!(h&&h.constructor&&h.call&&h.apply)},_isPlainObject(h){return!!h&&h.constructor===Object},_isArray(h){return Object.prototype.toString.call(h)===n},_isNumber(h){return Object.prototype.toString.call(h)===i&&!isNaN(h)&&isFinite(h)},_isString(h){return Object.prototype.toString.call(h)===a},_isBoolean(h){return Object.prototype.toString.call(h)===o},isObject(h){return h instanceof Object},isValidSelector(h){if(typeof h!="string")return!1;var p=h[0];return p==="#"||p==="."||p===p.toUpperCase()},_sign(h){return h===0||h>0?1:-1},requestAnimFrame(h){m.push(h),m.length===1&&v(function(){const p=m;m=[],p.forEach(function(S){S()})})},createCanvasElement(){var h=document.createElement("canvas");try{h.style=h.style||{}}catch{}return h},createImageElement(){return document.createElement("img")},_isInDocument(h){for(;h=h.parentNode;)if(h==document)return!0;return!1},_urlToImage(h,p){var S=t.Util.createImageElement();S.onload=function(){p(S)},S.src=h},_rgbToHex(h,p,S){return((1<<24)+(h<<16)+(p<<8)+S).toString(16).slice(1)},_hexToRgb(h){h=h.replace(u,c);var p=parseInt(h,16);return{r:p>>16&255,g:p>>8&255,b:p&255}},getRandomColor(){for(var h=(Math.random()*16777215<<0).toString(16);h.length<6;)h=y+h;return u+h},getRGB(h){var p;return h in _?(p=_[h],{r:p[0],g:p[1],b:p[2]}):h[0]===u?this._hexToRgb(h.substring(1)):h.substr(0,4)===d?(p=C.exec(h.replace(/ /g,"")),{r:parseInt(p[1],10),g:parseInt(p[2],10),b:parseInt(p[3],10)}):{r:0,g:0,b:0}},colorToRGBA(h){return h=h||"black",t.Util._namedColorToRBA(h)||t.Util._hex3ColorToRGBA(h)||t.Util._hex4ColorToRGBA(h)||t.Util._hex6ColorToRGBA(h)||t.Util._hex8ColorToRGBA(h)||t.Util._rgbColorToRGBA(h)||t.Util._rgbaColorToRGBA(h)||t.Util._hslColorToRGBA(h)},_namedColorToRBA(h){var p=_[h.toLowerCase()];return p?{r:p[0],g:p[1],b:p[2],a:1}:null},_rgbColorToRGBA(h){if(h.indexOf("rgb(")===0){h=h.match(/rgb\(([^)]+)\)/)[1];var p=h.split(/ *, */).map(Number);return{r:p[0],g:p[1],b:p[2],a:1}}},_rgbaColorToRGBA(h){if(h.indexOf("rgba(")===0){h=h.match(/rgba\(([^)]+)\)/)[1];var p=h.split(/ *, */).map((S,k)=>S.slice(-1)==="%"?k===3?parseInt(S)/100:parseInt(S)/100*255:Number(S));return{r:p[0],g:p[1],b:p[2],a:p[3]}}},_hex8ColorToRGBA(h){if(h[0]==="#"&&h.length===9)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:parseInt(h.slice(7,9),16)/255}},_hex6ColorToRGBA(h){if(h[0]==="#"&&h.length===7)return{r:parseInt(h.slice(1,3),16),g:parseInt(h.slice(3,5),16),b:parseInt(h.slice(5,7),16),a:1}},_hex4ColorToRGBA(h){if(h[0]==="#"&&h.length===5)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:parseInt(h[4]+h[4],16)/255}},_hex3ColorToRGBA(h){if(h[0]==="#"&&h.length===4)return{r:parseInt(h[1]+h[1],16),g:parseInt(h[2]+h[2],16),b:parseInt(h[3]+h[3],16),a:1}},_hslColorToRGBA(h){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(h)){const[p,...S]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(h),k=Number(S[0])/360,x=Number(S[1])/100,w=Number(S[2])/100;let T,E,N;if(x===0)return N=w*255,{r:Math.round(N),g:Math.round(N),b:Math.round(N),a:1};w<.5?T=w*(1+x):T=w+x-w*x;const A=2*w-T,L=[0,0,0];for(let z=0;z<3;z++)E=k+1/3*-(z-1),E<0&&E++,E>1&&E--,6*E<1?N=A+(T-A)*6*E:2*E<1?N=T:3*E<2?N=A+(T-A)*(2/3-E)*6:N=A,L[z]=N*255;return{r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2]),a:1}}},haveIntersection(h,p){return!(p.x>h.x+h.width||p.x+p.width<h.x||p.y>h.y+h.height||p.y+p.height<h.y)},cloneObject(h){var p={};for(var S in h)this._isPlainObject(h[S])?p[S]=this.cloneObject(h[S]):this._isArray(h[S])?p[S]=this.cloneArray(h[S]):p[S]=h[S];return p},cloneArray(h){return h.slice(0)},degToRad(h){return h*s},radToDeg(h){return h*l},_degToRad(h){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(h)},_radToDeg(h){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(h)},_getRotation(h){return e.Konva.angleDeg?t.Util.radToDeg(h):h},_capitalize(h){return h.charAt(0).toUpperCase()+h.slice(1)},throw(h){throw new Error(g+h)},error(h){console.error(g+h)},warn(h){e.Konva.showWarnings&&console.warn(f+h)},each(h,p){for(var S in h)p(S,h[S])},_inRange(h,p,S){return p<=h&&h<S},_getProjectionToSegment(h,p,S,k,x,w){var T,E,N,A=(h-S)*(h-S)+(p-k)*(p-k);if(A==0)T=h,E=p,N=(x-S)*(x-S)+(w-k)*(w-k);else{var L=((x-h)*(S-h)+(w-p)*(k-p))/A;L<0?(T=h,E=p,N=(h-x)*(h-x)+(p-w)*(p-w)):L>1?(T=S,E=k,N=(S-x)*(S-x)+(k-w)*(k-w)):(T=h+L*(S-h),E=p+L*(k-p),N=(T-x)*(T-x)+(E-w)*(E-w))}return[T,E,N]},_getProjectionToLine(h,p,S){var k=t.Util.cloneObject(h),x=Number.MAX_VALUE;return p.forEach(function(w,T){if(!(!S&&T===p.length-1)){var E=p[(T+1)%p.length],N=t.Util._getProjectionToSegment(w.x,w.y,E.x,E.y,h.x,h.y),A=N[0],L=N[1],z=N[2];z<x&&(k.x=A,k.y=L,x=z)}}),k},_prepareArrayForTween(h,p,S){var k,x=[],w=[];if(h.length>p.length){var T=p;p=h,h=T}for(k=0;k<h.length;k+=2)x.push({x:h[k],y:h[k+1]});for(k=0;k<p.length;k+=2)w.push({x:p[k],y:p[k+1]});var E=[];return w.forEach(function(N){var A=t.Util._getProjectionToLine(N,x,S);E.push(A.x),E.push(A.y)}),E},_prepareToStringify(h){var p;h.visitedByCircularReferenceRemoval=!0;for(var S in h)if(h.hasOwnProperty(S)&&h[S]&&typeof h[S]=="object"){if(p=Object.getOwnPropertyDescriptor(h,S),h[S].visitedByCircularReferenceRemoval||t.Util._isElement(h[S]))if(p.configurable)delete h[S];else return null;else if(t.Util._prepareToStringify(h[S])===null)if(p.configurable)delete h[S];else return null}return delete h.visitedByCircularReferenceRemoval,h},_assign(h,p){for(var S in p)h[S]=p[S];return h},_getFirstPointerId(h){return h.touches?h.changedTouches[0].identifier:h.pointerId||999},releaseCanvas(...h){e.Konva.releaseCanvasOnDestroy&&h.forEach(p=>{p.width=0,p.height=0})},drawRoundedRectPath(h,p,S,k){let x=0,w=0,T=0,E=0;typeof k=="number"?x=w=T=E=Math.min(k,p/2,S/2):(x=Math.min(k[0]||0,p/2,S/2),w=Math.min(k[1]||0,p/2,S/2),E=Math.min(k[2]||0,p/2,S/2),T=Math.min(k[3]||0,p/2,S/2)),h.moveTo(x,0),h.lineTo(p-w,0),h.arc(p-w,w,w,Math.PI*3/2,0,!1),h.lineTo(p,S-E),h.arc(p-E,S-E,E,0,Math.PI/2,!1),h.lineTo(T,S),h.arc(T,S-T,T,Math.PI/2,Math.PI,!1),h.lineTo(0,x),h.arc(x,x,x,Math.PI,Math.PI*3/2,!1)}}})(ve);var de={},W={},U={};Object.defineProperty(U,"__esModule",{value:!0});U.getComponentValidator=U.getBooleanValidator=U.getNumberArrayValidator=U.getFunctionValidator=U.getStringOrGradientValidator=U.getStringValidator=U.getNumberOrAutoValidator=U.getNumberOrArrayOfNumbersValidator=U.getNumberValidator=U.alphaComponent=U.RGBComponent=void 0;const Ht=K,ye=ve;function jt(t){return ye.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||ye.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function cg(t){return t>255?255:t<0?0:Math.round(t)}U.RGBComponent=cg;function dg(t){return t>1?1:t<1e-4?1e-4:t}U.alphaComponent=dg;function fg(){if(Ht.Konva.isUnminified)return function(t,e){return ye.Util._isNumber(t)||ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}U.getNumberValidator=fg;function gg(t){if(Ht.Konva.isUnminified)return function(e,r){let n=ye.Util._isNumber(e),i=ye.Util._isArray(e)&&e.length==t;return!n&&!i&&ye.Util.warn(jt(e)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+t+")"),e}}U.getNumberOrArrayOfNumbersValidator=gg;function pg(){if(Ht.Konva.isUnminified)return function(t,e){var r=ye.Util._isNumber(t),n=t==="auto";return r||n||ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}U.getNumberOrAutoValidator=pg;function vg(){if(Ht.Konva.isUnminified)return function(t,e){return ye.Util._isString(t)||ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}U.getStringValidator=vg;function mg(){if(Ht.Konva.isUnminified)return function(t,e){const r=ye.Util._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return r||n||ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}U.getStringOrGradientValidator=mg;function yg(){if(Ht.Konva.isUnminified)return function(t,e){return ye.Util._isFunction(t)||ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}U.getFunctionValidator=yg;function _g(){if(Ht.Konva.isUnminified)return function(t,e){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&t instanceof r||(ye.Util._isArray(t)?t.forEach(function(n){ye.Util._isNumber(n)||ye.Util.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}U.getNumberArrayValidator=_g;function Sg(){if(Ht.Konva.isUnminified)return function(t,e){var r=t===!0||t===!1;return r||ye.Util.warn(jt(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}U.getBooleanValidator=Sg;function wg(t){if(Ht.Konva.isUnminified)return function(e,r){return e==null||ye.Util.isObject(e)||ye.Util.warn(jt(e)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+t),e}}U.getComponentValidator=wg;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=ve,r=U;var n="get",i="set";t.Factory={addGetterSetter(a,o,s,l,u){t.Factory.addGetter(a,o,s),t.Factory.addSetter(a,o,l,u),t.Factory.addOverloadedGetterSetter(a,o)},addGetter(a,o,s){var l=n+e.Util._capitalize(o);a.prototype[l]=a.prototype[l]||function(){var u=this.attrs[o];return u===void 0?s:u}},addSetter(a,o,s,l){var u=i+e.Util._capitalize(o);a.prototype[u]||t.Factory.overWriteSetter(a,o,s,l)},overWriteSetter(a,o,s,l){var u=i+e.Util._capitalize(o);a.prototype[u]=function(c){return s&&c!==void 0&&c!==null&&(c=s.call(this,c,o)),this._setAttr(o,c),l&&l.call(this),this}},addComponentsGetterSetter(a,o,s,l,u){var c=s.length,y=e.Util._capitalize,f=n+y(o),g=i+y(o),d,_;a.prototype[f]=function(){var m={};for(d=0;d<c;d++)_=s[d],m[_]=this.getAttr(o+y(_));return m};var C=(0,r.getComponentValidator)(s);a.prototype[g]=function(m){var v=this.attrs[o],h;l&&(m=l.call(this,m)),C&&C.call(this,m,o);for(h in m)m.hasOwnProperty(h)&&this._setAttr(o+y(h),m[h]);return m||s.forEach(p=>{this._setAttr(o+y(p),void 0)}),this._fireChangeEvent(o,v,m),u&&u.call(this),this},t.Factory.addOverloadedGetterSetter(a,o)},addOverloadedGetterSetter(a,o){var s=e.Util._capitalize(o),l=i+s,u=n+s;a.prototype[o]=function(){return arguments.length?(this[l](arguments[0]),this):this[u]()}},addDeprecatedGetterSetter(a,o,s,l){e.Util.error("Adding deprecated "+o);var u=n+e.Util._capitalize(o),c=o+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[u]=function(){e.Util.error(c);var y=this.attrs[o];return y===void 0?s:y},t.Factory.addSetter(a,o,l,function(){e.Util.error(c)}),t.Factory.addOverloadedGetterSetter(a,o)},backCompat(a,o){e.Util.each(o,function(s,l){var u=a.prototype[l],c=n+e.Util._capitalize(s),y=i+e.Util._capitalize(s);function f(){u.apply(this,arguments),e.Util.error('"'+s+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}a.prototype[s]=f,a.prototype[c]=f,a.prototype[y]=f})},afterSetFilter(){this._filterUpToDate=!1}}})(W);var St={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.HitContext=It.SceneContext=It.Context=void 0;const rf=ve,Cg=K;function kg(t){var e=[],r=t.length,n=rf.Util,i,a;for(i=0;i<r;i++)a=t[i],n._isNumber(a)?a=Math.round(a*1e3)/1e3:n._isString(a)||(a=a+""),e.push(a);return e}var oc=",",Eg="(",Pg=")",xg="([",Tg="])",Ng=";",Fg="()",Rg="=",sc=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],Mg=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const Ag=100;class fo{constructor(e){this.canvas=e,Cg.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,r){var n=this.traceArr,i=n.length,a="",o,s,l,u;for(o=0;o<i;o++)s=n[o],l=s.method,l?(u=s.args,a+=l,e?a+=Fg:rf.Util._isArray(u[0])?a+=xg+u.join(oc)+Tg:(r&&(u=u.map(c=>typeof c=="number"?Math.floor(c):c)),a+=Eg+u.join(oc)+Pg)):(a+=s.property,e||(a+=Rg+s.val)),a+=Ng;return a}clearTrace(){this.traceArr=[]}_trace(e){var r=this.traceArr,n;r.push(e),n=r.length,n>=Ag&&r.shift()}reset(){var e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){var r=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(e){const r=e.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(e){var r=e.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(e){const r=e.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(e,r){this._context[e]=r}arc(e,r,n,i,a,o){this._context.arc(e,r,n,i,a,o)}arcTo(e,r,n,i,a){this._context.arcTo(e,r,n,i,a)}beginPath(){this._context.beginPath()}bezierCurveTo(e,r,n,i,a,o){this._context.bezierCurveTo(e,r,n,i,a,o)}clearRect(e,r,n,i){this._context.clearRect(e,r,n,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,r){var n=arguments;if(n.length===2)return this._context.createImageData(e,r);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,r,n,i){return this._context.createLinearGradient(e,r,n,i)}createPattern(e,r){return this._context.createPattern(e,r)}createRadialGradient(e,r,n,i,a,o){return this._context.createRadialGradient(e,r,n,i,a,o)}drawImage(e,r,n,i,a,o,s,l,u){var c=arguments,y=this._context;c.length===3?y.drawImage(e,r,n):c.length===5?y.drawImage(e,r,n,i,a):c.length===9&&y.drawImage(e,r,n,i,a,o,s,l,u)}ellipse(e,r,n,i,a,o,s,l){this._context.ellipse(e,r,n,i,a,o,s,l)}isPointInPath(e,r,n,i){return n?this._context.isPointInPath(n,e,r,i):this._context.isPointInPath(e,r,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,r,n,i){this._context.fillRect(e,r,n,i)}strokeRect(e,r,n,i){this._context.strokeRect(e,r,n,i)}fillText(e,r,n,i){i?this._context.fillText(e,r,n,i):this._context.fillText(e,r,n)}measureText(e){return this._context.measureText(e)}getImageData(e,r,n,i){return this._context.getImageData(e,r,n,i)}lineTo(e,r){this._context.lineTo(e,r)}moveTo(e,r){this._context.moveTo(e,r)}rect(e,r,n,i){this._context.rect(e,r,n,i)}roundRect(e,r,n,i,a){this._context.roundRect(e,r,n,i,a)}putImageData(e,r,n){this._context.putImageData(e,r,n)}quadraticCurveTo(e,r,n,i){this._context.quadraticCurveTo(e,r,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,r){this._context.scale(e,r)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,r,n,i,a,o){this._context.setTransform(e,r,n,i,a,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,r,n,i){this._context.strokeText(e,r,n,i)}transform(e,r,n,i,a,o){this._context.transform(e,r,n,i,a,o)}translate(e,r){this._context.translate(e,r)}_enableTrace(){var e=this,r=sc.length,n=this.setAttr,i,a,o=function(s){var l=e[s],u;e[s]=function(){return a=kg(Array.prototype.slice.call(arguments,0)),u=l.apply(e,arguments),e._trace({method:s,args:a}),u}};for(i=0;i<r;i++)o(sc[i]);e.setAttr=function(){n.apply(e,arguments);var s=arguments[0],l=arguments[1];(s==="shadowOffsetX"||s==="shadowOffsetY"||s==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:s,val:l})}}_applyGlobalCompositeOperation(e){const r=e.attrs.globalCompositeOperation;var n=!r||r==="source-over";n||this.setAttr("globalCompositeOperation",r)}}It.Context=fo;Mg.forEach(function(t){Object.defineProperty(fo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class Og extends fo{constructor(e,{willReadFrequently:r=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(e){var r=e.fill();this.setAttr("fillStyle",r),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){var r=e._getLinearGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fillRadialGradient(e){const r=e._getRadialGradient();r&&(this.setAttr("fillStyle",r),e._fillFunc(this))}_fill(e){const r=e.fill(),n=e.getFillPriority();if(r&&n==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&n==="pattern"){this._fillPattern(e);return}const a=e.getFillLinearGradientColorStops();if(a&&n==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&n==="radial-gradient"){this._fillRadialGradient(e);return}r?this._fillColor(e):i?this._fillPattern(e):a?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const r=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(r.x,r.y,n.x,n.y);if(i){for(var o=0;o<i.length;o+=2)a.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",a)}}_stroke(e){var r=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();var i=this.getCanvas().getPixelRatio();this.setTransform(i,0,0,i,0,0)}this._applyLineCap(e),r&&e.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=e.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var r,n,i,a=(r=e.getShadowRGBA())!==null&&r!==void 0?r:"black",o=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,s=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),c=l.x*u,y=l.y*u;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",o*Math.min(Math.abs(c),Math.abs(y))),this.setAttr("shadowOffsetX",s.x*c),this.setAttr("shadowOffsetY",s.y*y)}}It.SceneContext=Og;class Lg extends fo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const a=e.getStrokeScaleEnabled();if(!a){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);var n=e.hitStrokeWidth(),i=n==="auto"?e.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),a||this.restore()}}}It.HitContext=Lg;Object.defineProperty(St,"__esModule",{value:!0});St.HitCanvas=St.SceneCanvas=St.Canvas=void 0;const ja=ve,nf=It,af=K,bg=W,Dg=U;var ra;function Gg(){if(ra)return ra;var t=ja.Util.createCanvasElement(),e=t.getContext("2d");return ra=function(){var r=af.Konva._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}(),ja.Util.releaseCanvas(t),ra}class go{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=e||{},n=r.pixelRatio||af.Konva.pixelRatio||Gg();this.pixelRatio=n,this._canvas=ja.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){var r=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";var r=this.pixelRatio,n=this.getContext()._context;n.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,r){this.setWidth(e||0),this.setHeight(r||0)}toDataURL(e,r){try{return this._canvas.toDataURL(e,r)}catch{try{return this._canvas.toDataURL()}catch(i){return ja.Util.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}St.Canvas=go;bg.Factory.addGetterSetter(go,"pixelRatio",void 0,(0,Dg.getNumberValidator)());class Ig extends go{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new nf.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}St.SceneCanvas=Ig;class Ug extends go{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new nf.HitContext(this),this.setSize(e.width,e.height)}}St.HitCanvas=Ug;var po={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=K,r=ve;t.DD={get isDragging(){var n=!1;return t.DD._dragElements.forEach(i=>{i.dragStatus==="dragging"&&(n=!0)}),n},justDragged:!1,get node(){var n;return t.DD._dragElements.forEach(i=>{n=i.node}),n},_dragElements:new Map,_drag(n){const i=[];t.DD._dragElements.forEach((a,o)=>{const{node:s}=a,l=s.getStage();l.setPointersPositions(n),a.pointerId===void 0&&(a.pointerId=r.Util._getFirstPointerId(n));const u=l._changedPointerPositions.find(f=>f.id===a.pointerId);if(u){if(a.dragStatus!=="dragging"){var c=s.dragDistance(),y=Math.max(Math.abs(u.x-a.startPointerPos.x),Math.abs(u.y-a.startPointerPos.y));if(y<c||(s.startDrag({evt:n}),!s.isDragging()))return}s._setDragPosition(n,a),i.push(s)}}),i.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:n},!0)})},_endDragBefore(n){const i=[];t.DD._dragElements.forEach(a=>{const{node:o}=a,s=o.getStage();if(n&&s.setPointersPositions(n),!s._changedPointerPositions.find(c=>c.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,a.dragStatus="stopped");const u=a.node.getLayer()||a.node instanceof e.Konva.Stage&&a.node;u&&i.indexOf(u)===-1&&i.push(u)}),i.forEach(a=>{a.draw()})},_endDragAfter(n){t.DD._dragElements.forEach((i,a)=>{i.dragStatus==="stopped"&&i.node.fire("dragend",{type:"dragend",target:i.node,evt:n},!0),i.dragStatus!=="dragging"&&t.DD._dragElements.delete(a)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1))})(po);Object.defineProperty(de,"__esModule",{value:!0});de.Node=void 0;const Y=ve,Oi=W,Wn=St,kr=K,it=po,Ce=U;var _a="absoluteOpacity",na="allEventListeners",At="absoluteTransform",lc="absoluteScale",Er="canvas",zg="Change",Vg="children",Bg="konva",Ol="listening",uc="mouseenter",hc="mouseleave",cc="set",dc="Shape",Sa=" ",fc="stage",qt="transform",$g="Stage",Ll="visible",Hg=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Sa);let jg=1;class ${constructor(e){this._id=jg++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===qt||e===At)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,r){var n=this._cache.get(e),i=e===qt||e===At,a=n===void 0||i&&n.dirty===!0;return a&&(n=r.call(this),this._cache.set(e,n)),n}_calculate(e,r,n){if(!this._attachedDepsListeners.get(e)){const i=r.map(a=>a+"Change.konva").join(Sa);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Er)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===At&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Er)){const{scene:e,filter:r,hit:n}=this._cache.get(Er);Y.Util.releaseCanvas(e,r,n),this._cache.delete(Er)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){var r=e||{},n={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));var i=Math.ceil(r.width||n.width),a=Math.ceil(r.height||n.height),o=r.pixelRatio,s=r.x===void 0?Math.floor(n.x):r.x,l=r.y===void 0?Math.floor(n.y):r.y,u=r.offset||0,c=r.drawBorder||!1,y=r.hitCanvasPixelRatio||1;if(!i||!a){Y.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const f=Math.abs(Math.round(n.x)-s)>.5?1:0,g=Math.abs(Math.round(n.y)-l)>.5?1:0;i+=u*2+f,a+=u*2+g,s-=u,l-=u;var d=new Wn.SceneCanvas({pixelRatio:o,width:i,height:a}),_=new Wn.SceneCanvas({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),C=new Wn.HitCanvas({pixelRatio:y,width:i,height:a}),m=d.getContext(),v=C.getContext();return C.isCache=!0,d.isCache=!0,this._cache.delete(Er),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(d.getContext()._context.imageSmoothingEnabled=!1,_.getContext()._context.imageSmoothingEnabled=!1),m.save(),v.save(),m.translate(-s,-l),v.translate(-s,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(_a),this._clearSelfAndDescendantCache(lc),this.drawScene(d,this),this.drawHit(C,this),this._isUnderCache=!1,m.restore(),v.restore(),c&&(m.save(),m.beginPath(),m.rect(0,0,i,a),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(Er,{scene:d,filter:_,hit:C,x:s,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Er)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,r){var n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],i=1/0,a=1/0,o=-1/0,s=-1/0,l=this.getAbsoluteTransform(r);return n.forEach(function(u){var c=l.point(u);i===void 0&&(i=o=c.x,a=s=c.y),i=Math.min(i,c.x),a=Math.min(a,c.y),o=Math.max(o,c.x),s=Math.max(s,c.y)}),{x:i,y:a,width:o-i,height:s-a}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();e.translate(r.x,r.y);var n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){var r=this._getCanvasCache(),n=r.hit;e.save(),e.translate(r.x,r.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){var e=this.filters(),r=this._getCanvasCache(),n=r.scene,i=r.filter,a=i.getContext(),o,s,l,u;if(e){if(!this._filterUpToDate){var c=n.pixelRatio;i.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio);try{for(o=e.length,a.clear(),a.drawImage(n._canvas,0,0,n.getWidth()/c,n.getHeight()/c),s=a.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++){if(u=e[l],typeof u!="function"){Y.Util.error("Filter should be type of function, but got "+typeof u+" instead. Please check correct filters");continue}u.call(this,s),a.putImageData(s,0,0)}}catch(y){Y.Util.error("Unable to apply filter. "+y.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return i}return n}on(e,r){if(this._cache&&this._cache.delete(na),arguments.length===3)return this._delegate.apply(this,arguments);var n=e.split(Sa),i=n.length,a,o,s,l,u;for(a=0;a<i;a++)o=n[a],s=o.split("."),l=s[0],u=s[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:u,handler:r});return this}off(e,r){var n=(e||"").split(Sa),i=n.length,a,o,s,l,u,c;if(this._cache&&this._cache.delete(na),!e)for(o in this.eventListeners)this._off(o);for(a=0;a<i;a++)if(s=n[a],l=s.split("."),u=l[0],c=l[1],u)this.eventListeners[u]&&this._off(u,c,r);else for(o in this.eventListeners)this._off(o,c,r);return this}dispatchEvent(e){var r={target:this,type:e.type,evt:e};return this.fire(e.type,r),this}addEventListener(e,r){return this.on(e,function(n){r.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,r,n){var i=this;this.on(e,function(a){for(var o=a.target.findAncestors(r,!0,i),s=0;s<o.length;s++)a=Y.Util.cloneObject(a),a.currentTarget=o[s],n.call(o[s],a)})}remove(){return this.isDragging()&&this.stopDrag(),it.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(At),this._clearSelfAndDescendantCache(_a),this._clearSelfAndDescendantCache(lc),this._clearSelfAndDescendantCache(fc),this._clearSelfAndDescendantCache(Ll),this._clearSelfAndDescendantCache(Ol)}_remove(){this._clearCaches();var e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){var r="get"+Y.Util._capitalize(e);return Y.Util._isFunction(this[r])?this[r]():this.attrs[e]}getAncestors(){for(var e=this.getParent(),r=[];e;)r.push(e),e=e.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{var r,n;if(!e)return this;for(r in e)r!==Vg&&(n=cc+Y.Util._capitalize(r),Y.Util._isFunction(this[n])?this[n](e[r]):this._setAttr(r,e[r]))}),this}isListening(){return this._getCache(Ol,this._isListening)}_isListening(e){if(!this.listening())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(Ll,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,r=!1){if(e)return this._isVisible(e)&&this._isListening(e);var n=this.getLayer(),i=!1;it.DD._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===n)&&(i=!0)});var a=!r&&!kr.Konva.hitOnDragEnabled&&i;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var e=this.getDepth(),r=this,n=0,i,a,o,s;function l(c){for(i=[],a=c.length,o=0;o<a;o++)s=c[o],n++,s.nodeType!==dc&&(i=i.concat(s.getChildren().slice())),s._id===r._id&&(o=a);i.length>0&&i[0].getDepth()<=e&&l(i)}const u=this.getStage();return r.nodeType!==$g&&u&&l(u.getChildren()),n}getDepth(){for(var e=0,r=this.parent;r;)e++,r=r.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(qt),this._clearSelfAndDescendantCache(At)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;var r=e.getPointerPosition();if(!r)return null;var n=this.getAbsoluteTransform().copy();return n.invert(),n.point(r)}getAbsolutePosition(e){let r=!1,n=this.parent;for(;n;){if(n.isCached()){r=!0;break}n=n.parent}r&&!e&&(e=!0);var i=this.getAbsoluteTransform(e).getMatrix(),a=new Y.Transform,o=this.offset();return a.m=i.slice(),a.translate(o.x,o.y),a.getTranslation()}setAbsolutePosition(e){const{x:r,y:n,...i}=this._clearTransform();this.attrs.x=r,this.attrs.y=n,this._clearCache(qt);var a=this._getAbsoluteTransform().copy();return a.invert(),a.translate(e.x,e.y),e={x:this.attrs.x+a.getTranslation().x,y:this.attrs.y+a.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(qt),this._clearSelfAndDescendantCache(At),this}_setTransform(e){var r;for(r in e)this.attrs[r]=e[r]}_clearTransform(){var e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){var r=e.x,n=e.y,i=this.x(),a=this.y();return r!==void 0&&(i+=r),n!==void 0&&(a+=n),this.setPosition({x:i,y:a}),this}_eachAncestorReverse(e,r){var n=[],i=this.getParent(),a,o;if(!(r&&r._id===this._id)){for(n.unshift(this);i&&(!r||i._id!==r._id);)n.unshift(i),i=i.parent;for(a=n.length,o=0;o<a;o++)e(n[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return Y.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return Y.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,r=this.parent.getChildren().length;return e<r-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return Y.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return Y.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return Y.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&Y.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(_a,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var e=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(e*=r.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){var e=this.getAttrs(),r,n,i,a,o;const s={attrs:{},className:this.getClassName()};for(r in e)n=e[r],o=Y.Util.isObject(n)&&!Y.Util._isPlainObject(n)&&!Y.Util._isArray(n),!o&&(i=typeof this[r]=="function"&&this[r],delete e[r],a=i?i.call(this):null,e[r]=n,a!==n&&(s.attrs[r]=n));return Y.Util._prepareToStringify(s)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,r,n){var i=[];r&&this._isMatch(e)&&i.push(this);for(var a=this.parent;a;){if(a===n)return i;a._isMatch(e)&&i.push(a),a=a.parent}return i}isAncestorOf(e){return!1}findAncestor(e,r,n){return this.findAncestors(e,r,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);var r=e.replace(/ /g,"").split(","),n=r.length,i,a;for(i=0;i<n;i++)if(a=r[i],Y.Util.isValidSelector(a)||(Y.Util.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Y.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Y.Util.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(fc,this._getStage)}_getStage(){var e=this.getParent();return e?e.getStage():null}fire(e,r={},n){return r.target=r.target||this,n?this._fireAndBubble(e,r):this._fire(e,r),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(At,this._getAbsoluteTransform)}_getAbsoluteTransform(e){var r;if(e)return r=new Y.Transform,this._eachAncestorReverse(function(i){var a=i.transformsEnabled();a==="all"?r.multiply(i.getTransform()):a==="position"&&r.translate(i.x()-i.offsetX(),i.y()-i.offsetY())},e),r;r=this._cache.get(At)||new Y.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var n=this.transformsEnabled();if(n==="all")r.multiply(this.getTransform());else if(n==="position"){const i=this.attrs.x||0,a=this.attrs.y||0,o=this.attrs.offsetX||0,s=this.attrs.offsetY||0;r.translate(i-o,a-s)}return r.dirty=!1,r}getAbsoluteScale(e){for(var r=this;r;)r._isUnderCache&&(e=r),r=r.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(qt,this._getTransform)}_getTransform(){var e,r,n=this._cache.get(qt)||new Y.Transform;n.reset();var i=this.x(),a=this.y(),o=kr.Konva.getAngle(this.rotation()),s=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,u=this.attrs.skewX||0,c=this.attrs.skewY||0,y=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(i!==0||a!==0)&&n.translate(i,a),o!==0&&n.rotate(o),(u!==0||c!==0)&&n.skew(u,c),(s!==1||l!==1)&&n.scale(s,l),(y!==0||f!==0)&&n.translate(-1*y,-1*f),n.dirty=!1,n}clone(e){var r=Y.Util.cloneObject(this.attrs),n,i,a,o,s;for(n in e)r[n]=e[n];var l=new this.constructor(r);for(n in this.eventListeners)for(i=this.eventListeners[n],a=i.length,o=0;o<a;o++)s=i[o],s.name.indexOf(Bg)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(s));return l}_toKonvaCanvas(e){e=e||{};var r=this.getClientRect(),n=this.getStage(),i=e.x!==void 0?e.x:Math.floor(r.x),a=e.y!==void 0?e.y:Math.floor(r.y),o=e.pixelRatio||1,s=new Wn.SceneCanvas({width:e.width||Math.ceil(r.width)||(n?n.width():0),height:e.height||Math.ceil(r.height)||(n?n.height():0),pixelRatio:o}),l=s.getContext();const u=new Wn.SceneCanvas({width:s.width/s.pixelRatio+Math.abs(i),height:s.height/s.pixelRatio+Math.abs(a),pixelRatio:s.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||a)&&l.translate(-1*i,-1*a),this.drawScene(s,void 0,u),l.restore(),s}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};var r=e.mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(r,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise((r,n)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,Y.Util._urlToImage(this.toDataURL(e),function(a){r(a),i==null||i(a)})}catch(i){n(i)}})}toBlob(e){return new Promise((r,n)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(a=>{r(a),i==null||i(a)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){n(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():kr.Konva.dragDistance}_off(e,r,n){var i=this.eventListeners[e],a,o,s;for(a=0;a<i.length;a++)if(o=i[a].name,s=i[a].handler,(o!=="konva"||r==="konva")&&(!r||o===r)&&(!n||n===s)){if(i.splice(a,1),i.length===0){delete this.eventListeners[e];break}a--}}_fireChangeEvent(e,r,n){this._fire(e+zg,{oldVal:r,newVal:n})}addName(e){if(!this.hasName(e)){var r=this.name(),n=r?r+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const r=this.name();if(!r)return!1;var n=(r||"").split(/\s/g);return n.indexOf(e)!==-1}removeName(e){var r=(this.name()||"").split(/\s/g),n=r.indexOf(e);return n!==-1&&(r.splice(n,1),this.name(r.join(" "))),this}setAttr(e,r){var n=this[cc+Y.Util._capitalize(e)];return Y.Util._isFunction(n)?n.call(this,r):this._setAttr(e,r),this}_requestDraw(){if(kr.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,r){var n=this.attrs[e];n===r&&!Y.Util.isObject(r)||(r==null?delete this.attrs[e]:this.attrs[e]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,r),this._requestDraw())}_setComponentAttr(e,r,n){var i;n!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][r]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,r,n){r&&this.nodeType===dc&&(r.target=this);var i=(e===uc||e===hc)&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n);if(!i){this._fire(e,r);var a=(e===uc||e===hc)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!a&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,r,n):this._fireAndBubble.call(this.parent,e,r))}}_getProtoListeners(e){var r,n,i;const a=(r=this._cache.get(na))!==null&&r!==void 0?r:{};let o=a==null?void 0:a[e];if(o===void 0){o=[];let s=Object.getPrototypeOf(this);for(;s;){const l=(i=(n=s.eventListeners)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:[];o.push(...l),s=Object.getPrototypeOf(s)}a[e]=o,this._cache.set(na,a)}return o}_fire(e,r){r=r||{},r.currentTarget=this,r.type=e;const n=this._getProtoListeners(e);if(n)for(var i=0;i<n.length;i++)n[i].handler.call(this,r);const a=this.eventListeners[e];if(a)for(var i=0;i<a.length;i++)a[i].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){var r=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition();if(n){var a=n._getPointerById(r)||n._changedPointerPositions[0]||i;it.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-i.x,y:a.y-i.y},dragStatus:"ready",pointerId:r})}}startDrag(e,r=!0){it.DD._dragElements.has(this._id)||this._createDragElement(e);const n=it.DD._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},r)}_setDragPosition(e,r){const n=this.getStage()._getPointerById(r.pointerId);if(n){var i={x:n.x-r.offset.x,y:n.y-r.offset.y},a=this.dragBoundFunc();if(a!==void 0){const o=a.call(this,i,e);o?i=o:Y.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}}stopDrag(e){const r=it.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),it.DD._endDragBefore(e),it.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=it.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){var r=e.evt.button!==void 0,n=!r||kr.Konva.dragButtons.indexOf(e.evt.button)>=0;if(n&&!this.isDragging()){var i=!1;it.DD._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(i=!0)}),i||this._createDragElement(e)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var e=this.getStage();if(!e)return;const r=it.DD._dragElements.get(this._id),n=r&&r.dragStatus==="dragging",i=r&&r.dragStatus==="ready";n?this.stopDrag():i&&it.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const r=this.getStage();if(!r)return!1;const n={x:-e.x,y:-e.y,width:r.width()+2*e.x,height:r.height()+2*e.y};return Y.Util.haveIntersection(n,this.getClientRect())}static create(e,r){return Y.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,r)}static _createNode(e,r){var n=$.prototype.getClassName.call(e),i=e.children,a,o,s;r&&(e.attrs.container=r),kr.Konva[n]||(Y.Util.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");const l=kr.Konva[n];if(a=new l(e.attrs),i)for(o=i.length,s=0;s<o;s++)a.add($._createNode(i[s]));return a}}de.Node=$;$.prototype.nodeType="Node";$.prototype._attrsAffectingSize=[];$.prototype.eventListeners={};$.prototype.on.call($.prototype,Hg,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(qt),this._clearSelfAndDescendantCache(At)});$.prototype.on.call($.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Ll)});$.prototype.on.call($.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Ol)});$.prototype.on.call($.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(_a)});const ae=Oi.Factory.addGetterSetter;ae($,"zIndex");ae($,"absolutePosition");ae($,"position");ae($,"x",0,(0,Ce.getNumberValidator)());ae($,"y",0,(0,Ce.getNumberValidator)());ae($,"globalCompositeOperation","source-over",(0,Ce.getStringValidator)());ae($,"opacity",1,(0,Ce.getNumberValidator)());ae($,"name","",(0,Ce.getStringValidator)());ae($,"id","",(0,Ce.getStringValidator)());ae($,"rotation",0,(0,Ce.getNumberValidator)());Oi.Factory.addComponentsGetterSetter($,"scale",["x","y"]);ae($,"scaleX",1,(0,Ce.getNumberValidator)());ae($,"scaleY",1,(0,Ce.getNumberValidator)());Oi.Factory.addComponentsGetterSetter($,"skew",["x","y"]);ae($,"skewX",0,(0,Ce.getNumberValidator)());ae($,"skewY",0,(0,Ce.getNumberValidator)());Oi.Factory.addComponentsGetterSetter($,"offset",["x","y"]);ae($,"offsetX",0,(0,Ce.getNumberValidator)());ae($,"offsetY",0,(0,Ce.getNumberValidator)());ae($,"dragDistance",null,(0,Ce.getNumberValidator)());ae($,"width",0,(0,Ce.getNumberValidator)());ae($,"height",0,(0,Ce.getNumberValidator)());ae($,"listening",!0,(0,Ce.getBooleanValidator)());ae($,"preventDefault",!0,(0,Ce.getBooleanValidator)());ae($,"filters",null,function(t){return this._filterUpToDate=!1,t});ae($,"visible",!0,(0,Ce.getBooleanValidator)());ae($,"transformsEnabled","all",(0,Ce.getStringValidator)());ae($,"size");ae($,"dragBoundFunc");ae($,"draggable",!1,(0,Ce.getBooleanValidator)());Oi.Factory.backCompat($,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.Container=void 0;const An=W,Rs=de,vo=U;class Vr extends Rs.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){if(!e)return this.children||[];const r=this.children||[];var n=[];return r.forEach(function(i){e(i)&&n.push(i)}),n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(var r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){var r=this._generalFind(e,!0);return r.length>0?r[0]:void 0}_generalFind(e,r){var n=[];return this._descendants(i=>{const a=i._isMatch(e);return a&&n.push(i),!!(a&&r)}),n}_descendants(e){let r=!1;const n=this.getChildren();for(const i of n){if(r=e(i),r)return!0;if(i.hasChildren()&&(r=i._descendants(e),r))return!0}return!1}toObject(){var e=Rs.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(r=>{e.children.push(r.toObject())}),e}isAncestorOf(e){for(var r=e.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(e){var r=Rs.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){r.add(n.clone())}),r}getAllIntersections(e){var r=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&r.push(n)}),r}_clearSelfAndDescendantCache(e){var r;super._clearSelfAndDescendantCache(e),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(r,n){r.index=n}),this._requestDraw()}drawScene(e,r,n){var i=this.getLayer(),a=e||i&&i.getCanvas(),o=a&&a.getContext(),s=this._getCanvasCache(),l=s&&s.scene,u=a&&a.isCache;if(!this.isVisible()&&!u)return this;if(l){o.save();var c=this.getAbsoluteTransform(r).getMatrix();o.transform(c[0],c[1],c[2],c[3],c[4],c[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",a,r,n);return this}drawHit(e,r){if(!this.shouldDrawHit(r))return this;var n=this.getLayer(),i=e||n&&n.hitCanvas,a=i&&i.getContext(),o=this._getCanvasCache(),s=o&&o.hit;if(s){a.save();var l=this.getAbsoluteTransform(r).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",i,r);return this}_drawChildren(e,r,n,i){var a,o=r&&r.getContext(),s=this.clipWidth(),l=this.clipHeight(),u=this.clipFunc(),c=s&&l||u;const y=n===this;if(c){o.save();var f=this.getAbsoluteTransform(n),g=f.getMatrix();o.transform(g[0],g[1],g[2],g[3],g[4],g[5]),o.beginPath();let m;if(u)m=u.call(this,o,this);else{var d=this.clipX(),_=this.clipY();o.rect(d,_,s,l)}o.clip.apply(o,m),g=f.copy().invert().getMatrix(),o.transform(g[0],g[1],g[2],g[3],g[4],g[5])}var C=!y&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";C&&(o.save(),o._applyGlobalCompositeOperation(this)),(a=this.children)===null||a===void 0||a.forEach(function(m){m[e](r,n,i)}),C&&o.restore(),c&&o.restore()}getClientRect(e={}){var r,n=e.skipTransform,i=e.relativeTo,a,o,s,l,u={x:1/0,y:1/0,width:0,height:0},c=this;(r=this.children)===null||r===void 0||r.forEach(function(_){if(_.visible()){var C=_.getClientRect({relativeTo:c,skipShadow:e.skipShadow,skipStroke:e.skipStroke});C.width===0&&C.height===0||(a===void 0?(a=C.x,o=C.y,s=C.x+C.width,l=C.y+C.height):(a=Math.min(a,C.x),o=Math.min(o,C.y),s=Math.max(s,C.x+C.width),l=Math.max(l,C.y+C.height)))}});for(var y=this.find("Shape"),f=!1,g=0;g<y.length;g++){var d=y[g];if(d._isVisible(this)){f=!0;break}}return f&&a!==void 0?u={x:a,y:o,width:s-a,height:l-o}:u={x:0,y:0,width:0,height:0},n?u:this._transformedRect(u,i)}}zr.Container=Vr;An.Factory.addComponentsGetterSetter(Vr,"clip",["x","y","width","height"]);An.Factory.addGetterSetter(Vr,"clipX",void 0,(0,vo.getNumberValidator)());An.Factory.addGetterSetter(Vr,"clipY",void 0,(0,vo.getNumberValidator)());An.Factory.addGetterSetter(Vr,"clipWidth",void 0,(0,vo.getNumberValidator)());An.Factory.addGetterSetter(Vr,"clipHeight",void 0,(0,vo.getNumberValidator)());An.Factory.addGetterSetter(Vr,"clipFunc");var of={},qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.releaseCapture=qe.setPointerCapture=qe.hasPointerCapture=qe.createEvent=qe.getCapturedShape=void 0;const Wg=K,xi=new Map,sf=Wg.Konva._global.PointerEvent!==void 0;function Kg(t){return xi.get(t)}qe.getCapturedShape=Kg;function Du(t){return{evt:t,pointerId:t.pointerId}}qe.createEvent=Du;function Yg(t,e){return xi.get(t)===e}qe.hasPointerCapture=Yg;function Xg(t,e){lf(t),e.getStage()&&(xi.set(t,e),sf&&e._fire("gotpointercapture",Du(new PointerEvent("gotpointercapture"))))}qe.setPointerCapture=Xg;function lf(t,e){const r=xi.get(t);if(!r)return;const n=r.getStage();n&&n.content,xi.delete(t),sf&&r._fire("lostpointercapture",Du(new PointerEvent("lostpointercapture")))}qe.releaseCapture=lf;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=ve,r=W,n=zr,i=K,a=St,o=po,s=K,l=qe;var u="Stage",c="string",y="px",f="mouseout",g="mouseleave",d="mouseover",_="mouseenter",C="mousemove",m="mousedown",v="mouseup",h="pointermove",p="pointerdown",S="pointerup",k="pointercancel",x="lostpointercapture",w="pointerout",T="pointerleave",E="pointerover",N="pointerenter",A="contextmenu",L="touchstart",z="touchend",G="touchmove",H="touchcancel",j="wheel",F=5,I=[[_,"_pointerenter"],[m,"_pointerdown"],[C,"_pointermove"],[v,"_pointerup"],[g,"_pointerleave"],[L,"_pointerdown"],[G,"_pointermove"],[z,"_pointerup"],[H,"_pointercancel"],[d,"_pointerover"],[j,"_wheel"],[A,"_contextmenu"],[p,"_pointerdown"],[h,"_pointermove"],[S,"_pointerup"],[k,"_pointercancel"],[x,"_lostpointercapture"]];const M={mouse:{[w]:f,[T]:g,[E]:d,[N]:_,[h]:C,[p]:m,[S]:v,[k]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[w]:"touchout",[T]:"touchleave",[E]:"touchover",[N]:"touchenter",[h]:G,[p]:L,[S]:z,[k]:H,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[w]:w,[T]:T,[E]:E,[N]:N,[h]:h,[p]:p,[S]:S,[k]:k,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},b=ie=>ie.indexOf("pointer")>=0?"pointer":ie.indexOf("touch")>=0?"touch":"mouse",B=ie=>{const P=b(ie);if(P==="pointer")return i.Konva.pointerEventsEnabled&&M.pointer;if(P==="touch")return M.touch;if(P==="mouse")return M.mouse};function ee(ie={}){return(ie.clipFunc||ie.clipWidth||ie.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),ie}const Q="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class Xe extends n.Container{constructor(P){super(ee(P)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{ee(this.attrs)}),this._checkVisibility()}_validateAdd(P){const O=P.getType()==="Layer",V=P.getType()==="FastLayer";O||V||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const P=this.visible()?"":"none";this.content.style.display=P}setContainer(P){if(typeof P===c){if(P.charAt(0)==="."){var O=P.slice(1);P=document.getElementsByClassName(O)[0]}else{var V;P.charAt(0)!=="#"?V=P:V=P.slice(1),P=document.getElementById(V)}if(!P)throw"Can not find container in document with id "+V}return this._setAttr("container",P),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),P.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var P=this.children,O=P.length,V;for(V=0;V<O;V++)P[V].clear();return this}clone(P){return P||(P={}),P.container=typeof document<"u"&&document.createElement("div"),n.Container.prototype.clone.call(this,P)}destroy(){super.destroy();var P=this.content;P&&e.Util._isInDocument(P)&&this.container().removeChild(P);var O=t.stages.indexOf(this);return O>-1&&t.stages.splice(O,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const P=this._pointerPositions[0]||this._changedPointerPositions[0];return P?{x:P.x,y:P.y}:(e.Util.warn(Q),null)}_getPointerById(P){return this._pointerPositions.find(O=>O.id===P)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(P){P=P||{},P.x=P.x||0,P.y=P.y||0,P.width=P.width||this.width(),P.height=P.height||this.height();var O=new a.SceneCanvas({width:P.width,height:P.height,pixelRatio:P.pixelRatio||1}),V=O.getContext()._context,he=this.children;return(P.x||P.y)&&V.translate(-1*P.x,-1*P.y),he.forEach(function(re){if(re.isVisible()){var Se=re._toKonvaCanvas(P);V.drawImage(Se._canvas,P.x,P.y,Se.getWidth()/Se.getPixelRatio(),Se.getHeight()/Se.getPixelRatio())}}),O}getIntersection(P){if(!P)return null;var O=this.children,V=O.length,he=V-1,re;for(re=he;re>=0;re--){const Se=O[re].getIntersection(P);if(Se)return Se}return null}_resizeDOM(){var P=this.width(),O=this.height();this.content&&(this.content.style.width=P+y,this.content.style.height=O+y),this.bufferCanvas.setSize(P,O),this.bufferHitCanvas.setSize(P,O),this.children.forEach(V=>{V.setSize({width:P,height:O}),V.draw()})}add(P,...O){if(arguments.length>1){for(var V=0;V<arguments.length;V++)this.add(arguments[V]);return this}super.add(P);var he=this.children.length;return he>F&&e.Util.warn("The stage has "+he+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),P.setSize({width:this.width(),height:this.height()}),P.draw(),i.Konva.isBrowser&&this.content.appendChild(P.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(P){return l.hasPointerCapture(P,this)}setPointerCapture(P){l.setPointerCapture(P,this)}releaseCapture(P){l.releaseCapture(P,this)}getLayers(){return this.children}_bindContentEvents(){i.Konva.isBrowser&&I.forEach(([P,O])=>{this.content.addEventListener(P,V=>{this[O](V)},{passive:!1})})}_pointerenter(P){this.setPointersPositions(P);const O=B(P.type);O&&this._fire(O.pointerenter,{evt:P,target:this,currentTarget:this})}_pointerover(P){this.setPointersPositions(P);const O=B(P.type);O&&this._fire(O.pointerover,{evt:P,target:this,currentTarget:this})}_getTargetShape(P){let O=this[P+"targetShape"];return O&&!O.getStage()&&(O=null),O}_pointerleave(P){const O=B(P.type),V=b(P.type);if(O){this.setPointersPositions(P);var he=this._getTargetShape(V),re=!o.DD.isDragging||i.Konva.hitOnDragEnabled;he&&re?(he._fireAndBubble(O.pointerout,{evt:P}),he._fireAndBubble(O.pointerleave,{evt:P}),this._fire(O.pointerleave,{evt:P,target:this,currentTarget:this}),this[V+"targetShape"]=null):re&&(this._fire(O.pointerleave,{evt:P,target:this,currentTarget:this}),this._fire(O.pointerout,{evt:P,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}}_pointerdown(P){const O=B(P.type),V=b(P.type);if(O){this.setPointersPositions(P);var he=!1;this._changedPointerPositions.forEach(re=>{var Se=this.getIntersection(re);if(o.DD.justDragged=!1,i.Konva["_"+V+"ListenClick"]=!0,!Se||!Se.isListening())return;i.Konva.capturePointerEventsEnabled&&Se.setPointerCapture(re.id),this[V+"ClickStartShape"]=Se,Se._fireAndBubble(O.pointerdown,{evt:P,pointerId:re.id}),he=!0;const nt=P.type.indexOf("touch")>=0;Se.preventDefault()&&P.cancelable&&nt&&P.preventDefault()}),he||this._fire(O.pointerdown,{evt:P,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(P){const O=B(P.type),V=b(P.type);if(!O)return;o.DD.isDragging&&o.DD.node.preventDefault()&&P.cancelable&&P.preventDefault(),this.setPointersPositions(P);var he=!o.DD.isDragging||i.Konva.hitOnDragEnabled;if(!he)return;var re={};let Se=!1;var nt=this._getTargetShape(V);this._changedPointerPositions.forEach(Yt=>{const se=l.getCapturedShape(Yt.id)||this.getIntersection(Yt),Yr=Yt.id,Rt={evt:P,pointerId:Yr};var Xr=nt!==se;if(Xr&&nt&&(nt._fireAndBubble(O.pointerout,{...Rt},se),nt._fireAndBubble(O.pointerleave,{...Rt},se)),se){if(re[se._id])return;re[se._id]=!0}se&&se.isListening()?(Se=!0,Xr&&(se._fireAndBubble(O.pointerover,{...Rt},nt),se._fireAndBubble(O.pointerenter,{...Rt},nt),this[V+"targetShape"]=se),se._fireAndBubble(O.pointermove,{...Rt})):nt&&(this._fire(O.pointerover,{evt:P,target:this,currentTarget:this,pointerId:Yr}),this[V+"targetShape"]=null)}),Se||this._fire(O.pointermove,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(P){const O=B(P.type),V=b(P.type);if(!O)return;this.setPointersPositions(P);const he=this[V+"ClickStartShape"],re=this[V+"ClickEndShape"];var Se={};let nt=!1;this._changedPointerPositions.forEach(Yt=>{const se=l.getCapturedShape(Yt.id)||this.getIntersection(Yt);if(se){if(se.releaseCapture(Yt.id),Se[se._id])return;Se[se._id]=!0}const Yr=Yt.id,Rt={evt:P,pointerId:Yr};let Xr=!1;i.Konva["_"+V+"InDblClickWindow"]?(Xr=!0,clearTimeout(this[V+"DblTimeout"])):o.DD.justDragged||(i.Konva["_"+V+"InDblClickWindow"]=!0,clearTimeout(this[V+"DblTimeout"])),this[V+"DblTimeout"]=setTimeout(function(){i.Konva["_"+V+"InDblClickWindow"]=!1},i.Konva.dblClickWindow),se&&se.isListening()?(nt=!0,this[V+"ClickEndShape"]=se,se._fireAndBubble(O.pointerup,{...Rt}),i.Konva["_"+V+"ListenClick"]&&he&&he===se&&(se._fireAndBubble(O.pointerclick,{...Rt}),Xr&&re&&re===se&&se._fireAndBubble(O.pointerdblclick,{...Rt}))):(this[V+"ClickEndShape"]=null,i.Konva["_"+V+"ListenClick"]&&this._fire(O.pointerclick,{evt:P,target:this,currentTarget:this,pointerId:Yr}),Xr&&this._fire(O.pointerdblclick,{evt:P,target:this,currentTarget:this,pointerId:Yr}))}),nt||this._fire(O.pointerup,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),i.Konva["_"+V+"ListenClick"]=!1,P.cancelable&&V!=="touch"&&P.preventDefault()}_contextmenu(P){this.setPointersPositions(P);var O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(A,{evt:P}):this._fire(A,{evt:P,target:this,currentTarget:this})}_wheel(P){this.setPointersPositions(P);var O=this.getIntersection(this.getPointerPosition());O&&O.isListening()?O._fireAndBubble(j,{evt:P}):this._fire(j,{evt:P,target:this,currentTarget:this})}_pointercancel(P){this.setPointersPositions(P);const O=l.getCapturedShape(P.pointerId)||this.getIntersection(this.getPointerPosition());O&&O._fireAndBubble(S,l.createEvent(P)),l.releaseCapture(P.pointerId)}_lostpointercapture(P){l.releaseCapture(P.pointerId)}setPointersPositions(P){var O=this._getContentPosition(),V=null,he=null;P=P||window.event,P.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(P.touches,re=>{this._pointerPositions.push({id:re.identifier,x:(re.clientX-O.left)/O.scaleX,y:(re.clientY-O.top)/O.scaleY})}),Array.prototype.forEach.call(P.changedTouches||P.touches,re=>{this._changedPointerPositions.push({id:re.identifier,x:(re.clientX-O.left)/O.scaleX,y:(re.clientY-O.top)/O.scaleY})})):(V=(P.clientX-O.left)/O.scaleX,he=(P.clientY-O.top)/O.scaleY,this.pointerPos={x:V,y:he},this._pointerPositions=[{x:V,y:he,id:e.Util._getFirstPointerId(P)}],this._changedPointerPositions=[{x:V,y:he,id:e.Util._getFirstPointerId(P)}])}_setPointerPosition(P){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(P)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var P=this.content.getBoundingClientRect();return{top:P.top,left:P.left,scaleX:P.width/this.content.clientWidth||1,scaleY:P.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!i.Konva.isBrowser){var P=this.container();if(!P)throw"Stage has no container. A container is required.";P.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),P.appendChild(this.content),this._resizeDOM()}}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(P){P.batchDraw()}),this}}t.Stage=Xe,Xe.prototype.nodeType=u,(0,s._registerNode)(Xe),r.Factory.addGetterSetter(Xe,"container")})(of);var Li={},Te={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=K,r=ve,n=W,i=de,a=U,o=K,s=qe;var l="hasShadow",u="shadowRGBA",c="patternImage",y="linearGradient",f="radialGradient";let g;function d(){return g||(g=r.Util.createCanvasElement().getContext("2d"),g)}t.shapes={};function _(T){const E=this.attrs.fillRule;E?T.fill(E):T.fill()}function C(T){T.stroke()}function m(T){T.fill()}function v(T){T.stroke()}function h(){this._clearCache(l)}function p(){this._clearCache(u)}function S(){this._clearCache(c)}function k(){this._clearCache(y)}function x(){this._clearCache(f)}class w extends i.Node{constructor(E){super(E);let N;for(;N=r.Util.getRandomColor(),!(N&&!(N in t.shapes)););this.colorKey=N,t.shapes[N]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var E=d();const N=E.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(N&&N.setTransform){const A=new r.Transform;A.translate(this.fillPatternX(),this.fillPatternY()),A.rotate(e.Konva.getAngle(this.fillPatternRotation())),A.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),A.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const L=A.getMatrix(),z=typeof DOMMatrix>"u"?{a:L[0],b:L[1],c:L[2],d:L[3],e:L[4],f:L[5]}:new DOMMatrix(L);N.setTransform(z)}return N}}_getLinearGradient(){return this._getCache(y,this.__getLinearGradient)}__getLinearGradient(){var E=this.fillLinearGradientColorStops();if(E){for(var N=d(),A=this.fillLinearGradientStartPoint(),L=this.fillLinearGradientEndPoint(),z=N.createLinearGradient(A.x,A.y,L.x,L.y),G=0;G<E.length;G+=2)z.addColorStop(E[G],E[G+1]);return z}}_getRadialGradient(){return this._getCache(f,this.__getRadialGradient)}__getRadialGradient(){var E=this.fillRadialGradientColorStops();if(E){for(var N=d(),A=this.fillRadialGradientStartPoint(),L=this.fillRadialGradientEndPoint(),z=N.createRadialGradient(A.x,A.y,this.fillRadialGradientStartRadius(),L.x,L.y,this.fillRadialGradientEndRadius()),G=0;G<E.length;G+=2)z.addColorStop(E[G],E[G+1]);return z}}getShadowRGBA(){return this._getCache(u,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var E=r.Util.colorToRGBA(this.shadowColor());if(E)return"rgba("+E.r+","+E.g+","+E.b+","+E.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const E=this.hitStrokeWidth();return E==="auto"?this.hasStroke():this.strokeEnabled()&&!!E}intersects(E){var N=this.getStage();if(!N)return!1;const A=N.bufferHitCanvas;return A.getContext().clear(),this.drawHit(A,void 0,!0),A.context.getImageData(Math.round(E.x),Math.round(E.y),1,1).data[3]>0}destroy(){return i.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(E){var N;if(!((N=this.attrs.perfectDrawEnabled)!==null&&N!==void 0?N:!0))return!1;const L=E||this.hasFill(),z=this.hasStroke(),G=this.getAbsoluteOpacity()!==1;if(L&&z&&G)return!0;const H=this.hasShadow(),j=this.shadowForStrokeEnabled();return!!(L&&z&&H&&j)}setStrokeHitEnabled(E){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),E?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var E=this.size();return{x:this._centroid?-E.width/2:0,y:this._centroid?-E.height/2:0,width:E.width,height:E.height}}getClientRect(E={}){const N=E.skipTransform,A=E.relativeTo,L=this.getSelfRect(),G=!E.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,H=L.width+G,j=L.height+G,F=!E.skipShadow&&this.hasShadow(),I=F?this.shadowOffsetX():0,M=F?this.shadowOffsetY():0,b=H+Math.abs(I),B=j+Math.abs(M),ee=F&&this.shadowBlur()||0,Q=b+ee*2,Xe=B+ee*2,ie={width:Q,height:Xe,x:-(G/2+ee)+Math.min(I,0)+L.x,y:-(G/2+ee)+Math.min(M,0)+L.y};return N?ie:this._transformedRect(ie,A)}drawScene(E,N,A){var L=this.getLayer(),z=E||L.getCanvas(),G=z.getContext(),H=this._getCanvasCache(),j=this.getSceneFunc(),F=this.hasShadow(),I,M,b=z.isCache,B=N===this;if(!this.isVisible()&&!B)return this;if(H){G.save();var ee=this.getAbsoluteTransform(N).getMatrix();return G.transform(ee[0],ee[1],ee[2],ee[3],ee[4],ee[5]),this._drawCachedSceneCanvas(G),G.restore(),this}if(!j)return this;if(G.save(),this._useBufferCanvas()&&!b){I=this.getStage();const ie=A||I.bufferCanvas;M=ie.getContext(),M.clear(),M.save(),M._applyLineJoin(this);var Q=this.getAbsoluteTransform(N).getMatrix();M.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),j.call(this,M,this),M.restore();var Xe=ie.pixelRatio;F&&G._applyShadow(this),G._applyOpacity(this),G._applyGlobalCompositeOperation(this),G.drawImage(ie._canvas,0,0,ie.width/Xe,ie.height/Xe)}else{if(G._applyLineJoin(this),!B){var Q=this.getAbsoluteTransform(N).getMatrix();G.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),G._applyOpacity(this),G._applyGlobalCompositeOperation(this)}F&&G._applyShadow(this),j.call(this,G,this)}return G.restore(),this}drawHit(E,N,A=!1){if(!this.shouldDrawHit(N,A))return this;var L=this.getLayer(),z=E||L.hitCanvas,G=z&&z.getContext(),H=this.hitFunc()||this.sceneFunc(),j=this._getCanvasCache(),F=j&&j.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),F){G.save();var I=this.getAbsoluteTransform(N).getMatrix();return G.transform(I[0],I[1],I[2],I[3],I[4],I[5]),this._drawCachedHitCanvas(G),G.restore(),this}if(!H)return this;if(G.save(),G._applyLineJoin(this),!(this===N)){var b=this.getAbsoluteTransform(N).getMatrix();G.transform(b[0],b[1],b[2],b[3],b[4],b[5])}return H.call(this,G,this),G.restore(),this}drawHitFromCache(E=0){var N=this._getCanvasCache(),A=this._getCachedSceneCanvas(),L=N.hit,z=L.getContext(),G=L.getWidth(),H=L.getHeight(),j,F,I,M,b,B;z.clear(),z.drawImage(A._canvas,0,0,G,H);try{for(j=z.getImageData(0,0,G,H),F=j.data,I=F.length,M=r.Util._hexToRgb(this.colorKey),b=0;b<I;b+=4)B=F[b+3],B>E?(F[b]=M.r,F[b+1]=M.g,F[b+2]=M.b,F[b+3]=255):F[b+3]=0;z.putImageData(j,0,0)}catch(ee){r.Util.error("Unable to draw hit graph from cached scene canvas. "+ee.message)}return this}hasPointerCapture(E){return s.hasPointerCapture(E,this)}setPointerCapture(E){s.setPointerCapture(E,this)}releaseCapture(E){s.releaseCapture(E,this)}}t.Shape=w,w.prototype._fillFunc=_,w.prototype._strokeFunc=C,w.prototype._fillFuncHit=m,w.prototype._strokeFuncHit=v,w.prototype._centroid=!1,w.prototype.nodeType="Shape",(0,o._registerNode)(w),w.prototype.eventListeners={},w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",h),w.prototype.on.call(w.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",S),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),w.prototype.on.call(w.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",x),n.Factory.addGetterSetter(w,"stroke",void 0,(0,a.getStringOrGradientValidator)()),n.Factory.addGetterSetter(w,"strokeWidth",2,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillAfterStrokeEnabled",!1),n.Factory.addGetterSetter(w,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),n.Factory.addGetterSetter(w,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),n.Factory.addGetterSetter(w,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),n.Factory.addGetterSetter(w,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),n.Factory.addGetterSetter(w,"lineJoin"),n.Factory.addGetterSetter(w,"lineCap"),n.Factory.addGetterSetter(w,"sceneFunc"),n.Factory.addGetterSetter(w,"hitFunc"),n.Factory.addGetterSetter(w,"dash"),n.Factory.addGetterSetter(w,"dashOffset",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowColor",void 0,(0,a.getStringValidator)()),n.Factory.addGetterSetter(w,"shadowBlur",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowOpacity",1,(0,a.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"shadowOffset",["x","y"]),n.Factory.addGetterSetter(w,"shadowOffsetX",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"shadowOffsetY",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternImage"),n.Factory.addGetterSetter(w,"fill",void 0,(0,a.getStringOrGradientValidator)()),n.Factory.addGetterSetter(w,"fillPatternX",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternY",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillLinearGradientColorStops"),n.Factory.addGetterSetter(w,"strokeLinearGradientColorStops"),n.Factory.addGetterSetter(w,"fillRadialGradientStartRadius",0),n.Factory.addGetterSetter(w,"fillRadialGradientEndRadius",0),n.Factory.addGetterSetter(w,"fillRadialGradientColorStops"),n.Factory.addGetterSetter(w,"fillPatternRepeat","repeat"),n.Factory.addGetterSetter(w,"fillEnabled",!0),n.Factory.addGetterSetter(w,"strokeEnabled",!0),n.Factory.addGetterSetter(w,"shadowEnabled",!0),n.Factory.addGetterSetter(w,"dashEnabled",!0),n.Factory.addGetterSetter(w,"strokeScaleEnabled",!0),n.Factory.addGetterSetter(w,"fillPriority","color"),n.Factory.addComponentsGetterSetter(w,"fillPatternOffset",["x","y"]),n.Factory.addGetterSetter(w,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"fillPatternScale",["x","y"]),n.Factory.addGetterSetter(w,"fillPatternScaleX",1,(0,a.getNumberValidator)()),n.Factory.addGetterSetter(w,"fillPatternScaleY",1,(0,a.getNumberValidator)()),n.Factory.addComponentsGetterSetter(w,"fillLinearGradientStartPoint",["x","y"]),n.Factory.addComponentsGetterSetter(w,"strokeLinearGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillLinearGradientStartPointX",0),n.Factory.addGetterSetter(w,"strokeLinearGradientStartPointX",0),n.Factory.addGetterSetter(w,"fillLinearGradientStartPointY",0),n.Factory.addGetterSetter(w,"strokeLinearGradientStartPointY",0),n.Factory.addComponentsGetterSetter(w,"fillLinearGradientEndPoint",["x","y"]),n.Factory.addComponentsGetterSetter(w,"strokeLinearGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillLinearGradientEndPointX",0),n.Factory.addGetterSetter(w,"strokeLinearGradientEndPointX",0),n.Factory.addGetterSetter(w,"fillLinearGradientEndPointY",0),n.Factory.addGetterSetter(w,"strokeLinearGradientEndPointY",0),n.Factory.addComponentsGetterSetter(w,"fillRadialGradientStartPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillRadialGradientStartPointX",0),n.Factory.addGetterSetter(w,"fillRadialGradientStartPointY",0),n.Factory.addComponentsGetterSetter(w,"fillRadialGradientEndPoint",["x","y"]),n.Factory.addGetterSetter(w,"fillRadialGradientEndPointX",0),n.Factory.addGetterSetter(w,"fillRadialGradientEndPointY",0),n.Factory.addGetterSetter(w,"fillPatternRotation",0),n.Factory.addGetterSetter(w,"fillRule",void 0,(0,a.getStringValidator)()),n.Factory.backCompat(w,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(Te);Object.defineProperty(Li,"__esModule",{value:!0});Li.Layer=void 0;const Mt=ve,Ms=zr,qr=de,Gu=W,gc=St,Qg=U,qg=Te,Zg=K;var Jg="#",ep="beforeDraw",tp="draw",uf=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],rp=uf.length;class On extends Ms.Container{constructor(e){super(e),this.canvas=new gc.SceneCanvas,this.hitCanvas=new gc.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),e<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[e+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){qr.Node.prototype.moveToTop.call(this);var e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var e=qr.Node.prototype.moveUp.call(this);if(!e)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(qr.Node.prototype.moveDown.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(qr.Node.prototype.moveToBottom.call(this)){var e=this.getStage();if(e){var r=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var e=this.getNativeCanvasElement();return qr.Node.prototype.remove.call(this),e&&e.parentNode&&Mt.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:r}){return this.canvas.setSize(e,r),this.hitCanvas.setSize(e,r),this._setSmoothEnabled(),this}_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&Mt.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),qr.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){Mt.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){Mt.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,Mt.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;for(var r=1,n=!1;;){for(let i=0;i<rp;i++){const a=uf[i],o=this._getIntersection({x:e.x+a.x*r,y:e.y+a.y*r}),s=o.shape;if(s)return s;if(n=!!o.antialiased,!o.antialiased)break}if(n)r+=1;else return null}}_getIntersection(e){const r=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*r),Math.round(e.y*r),1,1).data,i=n[3];if(i===255){const a=Mt.Util._rgbToHex(n[0],n[1],n[2]),o=qg.shapes[Jg+a];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,r){var n=this.getLayer(),i=e||n&&n.getCanvas();return this._fire(ep,{node:this}),this.clearBeforeDraw()&&i.getContext().clear(),Ms.Container.prototype.drawScene.call(this,i,r),this._fire(tp,{node:this}),this}drawHit(e,r){var n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Ms.Container.prototype.drawHit.call(this,i,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){Mt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return Mt.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var e=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}}destroy(){return Mt.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}Li.Layer=On;On.prototype.nodeType="Layer";(0,Zg._registerNode)(On);Gu.Factory.addGetterSetter(On,"imageSmoothingEnabled",!0);Gu.Factory.addGetterSetter(On,"clearBeforeDraw",!0);Gu.Factory.addGetterSetter(On,"hitGraphEnabled",!0,(0,Qg.getBooleanValidator)());var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.FastLayer=void 0;const np=ve,ip=Li,ap=K;class Iu extends ip.Layer{constructor(e){super(e),this.listening(!1),np.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}mo.FastLayer=Iu;Iu.prototype.nodeType="FastLayer";(0,ap._registerNode)(Iu);var Ln={};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Group=void 0;const op=ve,sp=zr,lp=K;class Uu extends sp.Container{_validateAdd(e){var r=e.getType();r!=="Group"&&r!=="Shape"&&op.Util.throw("You may only add groups and shapes to groups.")}}Ln.Group=Uu;Uu.prototype.nodeType="Group";(0,lp._registerNode)(Uu);var bn={};Object.defineProperty(bn,"__esModule",{value:!0});bn.Animation=void 0;const As=K,pc=ve,Os=function(){return As.glob.performance&&As.glob.performance.now?function(){return As.glob.performance.now()}:function(){return new Date().getTime()}}();class xt{constructor(e,r){this.id=xt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Os(),frameRate:0},this.func=e,this.setLayers(r)}setLayers(e){let r=[];return e&&(r=Array.isArray(e)?e:[e]),this.layers=r,this}getLayers(){return this.layers}addLayer(e){const r=this.layers,n=r.length;for(let i=0;i<n;i++)if(r[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const r=xt.animations,n=r.length;for(let i=0;i<n;i++)if(r[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Os(),xt._addAnimation(this),this}stop(){return xt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const r=e.id,n=this.animations,i=n.length;for(let a=0;a<i;a++)if(n[a].id===r){this.animations.splice(a,1);break}}static _runFrames(){const e={},r=this.animations;for(let n=0;n<r.length;n++){const i=r[n],a=i.layers,o=i.func;i._updateFrameObject(Os());const s=a.length;let l;if(o?l=o.call(i,i.frame)!==!1:l=!0,!!l)for(let u=0;u<s;u++){const c=a[u];c._id!==void 0&&(e[c._id]=c)}}for(let n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){const e=xt;e.animations.length?(e._runFrames(),pc.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,pc.Util.requestAnimFrame(this._animationLoop))}}bn.Animation=xt;xt.animations=[];xt.animIdCounter=0;xt.animRunning=!1;var hf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=ve,r=bn,n=de,i=K;var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},o=1,s=2,l=3,u=0,c=["fill","stroke","shadowColor"];class y{constructor(d,_,C,m,v,h,p){this.prop=d,this.propFunc=_,this.begin=m,this._pos=m,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=p,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=C,this._change=v-this.begin,this.pause()}fire(d){var _=this[d];_&&_()}setTime(d){d>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():d<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=d,this.update())}getTime(){return this._time}setPosition(d){this.prevPos=this._pos,this.propFunc(d),this._pos=d}getPosition(d){return d===void 0&&(d=this._time),this.func(d,this.begin,this._change,this.duration)}play(){this.state=s,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(d){this.pause(),this._time=d,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var d=this.getTimer()-this._startTime;this.state===s?this.setTime(d):this.state===l&&this.setTime(this.duration-d)}pause(){this.state=o,this.fire("onPause")}getTimer(){return new Date().getTime()}}class f{constructor(d){var _=this,C=d.node,m=C._id,v,h=d.easing||t.Easings.Linear,p=!!d.yoyo,S;typeof d.duration>"u"?v=.3:d.duration===0?v=.001:v=d.duration,this.node=C,this._id=u++;var k=C.getLayer()||(C instanceof i.Konva.Stage?C.getLayers():null);k||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){_.tween.onEnterFrame()},k),this.tween=new y(S,function(x){_._tweenFunc(x)},h,0,1,v*1e3,p),this._addListeners(),f.attrs[m]||(f.attrs[m]={}),f.attrs[m][this._id]||(f.attrs[m][this._id]={}),f.tweens[m]||(f.tweens[m]={});for(S in d)a[S]===void 0&&this._addAttr(S,d[S]);this.reset(),this.onFinish=d.onFinish,this.onReset=d.onReset,this.onUpdate=d.onUpdate}_addAttr(d,_){var C=this.node,m=C._id,v,h,p,S,k,x,w,T;if(p=f.tweens[m][d],p&&delete f.attrs[m][p][d],v=C.getAttr(d),e.Util._isArray(_))if(h=[],k=Math.max(_.length,v.length),d==="points"&&_.length!==v.length&&(_.length>v.length?(w=v,v=e.Util._prepareArrayForTween(v,_,C.closed())):(x=_,_=e.Util._prepareArrayForTween(_,v,C.closed()))),d.indexOf("fill")===0)for(S=0;S<k;S++)if(S%2===0)h.push(_[S]-v[S]);else{var E=e.Util.colorToRGBA(v[S]);T=e.Util.colorToRGBA(_[S]),v[S]=E,h.push({r:T.r-E.r,g:T.g-E.g,b:T.b-E.b,a:T.a-E.a})}else for(S=0;S<k;S++)h.push(_[S]-v[S]);else c.indexOf(d)!==-1?(v=e.Util.colorToRGBA(v),T=e.Util.colorToRGBA(_),h={r:T.r-v.r,g:T.g-v.g,b:T.b-v.b,a:T.a-v.a}):h=_-v;f.attrs[m][this._id][d]={start:v,diff:h,end:_,trueEnd:x,trueStart:w},f.tweens[m][d]=this._id}_tweenFunc(d){var _=this.node,C=f.attrs[_._id][this._id],m,v,h,p,S,k,x,w;for(m in C){if(v=C[m],h=v.start,p=v.diff,w=v.end,e.Util._isArray(h))if(S=[],x=Math.max(h.length,w.length),m.indexOf("fill")===0)for(k=0;k<x;k++)k%2===0?S.push((h[k]||0)+p[k]*d):S.push("rgba("+Math.round(h[k].r+p[k].r*d)+","+Math.round(h[k].g+p[k].g*d)+","+Math.round(h[k].b+p[k].b*d)+","+(h[k].a+p[k].a*d)+")");else for(k=0;k<x;k++)S.push((h[k]||0)+p[k]*d);else c.indexOf(m)!==-1?S="rgba("+Math.round(h.r+p.r*d)+","+Math.round(h.g+p.g*d)+","+Math.round(h.b+p.b*d)+","+(h.a+p.a*d)+")":S=h+p*d;_.setAttr(m,S)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var d=this.node,_=f.attrs[d._id][this._id];_.points&&_.points.trueEnd&&d.setAttr("points",_.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var d=this.node,_=f.attrs[d._id][this._id];_.points&&_.points.trueStart&&d.points(_.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(d){return this.tween.seek(d*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var d=this.node._id,_=this._id,C=f.tweens[d],m;this.pause();for(m in C)delete f.tweens[d][m];delete f.attrs[d][_]}}t.Tween=f,f.attrs={},f.tweens={},n.Node.prototype.to=function(g){var d=g.onFinish;g.node=this,g.onFinish=function(){this.destroy(),d&&d()};var _=new f(g);_.play()},t.Easings={BackEaseIn(g,d,_,C){var m=1.70158;return _*(g/=C)*g*((m+1)*g-m)+d},BackEaseOut(g,d,_,C){var m=1.70158;return _*((g=g/C-1)*g*((m+1)*g+m)+1)+d},BackEaseInOut(g,d,_,C){var m=1.70158;return(g/=C/2)<1?_/2*(g*g*(((m*=1.525)+1)*g-m))+d:_/2*((g-=2)*g*(((m*=1.525)+1)*g+m)+2)+d},ElasticEaseIn(g,d,_,C,m,v){var h=0;return g===0?d:(g/=C)===1?d+_:(v||(v=C*.3),!m||m<Math.abs(_)?(m=_,h=v/4):h=v/(2*Math.PI)*Math.asin(_/m),-(m*Math.pow(2,10*(g-=1))*Math.sin((g*C-h)*(2*Math.PI)/v))+d)},ElasticEaseOut(g,d,_,C,m,v){var h=0;return g===0?d:(g/=C)===1?d+_:(v||(v=C*.3),!m||m<Math.abs(_)?(m=_,h=v/4):h=v/(2*Math.PI)*Math.asin(_/m),m*Math.pow(2,-10*g)*Math.sin((g*C-h)*(2*Math.PI)/v)+_+d)},ElasticEaseInOut(g,d,_,C,m,v){var h=0;return g===0?d:(g/=C/2)===2?d+_:(v||(v=C*(.3*1.5)),!m||m<Math.abs(_)?(m=_,h=v/4):h=v/(2*Math.PI)*Math.asin(_/m),g<1?-.5*(m*Math.pow(2,10*(g-=1))*Math.sin((g*C-h)*(2*Math.PI)/v))+d:m*Math.pow(2,-10*(g-=1))*Math.sin((g*C-h)*(2*Math.PI)/v)*.5+_+d)},BounceEaseOut(g,d,_,C){return(g/=C)<1/2.75?_*(7.5625*g*g)+d:g<2/2.75?_*(7.5625*(g-=1.5/2.75)*g+.75)+d:g<2.5/2.75?_*(7.5625*(g-=2.25/2.75)*g+.9375)+d:_*(7.5625*(g-=2.625/2.75)*g+.984375)+d},BounceEaseIn(g,d,_,C){return _-t.Easings.BounceEaseOut(C-g,0,_,C)+d},BounceEaseInOut(g,d,_,C){return g<C/2?t.Easings.BounceEaseIn(g*2,0,_,C)*.5+d:t.Easings.BounceEaseOut(g*2-C,0,_,C)*.5+_*.5+d},EaseIn(g,d,_,C){return _*(g/=C)*g+d},EaseOut(g,d,_,C){return-_*(g/=C)*(g-2)+d},EaseInOut(g,d,_,C){return(g/=C/2)<1?_/2*g*g+d:-_/2*(--g*(g-2)-1)+d},StrongEaseIn(g,d,_,C){return _*(g/=C)*g*g*g*g+d},StrongEaseOut(g,d,_,C){return _*((g=g/C-1)*g*g*g*g+1)+d},StrongEaseInOut(g,d,_,C){return(g/=C/2)<1?_/2*g*g*g*g*g+d:_/2*((g-=2)*g*g*g*g+2)+d},Linear(g,d,_,C){return _*g/C+d}}})(hf);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=K,r=ve,n=de,i=zr,a=of,o=Li,s=mo,l=Ln,u=po,c=Te,y=bn,f=hf,g=It,d=St;t.Konva=r.Util._assign(e.Konva,{Util:r.Util,Transform:r.Transform,Node:n.Node,Container:i.Container,Stage:a.Stage,stages:a.stages,Layer:o.Layer,FastLayer:s.FastLayer,Group:l.Group,DD:u.DD,Shape:c.Shape,shapes:c.shapes,Animation:y.Animation,Tween:f.Tween,Easings:f.Easings,Context:g.Context,Canvas:d.Canvas}),t.default=t.Konva})(tf);var yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.Arc=void 0;const _o=W,up=Te,vc=K,So=U,hp=K;class Wt extends up.Shape{_sceneFunc(e){var r=vc.Konva.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,r,n),e.arc(0,0,this.innerRadius(),r,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),r=this.outerRadius(),n=this.clockwise(),i=vc.Konva.getAngle(n?360-this.angle():this.angle()),a=Math.cos(Math.min(i,Math.PI)),o=1,s=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),u=a*(a>0?e:r),c=o*r,y=s*(s>0?e:r),f=l*(l>0?r:e);return{x:u,y:n?-1*f:y,width:c-u,height:f-y}}}yo.Arc=Wt;Wt.prototype._centroid=!0;Wt.prototype.className="Arc";Wt.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,hp._registerNode)(Wt);_o.Factory.addGetterSetter(Wt,"innerRadius",0,(0,So.getNumberValidator)());_o.Factory.addGetterSetter(Wt,"outerRadius",0,(0,So.getNumberValidator)());_o.Factory.addGetterSetter(Wt,"angle",0,(0,So.getNumberValidator)());_o.Factory.addGetterSetter(Wt,"clockwise",!1,(0,So.getBooleanValidator)());var wo={},bi={};Object.defineProperty(bi,"__esModule",{value:!0});bi.Line=void 0;const Co=W,cp=Te,cf=U,dp=K;function bl(t,e,r,n,i,a,o){var s=Math.sqrt(Math.pow(r-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-r,2)+Math.pow(a-n,2)),u=o*s/(s+l),c=o*l/(s+l),y=r-u*(i-t),f=n-u*(a-e),g=r+c*(i-t),d=n+c*(a-e);return[y,f,g,d]}function mc(t,e){var r=t.length,n=[],i,a;for(i=2;i<r-2;i+=2)a=bl(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e),!isNaN(a[0])&&(n.push(a[0]),n.push(a[1]),n.push(t[i]),n.push(t[i+1]),n.push(a[2]),n.push(a[3]));return n}class yr extends cp.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){var r=this.points(),n=r.length,i=this.tension(),a=this.closed(),o=this.bezier(),s,l,u;if(n){if(e.beginPath(),e.moveTo(r[0],r[1]),i!==0&&n>4){for(s=this.getTensionPoints(),l=s.length,u=a?0:4,a||e.quadraticCurveTo(s[0],s[1],s[2],s[3]);u<l-2;)e.bezierCurveTo(s[u++],s[u++],s[u++],s[u++],s[u++],s[u++]);a||e.quadraticCurveTo(s[l-2],s[l-1],r[n-2],r[n-1])}else if(o)for(u=2;u<n;)e.bezierCurveTo(r[u++],r[u++],r[u++],r[u++],r[u++],r[u++]);else for(u=2;u<n;u+=2)e.lineTo(r[u],r[u+1]);a?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():mc(this.points(),this.tension())}_getTensionPointsClosed(){var e=this.points(),r=e.length,n=this.tension(),i=bl(e[r-2],e[r-1],e[0],e[1],e[2],e[3],n),a=bl(e[r-4],e[r-3],e[r-2],e[r-1],e[0],e[1],n),o=mc(e,n),s=[i[2],i[3]].concat(o).concat([a[0],a[1],e[r-2],e[r-1],a[2],a[3],i[0],i[1],e[0],e[1]]);return s}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();for(var r=e[0],n=e[0],i=e[1],a=e[1],o,s,l=0;l<e.length/2;l++)o=e[l*2],s=e[l*2+1],r=Math.min(r,o),n=Math.max(n,o),i=Math.min(i,s),a=Math.max(a,s);return{x:r,y:i,width:n-r,height:a-i}}}bi.Line=yr;yr.prototype.className="Line";yr.prototype._attrsAffectingSize=["points","bezier","tension"];(0,dp._registerNode)(yr);Co.Factory.addGetterSetter(yr,"closed",!1);Co.Factory.addGetterSetter(yr,"bezier",!1);Co.Factory.addGetterSetter(yr,"tension",0,(0,cf.getNumberValidator)());Co.Factory.addGetterSetter(yr,"points",[],(0,cf.getNumberArrayValidator)());var Dn={},df={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(o,s,l)=>{let u,c,y;u=l/2,c=0;for(let g=0;g<20;g++)y=u*t.tValues[20][g]+u,c+=t.cValues[20][g]*n(o,s,y);return u*c};t.getCubicArcLength=e;const r=(o,s,l)=>{l===void 0&&(l=1);const u=o[0]-2*o[1]+o[2],c=s[0]-2*s[1]+s[2],y=2*o[1]-2*o[0],f=2*s[1]-2*s[0],g=4*(u*u+c*c),d=4*(u*y+c*f),_=y*y+f*f;if(g===0)return l*Math.sqrt(Math.pow(o[2]-o[0],2)+Math.pow(s[2]-s[0],2));const C=d/(2*g),m=_/g,v=l+C,h=m-C*C,p=v*v+h>0?Math.sqrt(v*v+h):0,S=C*C+h>0?Math.sqrt(C*C+h):0,k=C+Math.sqrt(C*C+h)!==0?h*Math.log(Math.abs((v+p)/(C+S))):0;return Math.sqrt(g)/2*(v*p-C*S+k)};t.getQuadraticArcLength=r;function n(o,s,l){const u=i(1,l,o),c=i(1,l,s),y=u*u+c*c;return Math.sqrt(y)}const i=(o,s,l)=>{const u=l.length-1;let c,y;if(u===0)return 0;if(o===0){y=0;for(let f=0;f<=u;f++)y+=t.binomialCoefficients[u][f]*Math.pow(1-s,u-f)*Math.pow(s,f)*l[f];return y}else{c=new Array(u);for(let f=0;f<u;f++)c[f]=u*(l[f+1]-l[f]);return i(o-1,s,c)}},a=(o,s,l)=>{let u=1,c=o/s,y=(o-l(c))/s,f=0;for(;u>.001;){const g=l(c+y),d=Math.abs(o-g)/s;if(d<u)u=d,c+=y;else{const _=l(c-y),C=Math.abs(o-_)/s;C<u?(u=C,c-=y):y/=2}if(f++,f>500)break}return c};t.t2length=a})(df);Object.defineProperty(Dn,"__esModule",{value:!0});Dn.Path=void 0;const fp=W,gp=Te,pp=K,Zr=df;class Ee extends gp.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Ee.parsePathData(this.data()),this.pathLength=Ee.getPathLength(this.dataArray)}_sceneFunc(e){var r=this.dataArray;e.beginPath();for(var n=!1,i=0;i<r.length;i++){var a=r[i].command,o=r[i].points;switch(a){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var s=o[0],l=o[1],u=o[2],c=o[3],y=o[4],f=o[5],g=o[6],d=o[7],_=u>c?u:c,C=u>c?1:u/c,m=u>c?c/u:1;e.translate(s,l),e.rotate(g),e.scale(C,m),e.arc(0,0,_,y,y+f,1-d),e.scale(1/C,1/m),e.rotate(-g),e.translate(-s,-l);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){var e=[];this.dataArray.forEach(function(u){if(u.command==="A"){var c=u.points[4],y=u.points[5],f=u.points[4]+y,g=Math.PI/180;if(Math.abs(c-f)<g&&(g=Math.abs(c-f)),y<0)for(let d=c-g;d>f;d-=g){const _=Ee.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],d,0);e.push(_.x,_.y)}else for(let d=c+g;d<f;d+=g){const _=Ee.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],d,0);e.push(_.x,_.y)}}else if(u.command==="C")for(let d=0;d<=1;d+=.01){const _=Ee.getPointOnCubicBezier(d,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);e.push(_.x,_.y)}else e=e.concat(u.points)});for(var r=e[0],n=e[0],i=e[1],a=e[1],o,s,l=0;l<e.length/2;l++)o=e[l*2],s=e[l*2+1],isNaN(o)||(r=Math.min(r,o),n=Math.max(n,o)),isNaN(s)||(i=Math.min(i,s),a=Math.max(a,s));return{x:r,y:i,width:n-r,height:a-i}}getLength(){return this.pathLength}getPointAtLength(e){return Ee.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,r,n,i){return Math.sqrt((n-e)*(n-e)+(i-r)*(i-r))}static getPathLength(e){let r=0;for(var n=0;n<e.length;++n)r+=e[n].pathLength;return r}static getPointAtLengthOfDataArray(e,r){var n,i=0,a=r.length;if(!a)return null;for(;i<a&&e>r[i].pathLength;)e-=r[i].pathLength,++i;if(i===a)return n=r[i-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return n=r[i].points.slice(0,2),{x:n[0],y:n[1]};var o=r[i],s=o.points;switch(o.command){case"L":return Ee.getPointOnLine(e,o.start.x,o.start.y,s[0],s[1]);case"C":return Ee.getPointOnCubicBezier((0,Zr.t2length)(e,Ee.getPathLength(r),_=>(0,Zr.getCubicArcLength)([o.start.x,s[0],s[2],s[4]],[o.start.y,s[1],s[3],s[5]],_)),o.start.x,o.start.y,s[0],s[1],s[2],s[3],s[4],s[5]);case"Q":return Ee.getPointOnQuadraticBezier((0,Zr.t2length)(e,Ee.getPathLength(r),_=>(0,Zr.getQuadraticArcLength)([o.start.x,s[0],s[2]],[o.start.y,s[1],s[3]],_)),o.start.x,o.start.y,s[0],s[1],s[2],s[3]);case"A":var l=s[0],u=s[1],c=s[2],y=s[3],f=s[4],g=s[5],d=s[6];return f+=g*e/o.pathLength,Ee.getPointOnEllipticalArc(l,u,c,y,f,d)}return null}static getPointOnLine(e,r,n,i,a,o,s){o===void 0&&(o=r),s===void 0&&(s=n);var l=(a-n)/(i-r+1e-8),u=Math.sqrt(e*e/(1+l*l));i<r&&(u*=-1);var c=l*u,y;if(i===r)y={x:o,y:s+c};else if((s-n)/(o-r+1e-8)===l)y={x:o+u,y:s+c};else{var f,g,d=this.getLineLength(r,n,i,a),_=(o-r)*(i-r)+(s-n)*(a-n);_=_/(d*d),f=r+_*(i-r),g=n+_*(a-n);var C=this.getLineLength(o,s,f,g),m=Math.sqrt(e*e-C*C);u=Math.sqrt(m*m/(1+l*l)),i<r&&(u*=-1),c=l*u,y={x:f+u,y:g+c}}return y}static getPointOnCubicBezier(e,r,n,i,a,o,s,l,u){function c(C){return C*C*C}function y(C){return 3*C*C*(1-C)}function f(C){return 3*C*(1-C)*(1-C)}function g(C){return(1-C)*(1-C)*(1-C)}var d=l*c(e)+o*y(e)+i*f(e)+r*g(e),_=u*c(e)+s*y(e)+a*f(e)+n*g(e);return{x:d,y:_}}static getPointOnQuadraticBezier(e,r,n,i,a,o,s){function l(g){return g*g}function u(g){return 2*g*(1-g)}function c(g){return(1-g)*(1-g)}var y=o*l(e)+i*u(e)+r*c(e),f=s*l(e)+a*u(e)+n*c(e);return{x:y,y:f}}static getPointOnEllipticalArc(e,r,n,i,a,o){var s=Math.cos(o),l=Math.sin(o),u={x:n*Math.cos(a),y:i*Math.sin(a)};return{x:e+(u.x*s-u.y*l),y:r+(u.x*l+u.y*s)}}static parsePathData(e){if(!e)return[];var r=e,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var i=0;i<n.length;i++)r=r.replace(new RegExp(n[i],"g"),"|"+n[i]);var a=r.split("|"),o=[],s=[],l=0,u=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,y;for(i=1;i<a.length;i++){var f=a[i],g=f.charAt(0);for(f=f.slice(1),s.length=0;y=c.exec(f);)s.push(y[0]);for(var d=[],_=0,C=s.length;_<C;_++){if(s[_]==="00"){d.push(0,0);continue}var m=parseFloat(s[_]);isNaN(m)?d.push(0):d.push(m)}for(;d.length>0&&!isNaN(d[0]);){var v="",h=[],p=l,S=u,k,x,w,T,E,N,A,L,z,G;switch(g){case"l":l+=d.shift(),u+=d.shift(),v="L",h.push(l,u);break;case"L":l=d.shift(),u=d.shift(),h.push(l,u);break;case"m":var H=d.shift(),j=d.shift();if(l+=H,u+=j,v="M",o.length>2&&o[o.length-1].command==="z"){for(var F=o.length-2;F>=0;F--)if(o[F].command==="M"){l=o[F].points[0]+H,u=o[F].points[1]+j;break}}h.push(l,u),g="l";break;case"M":l=d.shift(),u=d.shift(),v="M",h.push(l,u),g="L";break;case"h":l+=d.shift(),v="L",h.push(l,u);break;case"H":l=d.shift(),v="L",h.push(l,u);break;case"v":u+=d.shift(),v="L",h.push(l,u);break;case"V":u=d.shift(),v="L",h.push(l,u);break;case"C":h.push(d.shift(),d.shift(),d.shift(),d.shift()),l=d.shift(),u=d.shift(),h.push(l,u);break;case"c":h.push(l+d.shift(),u+d.shift(),l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),v="C",h.push(l,u);break;case"S":x=l,w=u,k=o[o.length-1],k.command==="C"&&(x=l+(l-k.points[2]),w=u+(u-k.points[3])),h.push(x,w,d.shift(),d.shift()),l=d.shift(),u=d.shift(),v="C",h.push(l,u);break;case"s":x=l,w=u,k=o[o.length-1],k.command==="C"&&(x=l+(l-k.points[2]),w=u+(u-k.points[3])),h.push(x,w,l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),v="C",h.push(l,u);break;case"Q":h.push(d.shift(),d.shift()),l=d.shift(),u=d.shift(),h.push(l,u);break;case"q":h.push(l+d.shift(),u+d.shift()),l+=d.shift(),u+=d.shift(),v="Q",h.push(l,u);break;case"T":x=l,w=u,k=o[o.length-1],k.command==="Q"&&(x=l+(l-k.points[0]),w=u+(u-k.points[1])),l=d.shift(),u=d.shift(),v="Q",h.push(x,w,l,u);break;case"t":x=l,w=u,k=o[o.length-1],k.command==="Q"&&(x=l+(l-k.points[0]),w=u+(u-k.points[1])),l+=d.shift(),u+=d.shift(),v="Q",h.push(x,w,l,u);break;case"A":T=d.shift(),E=d.shift(),N=d.shift(),A=d.shift(),L=d.shift(),z=l,G=u,l=d.shift(),u=d.shift(),v="A",h=this.convertEndpointToCenterParameterization(z,G,l,u,A,L,T,E,N);break;case"a":T=d.shift(),E=d.shift(),N=d.shift(),A=d.shift(),L=d.shift(),z=l,G=u,l+=d.shift(),u+=d.shift(),v="A",h=this.convertEndpointToCenterParameterization(z,G,l,u,A,L,T,E,N);break}o.push({command:v||g,points:h,start:{x:p,y:S},pathLength:this.calcLength(p,S,v||g,h)})}(g==="z"||g==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,r,n,i){var a,o,s,l,u=Ee;switch(n){case"L":return u.getLineLength(e,r,i[0],i[1]);case"C":return(0,Zr.getCubicArcLength)([e,i[0],i[2],i[4]],[r,i[1],i[3],i[5]],1);case"Q":return(0,Zr.getQuadraticArcLength)([e,i[0],i[2]],[r,i[1],i[3]],1);case"A":a=0;var c=i[4],y=i[5],f=i[4]+y,g=Math.PI/180;if(Math.abs(c-f)<g&&(g=Math.abs(c-f)),o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],c,0),y<0)for(l=c-g;l>f;l-=g)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;else for(l=c+g;l<f;l+=g)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),a+=u.getLineLength(o.x,o.y,s.x,s.y),o=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),a+=u.getLineLength(o.x,o.y,s.x,s.y),a}return 0}static convertEndpointToCenterParameterization(e,r,n,i,a,o,s,l,u){var c=u*(Math.PI/180),y=Math.cos(c)*(e-n)/2+Math.sin(c)*(r-i)/2,f=-1*Math.sin(c)*(e-n)/2+Math.cos(c)*(r-i)/2,g=y*y/(s*s)+f*f/(l*l);g>1&&(s*=Math.sqrt(g),l*=Math.sqrt(g));var d=Math.sqrt((s*s*(l*l)-s*s*(f*f)-l*l*(y*y))/(s*s*(f*f)+l*l*(y*y)));a===o&&(d*=-1),isNaN(d)&&(d=0);var _=d*s*f/l,C=d*-l*y/s,m=(e+n)/2+Math.cos(c)*_-Math.sin(c)*C,v=(r+i)/2+Math.sin(c)*_+Math.cos(c)*C,h=function(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])},p=function(E,N){return(E[0]*N[0]+E[1]*N[1])/(h(E)*h(N))},S=function(E,N){return(E[0]*N[1]<E[1]*N[0]?-1:1)*Math.acos(p(E,N))},k=S([1,0],[(y-_)/s,(f-C)/l]),x=[(y-_)/s,(f-C)/l],w=[(-1*y-_)/s,(-1*f-C)/l],T=S(x,w);return p(x,w)<=-1&&(T=Math.PI),p(x,w)>=1&&(T=0),o===0&&T>0&&(T=T-2*Math.PI),o===1&&T<0&&(T=T+2*Math.PI),[m,v,s,l,k,T,c,o]}}Dn.Path=Ee;Ee.prototype.className="Path";Ee.prototype._attrsAffectingSize=["data"];(0,pp._registerNode)(Ee);fp.Factory.addGetterSetter(Ee,"data");Object.defineProperty(wo,"__esModule",{value:!0});wo.Arrow=void 0;const ko=W,vp=bi,ff=U,mp=K,yc=Dn;class Br extends vp.Line{_sceneFunc(e){super._sceneFunc(e);var r=Math.PI*2,n=this.points(),i=n,a=this.tension()!==0&&n.length>4;a&&(i=this.getTensionPoints());var o=this.pointerLength(),s=n.length,l,u;if(a){const f=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[s-2],n[s-1]],g=yc.Path.calcLength(i[i.length-4],i[i.length-3],"C",f),d=yc.Path.getPointOnQuadraticBezier(Math.min(1,1-o/g),f[0],f[1],f[2],f[3],f[4],f[5]);l=n[s-2]-d.x,u=n[s-1]-d.y}else l=n[s-2]-n[s-4],u=n[s-1]-n[s-3];var c=(Math.atan2(u,l)+r)%r,y=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[s-2],n[s-1]),e.rotate(c),e.moveTo(0,0),e.lineTo(-o,y/2),e.lineTo(-o,-y/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),a?(l=(i[0]+i[2])/2-n[0],u=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],u=n[3]-n[1]),e.rotate((Math.atan2(-u,-l)+r)%r),e.moveTo(0,0),e.lineTo(-o,y/2),e.lineTo(-o,-y/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),r=this.pointerWidth()/2;return{x:e.x-r,y:e.y-r,width:e.width+r*2,height:e.height+r*2}}}wo.Arrow=Br;Br.prototype.className="Arrow";(0,mp._registerNode)(Br);ko.Factory.addGetterSetter(Br,"pointerLength",10,(0,ff.getNumberValidator)());ko.Factory.addGetterSetter(Br,"pointerWidth",10,(0,ff.getNumberValidator)());ko.Factory.addGetterSetter(Br,"pointerAtBeginning",!1);ko.Factory.addGetterSetter(Br,"pointerAtEnding",!0);var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.Circle=void 0;const yp=W,_p=Te,Sp=U,wp=K;class Gn extends _p.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Eo.Circle=Gn;Gn.prototype._centroid=!0;Gn.prototype.className="Circle";Gn.prototype._attrsAffectingSize=["radius"];(0,wp._registerNode)(Gn);yp.Factory.addGetterSetter(Gn,"radius",0,(0,Sp.getNumberValidator)());var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.Ellipse=void 0;const zu=W,Cp=Te,gf=U,kp=K;class _r extends Cp.Shape{_sceneFunc(e){var r=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),r!==n&&e.scale(1,n/r),e.arc(0,0,r,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Po.Ellipse=_r;_r.prototype.className="Ellipse";_r.prototype._centroid=!0;_r.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,kp._registerNode)(_r);zu.Factory.addComponentsGetterSetter(_r,"radius",["x","y"]);zu.Factory.addGetterSetter(_r,"radiusX",0,(0,gf.getNumberValidator)());zu.Factory.addGetterSetter(_r,"radiusY",0,(0,gf.getNumberValidator)());var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.Image=void 0;const Ls=ve,$r=W,Ep=Te,Pp=K,Di=U;class dt extends Ep.Shape{constructor(e){super(e),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(e){const r=this.getWidth(),n=this.getHeight(),i=this.cornerRadius(),a=this.attrs.image;let o;if(a){const s=this.attrs.cropWidth,l=this.attrs.cropHeight;s&&l?o=[a,this.cropX(),this.cropY(),s,l,0,0,r,n]:o=[a,0,0,r,n]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?Ls.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)),a&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){var r=this.width(),n=this.height(),i=this.cornerRadius();e.beginPath(),i?Ls.Util.drawRoundedRectPath(e,r,n,i):e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,r;return(e=this.attrs.width)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var e,r;return(e=this.attrs.height)!==null&&e!==void 0?e:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(e,r,n=null){var i=Ls.Util.createImageElement();i.onload=function(){var a=new dt({image:i});r(a)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}}xo.Image=dt;dt.prototype.className="Image";(0,Pp._registerNode)(dt);$r.Factory.addGetterSetter(dt,"cornerRadius",0,(0,Di.getNumberOrArrayOfNumbersValidator)(4));$r.Factory.addGetterSetter(dt,"image");$r.Factory.addComponentsGetterSetter(dt,"crop",["x","y","width","height"]);$r.Factory.addGetterSetter(dt,"cropX",0,(0,Di.getNumberValidator)());$r.Factory.addGetterSetter(dt,"cropY",0,(0,Di.getNumberValidator)());$r.Factory.addGetterSetter(dt,"cropWidth",0,(0,Di.getNumberValidator)());$r.Factory.addGetterSetter(dt,"cropHeight",0,(0,Di.getNumberValidator)());var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.Tag=xn.Label=void 0;const To=W,xp=Te,Tp=Ln,Vu=U,pf=K;var vf=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],Np="Change.konva",Fp="none",Dl="up",Gl="right",Il="down",Ul="left",Rp=vf.length;class Bu extends Tp.Group{constructor(e){super(e),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){var r=this,n,i=function(){r._sync()};for(n=0;n<Rp;n++)e.on(vf[n]+Np,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var e=this.getText(),r=this.getTag(),n,i,a,o,s,l,u;if(e&&r){switch(n=e.width(),i=e.height(),a=r.pointerDirection(),o=r.pointerWidth(),u=r.pointerHeight(),s=0,l=0,a){case Dl:s=n/2,l=-1*u;break;case Gl:s=n+o,l=i/2;break;case Il:s=n/2,l=i+u;break;case Ul:s=-1*o,l=i/2;break}r.setAttrs({x:-1*s,y:-1*l,width:n,height:i}),e.setAttrs({x:-1*s,y:-1*l})}}}xn.Label=Bu;Bu.prototype.className="Label";(0,pf._registerNode)(Bu);class Hr extends xp.Shape{_sceneFunc(e){var r=this.width(),n=this.height(),i=this.pointerDirection(),a=this.pointerWidth(),o=this.pointerHeight(),s=this.cornerRadius();let l=0,u=0,c=0,y=0;typeof s=="number"?l=u=c=y=Math.min(s,r/2,n/2):(l=Math.min(s[0]||0,r/2,n/2),u=Math.min(s[1]||0,r/2,n/2),y=Math.min(s[2]||0,r/2,n/2),c=Math.min(s[3]||0,r/2,n/2)),e.beginPath(),e.moveTo(l,0),i===Dl&&(e.lineTo((r-a)/2,0),e.lineTo(r/2,-1*o),e.lineTo((r+a)/2,0)),e.lineTo(r-u,0),e.arc(r-u,u,u,Math.PI*3/2,0,!1),i===Gl&&(e.lineTo(r,(n-o)/2),e.lineTo(r+a,n/2),e.lineTo(r,(n+o)/2)),e.lineTo(r,n-y),e.arc(r-y,n-y,y,0,Math.PI/2,!1),i===Il&&(e.lineTo((r+a)/2,n),e.lineTo(r/2,n+o),e.lineTo((r-a)/2,n)),e.lineTo(c,n),e.arc(c,n-c,c,Math.PI/2,Math.PI,!1),i===Ul&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*a,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){var e=0,r=0,n=this.pointerWidth(),i=this.pointerHeight(),a=this.pointerDirection(),o=this.width(),s=this.height();return a===Dl?(r-=i,s+=i):a===Il?s+=i:a===Ul?(e-=n*1.5,o+=n):a===Gl&&(o+=n*1.5),{x:e,y:r,width:o,height:s}}}xn.Tag=Hr;Hr.prototype.className="Tag";(0,pf._registerNode)(Hr);To.Factory.addGetterSetter(Hr,"pointerDirection",Fp);To.Factory.addGetterSetter(Hr,"pointerWidth",0,(0,Vu.getNumberValidator)());To.Factory.addGetterSetter(Hr,"pointerHeight",0,(0,Vu.getNumberValidator)());To.Factory.addGetterSetter(Hr,"cornerRadius",0,(0,Vu.getNumberOrArrayOfNumbersValidator)(4));var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.Rect=void 0;const Mp=W,Ap=Te,Op=K,Lp=ve,bp=U;class No extends Ap.Shape{_sceneFunc(e){var r=this.cornerRadius(),n=this.width(),i=this.height();e.beginPath(),r?Lp.Util.drawRoundedRectPath(e,n,i,r):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}}Gi.Rect=No;No.prototype.className="Rect";(0,Op._registerNode)(No);Mp.Factory.addGetterSetter(No,"cornerRadius",0,(0,bp.getNumberOrArrayOfNumbersValidator)(4));var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0});Fo.RegularPolygon=void 0;const mf=W,Dp=Te,yf=U,Gp=K;class jr extends Dp.Shape{_sceneFunc(e){const r=this._getPoints();e.beginPath(),e.moveTo(r[0].x,r[0].y);for(var n=1;n<r.length;n++)e.lineTo(r[n].x,r[n].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,r=this.attrs.radius||0,n=[];for(var i=0;i<e;i++)n.push({x:r*Math.sin(i*2*Math.PI/e),y:-1*r*Math.cos(i*2*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();var r=e[0].x,n=e[0].y,i=e[0].x,a=e[0].y;return e.forEach(o=>{r=Math.min(r,o.x),n=Math.max(n,o.x),i=Math.min(i,o.y),a=Math.max(a,o.y)}),{x:r,y:i,width:n-r,height:a-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Fo.RegularPolygon=jr;jr.prototype.className="RegularPolygon";jr.prototype._centroid=!0;jr.prototype._attrsAffectingSize=["radius"];(0,Gp._registerNode)(jr);mf.Factory.addGetterSetter(jr,"radius",0,(0,yf.getNumberValidator)());mf.Factory.addGetterSetter(jr,"sides",0,(0,yf.getNumberValidator)());var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.Ring=void 0;const _f=W,Ip=Te,Sf=U,Up=K;var _c=Math.PI*2;class Wr extends Ip.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,_c,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),_c,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ro.Ring=Wr;Wr.prototype.className="Ring";Wr.prototype._centroid=!0;Wr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Up._registerNode)(Wr);_f.Factory.addGetterSetter(Wr,"innerRadius",0,(0,Sf.getNumberValidator)());_f.Factory.addGetterSetter(Wr,"outerRadius",0,(0,Sf.getNumberValidator)());var Mo={};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.Sprite=void 0;const Kr=W,zp=Te,Vp=bn,wf=U,Bp=K;class Ft extends zp.Shape{constructor(e){super(e),this._updated=!0,this.anim=new Vp.Animation(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,a=this.animations()[r],o=this.frameOffsets(),s=a[i+0],l=a[i+1],u=a[i+2],c=a[i+3],y=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,c),e.closePath(),e.fillStrokeShape(this)),y)if(o){var f=o[r],g=n*2;e.drawImage(y,s,l,u,c,f[g+0],f[g+1],u,c)}else e.drawImage(y,s,l,u,c,0,0,u,c)}_hitFunc(e){var r=this.animation(),n=this.frameIndex(),i=n*4,a=this.animations()[r],o=this.frameOffsets(),s=a[i+2],l=a[i+3];if(e.beginPath(),o){var u=o[r],c=n*2;e.rect(u[c+0],u[c+1],s,l)}else e.rect(0,0,s,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var e=this.frameIndex(),r=this.animation(),n=this.animations(),i=n[r],a=i.length/4;e<a-1?this.frameIndex(e+1):this.frameIndex(0)}}Mo.Sprite=Ft;Ft.prototype.className="Sprite";(0,Bp._registerNode)(Ft);Kr.Factory.addGetterSetter(Ft,"animation");Kr.Factory.addGetterSetter(Ft,"animations");Kr.Factory.addGetterSetter(Ft,"frameOffsets");Kr.Factory.addGetterSetter(Ft,"image");Kr.Factory.addGetterSetter(Ft,"frameIndex",0,(0,wf.getNumberValidator)());Kr.Factory.addGetterSetter(Ft,"frameRate",17,(0,wf.getNumberValidator)());Kr.Factory.backCompat(Ft,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.Star=void 0;const $u=W,$p=Te,Hu=U,Hp=K;class Sr extends $p.Shape{_sceneFunc(e){var r=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(var a=1;a<i*2;a++){var o=a%2===0?n:r,s=o*Math.sin(a*Math.PI/i),l=-1*o*Math.cos(a*Math.PI/i);e.lineTo(s,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ao.Star=Sr;Sr.prototype.className="Star";Sr.prototype._centroid=!0;Sr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Hp._registerNode)(Sr);$u.Factory.addGetterSetter(Sr,"numPoints",5,(0,Hu.getNumberValidator)());$u.Factory.addGetterSetter(Sr,"innerRadius",0,(0,Hu.getNumberValidator)());$u.Factory.addGetterSetter(Sr,"outerRadius",0,(0,Hu.getNumberValidator)());var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.Text=Gr.stringToArray=void 0;const zl=ve,Ue=W,jp=Te,wr=U,Wp=K;function Cf(t){return Array.from(t)}Gr.stringToArray=Cf;var Jr="auto",Kp="center",kf="inherit",Kn="justify",Yp="Change.konva",Xp="2d",Sc="-",Ef="left",Qp="text",qp="Text",Zp="top",Jp="bottom",wc="middle",Pf="normal",e3="px ",ia=" ",t3="right",Cc="rtl",r3="word",n3="char",kc="none",bs="…",xf=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],i3=xf.length;function a3(t){return t.split(",").map(e=>{e=e.trim();const r=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return r&&!n&&(e=`"${e}"`),e}).join(", ")}var aa;function Ds(){return aa||(aa=zl.Util.createCanvasElement().getContext(Xp),aa)}function o3(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function s3(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function l3(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class _e extends jp.Shape{constructor(e){super(l3(e)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<i3;r++)this.on(xf[r]+Yp,this._setTextData);this._setTextData()}_sceneFunc(e){var r=this.textArr,n=r.length;if(this.text()){var i=this.padding(),a=this.fontSize(),o=this.lineHeight()*a,s=this.verticalAlign(),l=this.direction(),u=0,c=this.align(),y=this.getWidth(),f=this.letterSpacing(),g=this.fill(),d=this.textDecoration(),_=d.indexOf("underline")!==-1,C=d.indexOf("line-through")!==-1,m;l=l===kf?e.direction:l;var v=0,v=o/2,h=0,p=0;for(l===Cc&&e.setAttr("direction",l),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",wc),e.setAttr("textAlign",Ef),s===wc?u=(this.getHeight()-n*o-i*2)/2:s===Jp&&(u=this.getHeight()-n*o-i*2),e.translate(i,u+i),m=0;m<n;m++){var h=0,p=0,S=r[m],k=S.text,x=S.width,w=S.lastInParagraph,T,E,N;if(e.save(),c===t3?h+=y-x-i*2:c===Kp&&(h+=(y-x-i*2)/2),_){e.save(),e.beginPath(),e.moveTo(h,v+p+Math.round(a/2)),T=k.split(" ").length-1,E=T===0,N=c===Kn&&!w?y-i*2:x,e.lineTo(h+Math.round(N),v+p+Math.round(a/2)),e.lineWidth=a/15;const j=this._getLinearGradient();e.strokeStyle=j||g,e.stroke(),e.restore()}if(C){e.save(),e.beginPath(),e.moveTo(h,v+p),T=k.split(" ").length-1,E=T===0,N=c===Kn&&w&&!E?y-i*2:x,e.lineTo(h+Math.round(N),v+p),e.lineWidth=a/15;const j=this._getLinearGradient();e.strokeStyle=j||g,e.stroke(),e.restore()}if(l!==Cc&&(f!==0||c===Kn)){T=k.split(" ").length-1;for(var A=Cf(k),L=0;L<A.length;L++){var z=A[L];z===" "&&!w&&c===Kn&&(h+=(y-i*2-x)/T),this._partialTextX=h,this._partialTextY=v+p,this._partialText=z,e.fillStrokeShape(this),h+=this.measureSize(z).width+f}}else f!==0&&e.setAttr("letterSpacing",`${f}px`),this._partialTextX=h,this._partialTextY=v+p,this._partialText=k,e.fillStrokeShape(this);e.restore(),n>1&&(v+=o)}}}_hitFunc(e){var r=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,r,n),e.closePath(),e.fillStrokeShape(this)}setText(e){var r=zl.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(Qp,r),this}getWidth(){var e=this.attrs.width===Jr||this.attrs.width===void 0;return e?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var e=this.attrs.height===Jr||this.attrs.height===void 0;return e?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return zl.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var r=Ds(),n=this.fontSize(),i;return r.save(),r.font=this._getContextFont(),i=r.measureText(e),r.restore(),{width:i.width,height:n}}_getContextFont(){return this.fontStyle()+ia+this.fontVariant()+ia+(this.fontSize()+e3)+a3(this.fontFamily())}_addTextLine(e){this.align()===Kn&&(e=e.trim());var n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){var r=this.letterSpacing(),n=e.length;return Ds().measureText(e).width+(n?r*(n-1):0)}_setTextData(){var e=this.text().split(`
`),r=+this.fontSize(),n=0,i=this.lineHeight()*r,a=this.attrs.width,o=this.attrs.height,s=a!==Jr&&a!==void 0,l=o!==Jr&&o!==void 0,u=this.padding(),c=a-u*2,y=o-u*2,f=0,g=this.wrap(),d=g!==kc,_=g!==n3&&d,C=this.ellipsis();this.textArr=[],Ds().font=this._getContextFont();for(var m=C?this._getTextWidth(bs):0,v=0,h=e.length;v<h;++v){var p=e[v],S=this._getTextWidth(p);if(s&&S>c)for(;p.length>0;){for(var k=0,x=p.length,w="",T=0;k<x;){var E=k+x>>>1,N=p.slice(0,E+1),A=this._getTextWidth(N)+m;A<=c?(k=E+1,w=N,T=A):x=E}if(w){if(_){var L,z=p[w.length],G=z===ia||z===Sc;G&&T<=c?L=w.length:L=Math.max(w.lastIndexOf(ia),w.lastIndexOf(Sc))+1,L>0&&(k=L,w=w.slice(0,k),T=this._getTextWidth(w))}w=w.trimRight(),this._addTextLine(w),n=Math.max(n,T),f+=i;var H=this._shouldHandleEllipsis(f);if(H){this._tryToAddEllipsisToLastLine();break}if(p=p.slice(k),p=p.trimLeft(),p.length>0&&(S=this._getTextWidth(p),S<=c)){this._addTextLine(p),f+=i,n=Math.max(n,S);break}}else break}else this._addTextLine(p),f+=i,n=Math.max(n,S),this._shouldHandleEllipsis(f)&&v<h-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+i>y)break}this.textHeight=r,this.textWidth=n}_shouldHandleEllipsis(e){var r=+this.fontSize(),n=this.lineHeight()*r,i=this.attrs.height,a=i!==Jr&&i!==void 0,o=this.padding(),s=i-o*2,l=this.wrap(),u=l!==kc;return!u||a&&e+n>s}_tryToAddEllipsisToLastLine(){var e=this.attrs.width,r=e!==Jr&&e!==void 0,n=this.padding(),i=e-n*2,a=this.ellipsis(),o=this.textArr[this.textArr.length-1];if(!(!o||!a)){if(r){var s=this._getTextWidth(o.text+bs)<i;s||(o.text=o.text.slice(0,o.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+bs)}}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,r=this.hasShadow();return e&&r?!0:super._useBufferCanvas()}}Gr.Text=_e;_e.prototype._fillFunc=o3;_e.prototype._strokeFunc=s3;_e.prototype.className=qp;_e.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Wp._registerNode)(_e);Ue.Factory.overWriteSetter(_e,"width",(0,wr.getNumberOrAutoValidator)());Ue.Factory.overWriteSetter(_e,"height",(0,wr.getNumberOrAutoValidator)());Ue.Factory.addGetterSetter(_e,"direction",kf);Ue.Factory.addGetterSetter(_e,"fontFamily","Arial");Ue.Factory.addGetterSetter(_e,"fontSize",12,(0,wr.getNumberValidator)());Ue.Factory.addGetterSetter(_e,"fontStyle",Pf);Ue.Factory.addGetterSetter(_e,"fontVariant",Pf);Ue.Factory.addGetterSetter(_e,"padding",0,(0,wr.getNumberValidator)());Ue.Factory.addGetterSetter(_e,"align",Ef);Ue.Factory.addGetterSetter(_e,"verticalAlign",Zp);Ue.Factory.addGetterSetter(_e,"lineHeight",1,(0,wr.getNumberValidator)());Ue.Factory.addGetterSetter(_e,"wrap",r3);Ue.Factory.addGetterSetter(_e,"ellipsis",!1,(0,wr.getBooleanValidator)());Ue.Factory.addGetterSetter(_e,"letterSpacing",0,(0,wr.getNumberValidator)());Ue.Factory.addGetterSetter(_e,"text","",(0,wr.getStringValidator)());Ue.Factory.addGetterSetter(_e,"textDecoration","");var Oo={};Object.defineProperty(Oo,"__esModule",{value:!0});Oo.TextPath=void 0;const Gs=ve,Ct=W,u3=Te,Yn=Dn,Is=Gr,Tf=U,h3=K;var c3="",Nf="normal";function Ff(t){t.fillText(this.partialText,0,0)}function Rf(t){t.strokeText(this.partialText,0,0)}class Ne extends u3.Shape{constructor(e){super(e),this.dummyCanvas=Gs.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Yn.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const r=this.pathLength;return e-1>r?null:Yn.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Yn.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();var r=this.textDecoration(),n=this.fill(),i=this.fontSize(),a=this.glyphInfo;r==="underline"&&e.beginPath();for(var o=0;o<a.length;o++){e.save();var s=a[o].p0;e.translate(s.x,s.y),e.rotate(a[o].rotation),this.partialText=a[o].text,e.fillStrokeShape(this),r==="underline"&&(o===0&&e.moveTo(0,i/2+1),e.lineTo(i,i/2+1)),e.restore()}r==="underline"&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();var r=this.glyphInfo;if(r.length>=1){var n=r[0].p0;e.moveTo(n.x,n.y)}for(var i=0;i<r.length;i++){var a=r[i].p1;e.lineTo(a.x,a.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Gs.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Is.Text.prototype.setText.call(this,e)}_getContextFont(){return Is.Text.prototype._getContextFont.call(this)}_getTextSize(e){var r=this.dummyCanvas,n=r.getContext("2d");n.save(),n.font=this._getContextFont();var i=n.measureText(e);return n.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const n=this.letterSpacing(),i=this.align(),a=this.kerningFunc(),o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);let s=0;i==="center"&&(s=Math.max(0,this.pathLength/2-o/2)),i==="right"&&(s=Math.max(0,this.pathLength-o));const l=(0,Is.stringToArray)(this.text());let u=s;for(var c=0;c<l.length;c++){const y=this._getPointAtLength(u);if(!y)return;let f=this._getTextSize(l[c]).width+n;if(l[c]===" "&&i==="justify"){const v=this.text().split(" ").length-1;f+=(this.pathLength-o)/v}const g=this._getPointAtLength(u+f);if(!g)return;const d=Yn.Path.getLineLength(y.x,y.y,g.x,g.y);let _=0;if(a)try{_=a(l[c-1],l[c])*this.fontSize()}catch{_=0}y.x+=_,g.x+=_,this.textWidth+=_;const C=Yn.Path.getPointOnLine(_+d/2,y.x,y.y,g.x,g.y),m=Math.atan2(g.y-y.y,g.x-y.x);this.glyphInfo.push({transposeX:C.x,transposeY:C.y,text:l[c],rotation:m,p0:y,p1:g}),u+=f}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var e=[];this.glyphInfo.forEach(function(c){e.push(c.p0.x),e.push(c.p0.y),e.push(c.p1.x),e.push(c.p1.y)});for(var r=e[0]||0,n=e[0]||0,i=e[1]||0,a=e[1]||0,o,s,l=0;l<e.length/2;l++)o=e[l*2],s=e[l*2+1],r=Math.min(r,o),n=Math.max(n,o),i=Math.min(i,s),a=Math.max(a,s);var u=this.fontSize();return{x:r-u/2,y:i-u/2,width:n-r+u,height:a-i+u}}destroy(){return Gs.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Oo.TextPath=Ne;Ne.prototype._fillFunc=Ff;Ne.prototype._strokeFunc=Rf;Ne.prototype._fillFuncHit=Ff;Ne.prototype._strokeFuncHit=Rf;Ne.prototype.className="TextPath";Ne.prototype._attrsAffectingSize=["text","fontSize","data"];(0,h3._registerNode)(Ne);Ct.Factory.addGetterSetter(Ne,"data");Ct.Factory.addGetterSetter(Ne,"fontFamily","Arial");Ct.Factory.addGetterSetter(Ne,"fontSize",12,(0,Tf.getNumberValidator)());Ct.Factory.addGetterSetter(Ne,"fontStyle",Nf);Ct.Factory.addGetterSetter(Ne,"align","left");Ct.Factory.addGetterSetter(Ne,"letterSpacing",0,(0,Tf.getNumberValidator)());Ct.Factory.addGetterSetter(Ne,"textBaseline","middle");Ct.Factory.addGetterSetter(Ne,"fontVariant",Nf);Ct.Factory.addGetterSetter(Ne,"text",c3);Ct.Factory.addGetterSetter(Ne,"textDecoration",null);Ct.Factory.addGetterSetter(Ne,"kerningFunc",null);var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0});Lo.Transformer=void 0;const ne=ve,J=W,Ec=de,d3=Te,f3=Gi,Pc=Ln,gt=K,Cr=U,g3=K;var Mf="tr-konva",p3=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${Mf}`).join(" "),xc="nodesRect",v3=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],m3={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const y3="ontouchstart"in gt.Konva._global;function _3(t,e,r){if(t==="rotater")return r;e+=ne.Util.degToRad(m3[t]||0);var n=(ne.Util.radToDeg(e)%360+360)%360;return ne.Util._inRange(n,315+22.5,360)||ne.Util._inRange(n,0,22.5)?"ns-resize":ne.Util._inRange(n,45-22.5,45+22.5)?"nesw-resize":ne.Util._inRange(n,90-22.5,90+22.5)?"ew-resize":ne.Util._inRange(n,135-22.5,135+22.5)?"nwse-resize":ne.Util._inRange(n,180-22.5,180+22.5)?"ns-resize":ne.Util._inRange(n,225-22.5,225+22.5)?"nesw-resize":ne.Util._inRange(n,270-22.5,270+22.5)?"ew-resize":ne.Util._inRange(n,315-22.5,315+22.5)?"nwse-resize":(ne.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var Wa=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],Tc=1e8;function S3(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function Af(t,e,r){const n=r.x+(t.x-r.x)*Math.cos(e)-(t.y-r.y)*Math.sin(e),i=r.y+(t.x-r.x)*Math.sin(e)+(t.y-r.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:n,y:i}}function w3(t,e){const r=S3(t);return Af(t,e,r)}function C3(t,e,r){let n=e;for(let i=0;i<t.length;i++){const a=gt.Konva.getAngle(t[i]),o=Math.abs(a-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<r&&(n=a)}return n}class q extends Pc.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(p3,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return ne.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Mf+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const r=e.filter(i=>i.isAncestorOf(this)?(ne.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=e=r,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},o=i._attrsAffectingSize.map(s=>s+"Change."+this._getEventNamespace()).join(" ");i.on(o,a),i.on(v3.map(s=>s+`.${this._getEventNamespace()}`).join(" "),a),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(i)}),this._resetTransformCache();var n=!!this.findOne(".top-left");return n&&this.update(),this}_proxyDrag(e){let r;e.on(`dragstart.${this._getEventNamespace()}`,n=>{r=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!r)return;const i=e.getAbsolutePosition(),a=i.x-r.x,o=i.y-r.y;this.nodes().forEach(s=>{if(s===e||s.isDragging())return;const l=s.getAbsolutePosition();s.setAbsolutePosition({x:l.x+a,y:l.y+o}),s.startDrag(n)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(xc),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(xc,this.__getNodeRect)}__getNodeShape(e,r=this.rotation(),n){var i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),s=i.x*a.x-e.offsetX()*a.x,l=i.y*a.y-e.offsetY()*a.y;const u=(gt.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),c={x:o.x+s*Math.cos(u)+l*Math.sin(-u),y:o.y+l*Math.cos(u)+s*Math.sin(u),width:i.width*a.x,height:i.height*a.y,rotation:u};return Af(c,-gt.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){var e=this.getNode();if(!e)return{x:-Tc,y:-Tc,width:0,height:0,rotation:0};const r=[];this.nodes().map(u=>{const c=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var y=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],f=u.getAbsoluteTransform();y.forEach(function(g){var d=f.point(g);r.push(d)})});const n=new ne.Transform;n.rotate(-gt.Konva.getAngle(this.rotation()));var i=1/0,a=1/0,o=-1/0,s=-1/0;r.forEach(function(u){var c=n.point(u);i===void 0&&(i=o=c.x,a=s=c.y),i=Math.min(i,c.x),a=Math.min(a,c.y),o=Math.max(o,c.x),s=Math.max(s,c.y)}),n.invert();const l=n.point({x:i,y:a});return{x:l.x,y:l.y,width:o-i,height:s-a,rotation:gt.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Wa.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){var r=new f3.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:y3?10:"auto"}),n=this;r.on("mousedown touchstart",function(i){n._handleMouseDown(i)}),r.on("dragstart",i=>{r.stopDrag(),i.cancelBubble=!0}),r.on("dragend",i=>{i.cancelBubble=!0}),r.on("mouseenter",()=>{var i=gt.Konva.getAngle(this.rotation()),a=this.rotateAnchorCursor(),o=_3(e,i,a);r.getStage().content&&(r.getStage().content.style.cursor=o),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var e=new d3.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r,n){var i=n.getParent(),a=i.padding();r.beginPath(),r.rect(-a,-a,n.width()+a*2,n.height()+a*2),r.moveTo(n.width()/2,-a),i.rotateEnabled()&&i.rotateLineVisible()&&r.lineTo(n.width()/2,-i.rotateAnchorOffset()*ne.Util._sign(n.height())-a),r.fillStrokeShape(n)},hitFunc:(r,n)=>{if(this.shouldOverdrawWholeArea()){var i=this.padding();r.beginPath(),r.rect(-i,-i,n.width()+i*2,n.height()+i*2),r.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",r=>{r.cancelBubble=!0}),e.on("dragmove",r=>{r.cancelBubble=!0}),e.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(e){this._movingAnchorName=e.target.name().split(" ")[0];var r=this._getNodeRect(),n=r.width,i=r.height,a=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/a),this.cos=Math.abs(n/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var o=e.target.getAbsolutePosition(),s=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:s.x-o.x,y:s.y-o.y},this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){var r,n,i,a=this.findOne("."+this._movingAnchorName),o=a.getStage();o.setPointersPositions(e);const s=o.getPointerPosition();let l={x:s.x-this._anchorDragOffset.x,y:s.y-this._anchorDragOffset.y};const u=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),a.setAbsolutePosition(l);const c=a.getAbsolutePosition();if(!(u.x===c.x&&u.y===c.y)){if(this._movingAnchorName==="rotater"){var y=this._getNodeRect();r=a.x()-y.width/2,n=-a.y()+y.height/2;let L=Math.atan2(-n,r)+Math.PI/2;y.height<0&&(L-=Math.PI);var f=gt.Konva.getAngle(this.rotation());const z=f+L,G=gt.Konva.getAngle(this.rotationSnapTolerance()),j=C3(this.rotationSnaps(),z,G)-y.rotation,F=w3(y,j);this._fitNodesInto(F,e);return}var g=this.shiftBehavior(),d;g==="inverted"?d=this.keepRatio()&&!e.shiftKey:g==="none"?d=this.keepRatio():d=this.keepRatio()||e.shiftKey;var h=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(d){var _=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(_.x-a.x(),2)+Math.pow(_.y-a.y(),2));var C=this.findOne(".top-left").x()>_.x?-1:1,m=this.findOne(".top-left").y()>_.y?-1:1;r=i*this.cos*C,n=i*this.sin*m,this.findOne(".top-left").x(_.x-r),this.findOne(".top-left").y(_.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(d){var _=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(a.x()-_.x,2)+Math.pow(_.y-a.y(),2));var C=this.findOne(".top-right").x()<_.x?-1:1,m=this.findOne(".top-right").y()>_.y?-1:1;r=i*this.cos*C,n=i*this.sin*m,this.findOne(".top-right").x(_.x+r),this.findOne(".top-right").y(_.y-n)}var v=a.position();this.findOne(".top-left").y(v.y),this.findOne(".bottom-right").x(v.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(d){var _=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(_.x-a.x(),2)+Math.pow(a.y()-_.y,2));var C=_.x<a.x()?-1:1,m=a.y()<_.y?-1:1;r=i*this.cos*C,n=i*this.sin*m,a.x(_.x-r),a.y(_.y+n)}v=a.position(),this.findOne(".top-left").x(v.x),this.findOne(".bottom-right").y(v.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(d){var _=h?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(a.x()-_.x,2)+Math.pow(a.y()-_.y,2));var C=this.findOne(".bottom-right").x()<_.x?-1:1,m=this.findOne(".bottom-right").y()<_.y?-1:1;r=i*this.cos*C,n=i*this.sin*m,this.findOne(".bottom-right").x(_.x+r),this.findOne(".bottom-right").y(_.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var h=this.centeredScaling()||e.altKey;if(h){var p=this.findOne(".top-left"),S=this.findOne(".bottom-right"),k=p.x(),x=p.y(),w=this.getWidth()-S.x(),T=this.getHeight()-S.y();S.move({x:-k,y:-x}),p.move({x:w,y:T})}var E=this.findOne(".top-left").getAbsolutePosition();r=E.x,n=E.y;var N=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),A=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:n,width:N,height:A,rotation:gt.Konva.getAngle(this.rotation())},e)}}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();this._fire("transformend",{evt:e,target:r}),r&&this._nodes.forEach(n=>{n._fire("transformend",{evt:e,target:n})}),this._movingAnchorName=null}}_fitNodesInto(e,r){var n=this._getNodeRect();const i=1;if(ne.Util._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(ne.Util._inRange(e.height,-this.padding()*2-i,i)){this.update();return}var a=new ne.Transform;if(a.rotate(gt.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=a.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=a.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=a.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=a.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(n,e);f?e=f:ne.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,s=new ne.Transform;s.translate(n.x,n.y),s.rotate(n.rotation),s.scale(n.width/o,n.height/o);const l=new ne.Transform,u=e.width/o,c=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(u),Math.abs(c))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(u,c));const y=l.multiply(s.invert());this._nodes.forEach(f=>{var g;const d=f.getParent().getAbsoluteTransform(),_=f.getTransform().copy();_.translate(f.offsetX(),f.offsetY());const C=new ne.Transform;C.multiply(d.copy().invert()).multiply(y).multiply(d).multiply(_);const m=C.decompose();f.setAttrs(m),this._fire("transform",{evt:r,target:f}),f._fire("transform",{evt:r,target:f}),(g=f.getLayer())===null||g===void 0||g.batchDraw()}),this.rotation(ne.Util._getRotation(e.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,r){this.findOne(e).setAttrs(r)}update(){var e,r=this._getNodeRect();this.rotation(ne.Util._getRotation(r.rotation));var n=r.width,i=r.height,a=this.enabledAnchors(),o=this.resizeEnabled(),s=this.padding(),l=this.anchorSize();const u=this.find("._anchor");u.forEach(y=>{y.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:o&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+s,visible:o&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:o&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+s,visible:o&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:l/2-s,visible:o&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+s,offsetY:l/2-s,visible:o&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:l/2-s,visible:o&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:l/2-s,offsetY:l/2-s,visible:o&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*ne.Util._sign(i)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const c=this.anchorStyleFunc();c&&u.forEach(y=>{c(y)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Pc.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Ec.Node.prototype.toObject.call(this)}clone(e){var r=Ec.Node.prototype.clone.call(this,e);return r}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Lo.Transformer=q;function k3(t){return t instanceof Array||ne.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Wa.indexOf(e)===-1&&ne.Util.warn("Unknown anchor name: "+e+". Available names are: "+Wa.join(", "))}),t||[]}q.prototype.className="Transformer";(0,g3._registerNode)(q);J.Factory.addGetterSetter(q,"enabledAnchors",Wa,k3);J.Factory.addGetterSetter(q,"flipEnabled",!0,(0,Cr.getBooleanValidator)());J.Factory.addGetterSetter(q,"resizeEnabled",!0);J.Factory.addGetterSetter(q,"anchorSize",10,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"rotateEnabled",!0);J.Factory.addGetterSetter(q,"rotateLineVisible",!0);J.Factory.addGetterSetter(q,"rotationSnaps",[]);J.Factory.addGetterSetter(q,"rotateAnchorOffset",50,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"rotateAnchorCursor","crosshair");J.Factory.addGetterSetter(q,"rotationSnapTolerance",5,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"borderEnabled",!0);J.Factory.addGetterSetter(q,"anchorStroke","rgb(0, 161, 255)");J.Factory.addGetterSetter(q,"anchorStrokeWidth",1,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"anchorFill","white");J.Factory.addGetterSetter(q,"anchorCornerRadius",0,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"borderStroke","rgb(0, 161, 255)");J.Factory.addGetterSetter(q,"borderStrokeWidth",1,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"borderDash");J.Factory.addGetterSetter(q,"keepRatio",!0);J.Factory.addGetterSetter(q,"shiftBehavior","default");J.Factory.addGetterSetter(q,"centeredScaling",!1);J.Factory.addGetterSetter(q,"ignoreStroke",!1);J.Factory.addGetterSetter(q,"padding",0,(0,Cr.getNumberValidator)());J.Factory.addGetterSetter(q,"node");J.Factory.addGetterSetter(q,"nodes");J.Factory.addGetterSetter(q,"boundBoxFunc");J.Factory.addGetterSetter(q,"anchorDragBoundFunc");J.Factory.addGetterSetter(q,"anchorStyleFunc");J.Factory.addGetterSetter(q,"shouldOverdrawWholeArea",!1);J.Factory.addGetterSetter(q,"useSingleNodeRotation",!0);J.Factory.backCompat(q,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.Wedge=void 0;const Do=W,E3=Te,P3=K,Of=U,x3=K;class Kt extends E3.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,P3.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}bo.Wedge=Kt;Kt.prototype.className="Wedge";Kt.prototype._centroid=!0;Kt.prototype._attrsAffectingSize=["radius"];(0,x3._registerNode)(Kt);Do.Factory.addGetterSetter(Kt,"radius",0,(0,Of.getNumberValidator)());Do.Factory.addGetterSetter(Kt,"angle",0,(0,Of.getNumberValidator)());Do.Factory.addGetterSetter(Kt,"clockwise",!1);Do.Factory.backCompat(Kt,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var Go={};Object.defineProperty(Go,"__esModule",{value:!0});Go.Blur=void 0;const Nc=W,T3=de,N3=U;function Fc(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var F3=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],R3=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function M3(t,e){var r=t.data,n=t.width,i=t.height,a,o,s,l,u,c,y,f,g,d,_,C,m,v,h,p,S,k,x,w,T,E,N,A,L=e+e+1,z=n-1,G=i-1,H=e+1,j=H*(H+1)/2,F=new Fc,I=null,M=F,b=null,B=null,ee=F3[e],Q=R3[e];for(s=1;s<L;s++)M=M.next=new Fc,s===H&&(I=M);for(M.next=F,y=c=0,o=0;o<i;o++){for(p=S=k=x=f=g=d=_=0,C=H*(w=r[c]),m=H*(T=r[c+1]),v=H*(E=r[c+2]),h=H*(N=r[c+3]),f+=j*w,g+=j*T,d+=j*E,_+=j*N,M=F,s=0;s<H;s++)M.r=w,M.g=T,M.b=E,M.a=N,M=M.next;for(s=1;s<H;s++)l=c+((z<s?z:s)<<2),f+=(M.r=w=r[l])*(A=H-s),g+=(M.g=T=r[l+1])*A,d+=(M.b=E=r[l+2])*A,_+=(M.a=N=r[l+3])*A,p+=w,S+=T,k+=E,x+=N,M=M.next;for(b=F,B=I,a=0;a<n;a++)r[c+3]=N=_*ee>>Q,N!==0?(N=255/N,r[c]=(f*ee>>Q)*N,r[c+1]=(g*ee>>Q)*N,r[c+2]=(d*ee>>Q)*N):r[c]=r[c+1]=r[c+2]=0,f-=C,g-=m,d-=v,_-=h,C-=b.r,m-=b.g,v-=b.b,h-=b.a,l=y+((l=a+e+1)<z?l:z)<<2,p+=b.r=r[l],S+=b.g=r[l+1],k+=b.b=r[l+2],x+=b.a=r[l+3],f+=p,g+=S,d+=k,_+=x,b=b.next,C+=w=B.r,m+=T=B.g,v+=E=B.b,h+=N=B.a,p-=w,S-=T,k-=E,x-=N,B=B.next,c+=4;y+=n}for(a=0;a<n;a++){for(S=k=x=p=g=d=_=f=0,c=a<<2,C=H*(w=r[c]),m=H*(T=r[c+1]),v=H*(E=r[c+2]),h=H*(N=r[c+3]),f+=j*w,g+=j*T,d+=j*E,_+=j*N,M=F,s=0;s<H;s++)M.r=w,M.g=T,M.b=E,M.a=N,M=M.next;for(u=n,s=1;s<=e;s++)c=u+a<<2,f+=(M.r=w=r[c])*(A=H-s),g+=(M.g=T=r[c+1])*A,d+=(M.b=E=r[c+2])*A,_+=(M.a=N=r[c+3])*A,p+=w,S+=T,k+=E,x+=N,M=M.next,s<G&&(u+=n);for(c=a,b=F,B=I,o=0;o<i;o++)l=c<<2,r[l+3]=N=_*ee>>Q,N>0?(N=255/N,r[l]=(f*ee>>Q)*N,r[l+1]=(g*ee>>Q)*N,r[l+2]=(d*ee>>Q)*N):r[l]=r[l+1]=r[l+2]=0,f-=C,g-=m,d-=v,_-=h,C-=b.r,m-=b.g,v-=b.b,h-=b.a,l=a+((l=o+H)<G?l:G)*n<<2,f+=p+=b.r=r[l],g+=S+=b.g=r[l+1],d+=k+=b.b=r[l+2],_+=x+=b.a=r[l+3],b=b.next,C+=w=B.r,m+=T=B.g,v+=E=B.b,h+=N=B.a,p-=w,S-=T,k-=E,x-=N,B=B.next,c+=n}}const A3=function(e){var r=Math.round(this.blurRadius());r>0&&M3(e,r)};Go.Blur=A3;Nc.Factory.addGetterSetter(T3.Node,"blurRadius",0,(0,N3.getNumberValidator)(),Nc.Factory.afterSetFilter);var Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.Brighten=void 0;const Rc=W,O3=de,L3=U,b3=function(t){var e=this.brightness()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=4)r[i]+=e,r[i+1]+=e,r[i+2]+=e};Io.Brighten=b3;Rc.Factory.addGetterSetter(O3.Node,"brightness",0,(0,L3.getNumberValidator)(),Rc.Factory.afterSetFilter);var Uo={};Object.defineProperty(Uo,"__esModule",{value:!0});Uo.Contrast=void 0;const Mc=W,D3=de,G3=U,I3=function(t){var e=Math.pow((this.contrast()+100)/100,2),r=t.data,n=r.length,i=150,a=150,o=150,s;for(s=0;s<n;s+=4)i=r[s],a=r[s+1],o=r[s+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,a=a<0?0:a>255?255:a,o=o<0?0:o>255?255:o,r[s]=i,r[s+1]=a,r[s+2]=o};Uo.Contrast=I3;Mc.Factory.addGetterSetter(D3.Node,"contrast",0,(0,G3.getNumberValidator)(),Mc.Factory.afterSetFilter);var zo={};Object.defineProperty(zo,"__esModule",{value:!0});zo.Emboss=void 0;const gr=W,Vo=de,U3=ve,Lf=U,z3=function(t){var e=this.embossStrength()*10,r=this.embossWhiteLevel()*255,n=this.embossDirection(),i=this.embossBlend(),a=0,o=0,s=t.data,l=t.width,u=t.height,c=l*4,y=u;switch(n){case"top-left":a=-1,o=-1;break;case"top":a=-1,o=0;break;case"top-right":a=-1,o=1;break;case"right":a=0,o=1;break;case"bottom-right":a=1,o=1;break;case"bottom":a=1,o=0;break;case"bottom-left":a=1,o=-1;break;case"left":a=0,o=-1;break;default:U3.Util.error("Unknown emboss direction: "+n)}do{var f=(y-1)*c,g=a;y+g<1&&(g=0),y+g>u&&(g=0);var d=(y-1+g)*l*4,_=l;do{var C=f+(_-1)*4,m=o;_+m<1&&(m=0),_+m>l&&(m=0);var v=d+(_-1+m)*4,h=s[C]-s[v],p=s[C+1]-s[v+1],S=s[C+2]-s[v+2],k=h,x=k>0?k:-k,w=p>0?p:-p,T=S>0?S:-S;if(w>x&&(k=p),T>x&&(k=S),k*=e,i){var E=s[C]+k,N=s[C+1]+k,A=s[C+2]+k;s[C]=E>255?255:E<0?0:E,s[C+1]=N>255?255:N<0?0:N,s[C+2]=A>255?255:A<0?0:A}else{var L=r-k;L<0?L=0:L>255&&(L=255),s[C]=s[C+1]=s[C+2]=L}}while(--_)}while(--y)};zo.Emboss=z3;gr.Factory.addGetterSetter(Vo.Node,"embossStrength",.5,(0,Lf.getNumberValidator)(),gr.Factory.afterSetFilter);gr.Factory.addGetterSetter(Vo.Node,"embossWhiteLevel",.5,(0,Lf.getNumberValidator)(),gr.Factory.afterSetFilter);gr.Factory.addGetterSetter(Vo.Node,"embossDirection","top-left",null,gr.Factory.afterSetFilter);gr.Factory.addGetterSetter(Vo.Node,"embossBlend",!1,null,gr.Factory.afterSetFilter);var Bo={};Object.defineProperty(Bo,"__esModule",{value:!0});Bo.Enhance=void 0;const Ac=W,V3=de,B3=U;function Us(t,e,r,n,i){var a=r-e,o=i-n,s;return a===0?n+o/2:o===0?n:(s=(t-e)/a,s=o*s+n,s)}const $3=function(t){var e=t.data,r=e.length,n=e[0],i=n,a,o=e[1],s=o,l,u=e[2],c=u,y,f,g=this.enhance();if(g!==0){for(f=0;f<r;f+=4)a=e[f+0],a<n?n=a:a>i&&(i=a),l=e[f+1],l<o?o=l:l>s&&(s=l),y=e[f+2],y<u?u=y:y>c&&(c=y);i===n&&(i=255,n=0),s===o&&(s=255,o=0),c===u&&(c=255,u=0);var d,_,C,m,v,h,p,S,k;for(g>0?(_=i+g*(255-i),C=n-g*(n-0),v=s+g*(255-s),h=o-g*(o-0),S=c+g*(255-c),k=u-g*(u-0)):(d=(i+n)*.5,_=i+g*(i-d),C=n+g*(n-d),m=(s+o)*.5,v=s+g*(s-m),h=o+g*(o-m),p=(c+u)*.5,S=c+g*(c-p),k=u+g*(u-p)),f=0;f<r;f+=4)e[f+0]=Us(e[f+0],n,i,C,_),e[f+1]=Us(e[f+1],o,s,h,v),e[f+2]=Us(e[f+2],u,c,k,S)}};Bo.Enhance=$3;Ac.Factory.addGetterSetter(V3.Node,"enhance",0,(0,B3.getNumberValidator)(),Ac.Factory.afterSetFilter);var $o={};Object.defineProperty($o,"__esModule",{value:!0});$o.Grayscale=void 0;const H3=function(t){var e=t.data,r=e.length,n,i;for(n=0;n<r;n+=4)i=.34*e[n]+.5*e[n+1]+.16*e[n+2],e[n]=i,e[n+1]=i,e[n+2]=i};$o.Grayscale=H3;var Ho={};Object.defineProperty(Ho,"__esModule",{value:!0});Ho.HSL=void 0;const Tn=W,ju=de,Wu=U;Tn.Factory.addGetterSetter(ju.Node,"hue",0,(0,Wu.getNumberValidator)(),Tn.Factory.afterSetFilter);Tn.Factory.addGetterSetter(ju.Node,"saturation",0,(0,Wu.getNumberValidator)(),Tn.Factory.afterSetFilter);Tn.Factory.addGetterSetter(ju.Node,"luminance",0,(0,Wu.getNumberValidator)(),Tn.Factory.afterSetFilter);const j3=function(t){var e=t.data,r=e.length,n=1,i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o=this.luminance()*127,s,l=n*i*Math.cos(a*Math.PI/180),u=n*i*Math.sin(a*Math.PI/180),c=.299*n+.701*l+.167*u,y=.587*n-.587*l+.33*u,f=.114*n-.114*l-.497*u,g=.299*n-.299*l-.328*u,d=.587*n+.413*l+.035*u,_=.114*n-.114*l+.293*u,C=.299*n-.3*l+1.25*u,m=.587*n-.586*l-1.05*u,v=.114*n+.886*l-.2*u,h,p,S,k;for(s=0;s<r;s+=4)h=e[s+0],p=e[s+1],S=e[s+2],k=e[s+3],e[s+0]=c*h+y*p+f*S+o,e[s+1]=g*h+d*p+_*S+o,e[s+2]=C*h+m*p+v*S+o,e[s+3]=k};Ho.HSL=j3;var jo={};Object.defineProperty(jo,"__esModule",{value:!0});jo.HSV=void 0;const Nn=W,Ku=de,Yu=U,W3=function(t){var e=t.data,r=e.length,n=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,o,s=n*i*Math.cos(a*Math.PI/180),l=n*i*Math.sin(a*Math.PI/180),u=.299*n+.701*s+.167*l,c=.587*n-.587*s+.33*l,y=.114*n-.114*s-.497*l,f=.299*n-.299*s-.328*l,g=.587*n+.413*s+.035*l,d=.114*n-.114*s+.293*l,_=.299*n-.3*s+1.25*l,C=.587*n-.586*s-1.05*l,m=.114*n+.886*s-.2*l,v,h,p,S;for(o=0;o<r;o+=4)v=e[o+0],h=e[o+1],p=e[o+2],S=e[o+3],e[o+0]=u*v+c*h+y*p,e[o+1]=f*v+g*h+d*p,e[o+2]=_*v+C*h+m*p,e[o+3]=S};jo.HSV=W3;Nn.Factory.addGetterSetter(Ku.Node,"hue",0,(0,Yu.getNumberValidator)(),Nn.Factory.afterSetFilter);Nn.Factory.addGetterSetter(Ku.Node,"saturation",0,(0,Yu.getNumberValidator)(),Nn.Factory.afterSetFilter);Nn.Factory.addGetterSetter(Ku.Node,"value",0,(0,Yu.getNumberValidator)(),Nn.Factory.afterSetFilter);var Wo={};Object.defineProperty(Wo,"__esModule",{value:!0});Wo.Invert=void 0;const K3=function(t){var e=t.data,r=e.length,n;for(n=0;n<r;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]};Wo.Invert=K3;var Ko={};Object.defineProperty(Ko,"__esModule",{value:!0});Ko.Kaleidoscope=void 0;const Ka=W,bf=de,Oc=ve,Df=U;var Y3=function(t,e,r){var n=t.data,i=e.data,a=t.width,o=t.height,s=r.polarCenterX||a/2,l=r.polarCenterY||o/2,u,c,y,f=0,g=0,d=0,_=0,C,m=Math.sqrt(s*s+l*l);c=a-s,y=o-l,C=Math.sqrt(c*c+y*y),m=C>m?C:m;var v=o,h=a,p,S,k=360/h*Math.PI/180,x,w;for(S=0;S<h;S+=1)for(x=Math.sin(S*k),w=Math.cos(S*k),p=0;p<v;p+=1)c=Math.floor(s+m*p/v*w),y=Math.floor(l+m*p/v*x),u=(y*a+c)*4,f=n[u+0],g=n[u+1],d=n[u+2],_=n[u+3],u=(S+p*a)*4,i[u+0]=f,i[u+1]=g,i[u+2]=d,i[u+3]=_},X3=function(t,e,r){var n=t.data,i=e.data,a=t.width,o=t.height,s=r.polarCenterX||a/2,l=r.polarCenterY||o/2,u,c,y,f,g,d=0,_=0,C=0,m=0,v,h=Math.sqrt(s*s+l*l);c=a-s,y=o-l,v=Math.sqrt(c*c+y*y),h=v>h?v:h;var p=o,S=a,k,x,w=r.polarRotation||0,T,E;for(c=0;c<a;c+=1)for(y=0;y<o;y+=1)f=c-s,g=y-l,k=Math.sqrt(f*f+g*g)*p/h,x=(Math.atan2(g,f)*180/Math.PI+360+w)%360,x=x*S/360,T=Math.floor(x),E=Math.floor(k),u=(E*a+T)*4,d=n[u+0],_=n[u+1],C=n[u+2],m=n[u+3],u=(y*a+c)*4,i[u+0]=d,i[u+1]=_,i[u+2]=C,i[u+3]=m};const Q3=function(t){var e=t.width,r=t.height,n,i,a,o,s,l,u,c,y,f,g=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),_=Math.floor(e*(d%360)/360);if(!(g<1)){var C=Oc.Util.createCanvasElement();C.width=e,C.height=r;var m=C.getContext("2d").getImageData(0,0,e,r);Oc.Util.releaseCanvas(C),Y3(t,m,{polarCenterX:e/2,polarCenterY:r/2});for(var v=e/Math.pow(2,g);v<=8;)v=v*2,g-=1;v=Math.ceil(v);var h=v,p=0,S=h,k=1;for(_+v>e&&(p=h,S=0,k=-1),i=0;i<r;i+=1)for(n=p;n!==S;n+=k)a=Math.round(n+_)%e,y=(e*i+a)*4,s=m.data[y+0],l=m.data[y+1],u=m.data[y+2],c=m.data[y+3],f=(e*i+n)*4,m.data[f+0]=s,m.data[f+1]=l,m.data[f+2]=u,m.data[f+3]=c;for(i=0;i<r;i+=1)for(h=Math.floor(v),o=0;o<g;o+=1){for(n=0;n<h+1;n+=1)y=(e*i+n)*4,s=m.data[y+0],l=m.data[y+1],u=m.data[y+2],c=m.data[y+3],f=(e*i+h*2-n-1)*4,m.data[f+0]=s,m.data[f+1]=l,m.data[f+2]=u,m.data[f+3]=c;h*=2}X3(m,t,{polarRotation:0})}};Ko.Kaleidoscope=Q3;Ka.Factory.addGetterSetter(bf.Node,"kaleidoscopePower",2,(0,Df.getNumberValidator)(),Ka.Factory.afterSetFilter);Ka.Factory.addGetterSetter(bf.Node,"kaleidoscopeAngle",0,(0,Df.getNumberValidator)(),Ka.Factory.afterSetFilter);var Yo={};Object.defineProperty(Yo,"__esModule",{value:!0});Yo.Mask=void 0;const Lc=W,q3=de,Z3=U;function oa(t,e,r){var n=(r*t.width+e)*4,i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function Xn(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function J3(t){for(var e=[0,0,0],r=0;r<t.length;r++)e[0]+=t[r][0],e[1]+=t[r][1],e[2]+=t[r][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function e5(t,e){var r=oa(t,0,0),n=oa(t,t.width-1,0),i=oa(t,0,t.height-1),a=oa(t,t.width-1,t.height-1),o=e||10;if(Xn(r,n)<o&&Xn(n,a)<o&&Xn(a,i)<o&&Xn(i,r)<o){for(var s=J3([n,r,a,i]),l=[],u=0;u<t.width*t.height;u++){var c=Xn(s,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);l[u]=c<o?0:255}return l}}function t5(t,e){for(var r=0;r<t.width*t.height;r++)t.data[4*r+3]=e[r]}function r5(t,e,r){for(var n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=[],s=0;s<r;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,y=0;y<i;y++)for(var f=0;f<i;f++){var g=s+y-a,d=l+f-a;if(g>=0&&g<r&&d>=0&&d<e){var _=g*e+d,C=n[y*i+f];c+=t[_]*C}}o[u]=c===255*8?255:0}return o}function n5(t,e,r){for(var n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=[],s=0;s<r;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,y=0;y<i;y++)for(var f=0;f<i;f++){var g=s+y-a,d=l+f-a;if(g>=0&&g<r&&d>=0&&d<e){var _=g*e+d,C=n[y*i+f];c+=t[_]*C}}o[u]=c>=255*4?255:0}return o}function i5(t,e,r){for(var n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=[],s=0;s<r;s++)for(var l=0;l<e;l++){for(var u=s*e+l,c=0,y=0;y<i;y++)for(var f=0;f<i;f++){var g=s+y-a,d=l+f-a;if(g>=0&&g<r&&d>=0&&d<e){var _=g*e+d,C=n[y*i+f];c+=t[_]*C}}o[u]=c}return o}const a5=function(t){var e=this.threshold(),r=e5(t,e);return r&&(r=r5(r,t.width,t.height),r=n5(r,t.width,t.height),r=i5(r,t.width,t.height),t5(t,r)),t};Yo.Mask=a5;Lc.Factory.addGetterSetter(q3.Node,"threshold",0,(0,Z3.getNumberValidator)(),Lc.Factory.afterSetFilter);var Xo={};Object.defineProperty(Xo,"__esModule",{value:!0});Xo.Noise=void 0;const bc=W,o5=de,s5=U,l5=function(t){var e=this.noise()*255,r=t.data,n=r.length,i=e/2,a;for(a=0;a<n;a+=4)r[a+0]+=i-2*i*Math.random(),r[a+1]+=i-2*i*Math.random(),r[a+2]+=i-2*i*Math.random()};Xo.Noise=l5;bc.Factory.addGetterSetter(o5.Node,"noise",.2,(0,s5.getNumberValidator)(),bc.Factory.afterSetFilter);var Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.Pixelate=void 0;const Dc=W,u5=ve,h5=de,c5=U,d5=function(t){var e=Math.ceil(this.pixelSize()),r=t.width,n=t.height,i,a,o,s,l,u,c,y=Math.ceil(r/e),f=Math.ceil(n/e),g,d,_,C,m,v,h,p=t.data;if(e<=0){u5.Util.error("pixelSize value can not be <= 0");return}for(m=0;m<y;m+=1)for(v=0;v<f;v+=1){for(s=0,l=0,u=0,c=0,g=m*e,d=g+e,_=v*e,C=_+e,h=0,i=g;i<d;i+=1)if(!(i>=r))for(a=_;a<C;a+=1)a>=n||(o=(r*a+i)*4,s+=p[o+0],l+=p[o+1],u+=p[o+2],c+=p[o+3],h+=1);for(s=s/h,l=l/h,u=u/h,c=c/h,i=g;i<d;i+=1)if(!(i>=r))for(a=_;a<C;a+=1)a>=n||(o=(r*a+i)*4,p[o+0]=s,p[o+1]=l,p[o+2]=u,p[o+3]=c)}};Qo.Pixelate=d5;Dc.Factory.addGetterSetter(h5.Node,"pixelSize",8,(0,c5.getNumberValidator)(),Dc.Factory.afterSetFilter);var qo={};Object.defineProperty(qo,"__esModule",{value:!0});qo.Posterize=void 0;const Gc=W,f5=de,g5=U,p5=function(t){var e=Math.round(this.levels()*254)+1,r=t.data,n=r.length,i=255/e,a;for(a=0;a<n;a+=1)r[a]=Math.floor(r[a]/i)*i};qo.Posterize=p5;Gc.Factory.addGetterSetter(f5.Node,"levels",.5,(0,g5.getNumberValidator)(),Gc.Factory.afterSetFilter);var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.RGB=void 0;const Ya=W,Xu=de,v5=U,m5=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),a=this.blue(),o,s;for(o=0;o<r;o+=4)s=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255,e[o]=s*n,e[o+1]=s*i,e[o+2]=s*a,e[o+3]=e[o+3]};Zo.RGB=m5;Ya.Factory.addGetterSetter(Xu.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ya.Factory.addGetterSetter(Xu.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ya.Factory.addGetterSetter(Xu.Node,"blue",0,v5.RGBComponent,Ya.Factory.afterSetFilter);var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.RGBA=void 0;const Ti=W,es=de,y5=U,_5=function(t){var e=t.data,r=e.length,n=this.red(),i=this.green(),a=this.blue(),o=this.alpha(),s,l;for(s=0;s<r;s+=4)l=1-o,e[s]=n*o+e[s]*l,e[s+1]=i*o+e[s+1]*l,e[s+2]=a*o+e[s+2]*l};Jo.RGBA=_5;Ti.Factory.addGetterSetter(es.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ti.Factory.addGetterSetter(es.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Ti.Factory.addGetterSetter(es.Node,"blue",0,y5.RGBComponent,Ti.Factory.afterSetFilter);Ti.Factory.addGetterSetter(es.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.Sepia=void 0;const S5=function(t){var e=t.data,r=e.length,n,i,a,o;for(n=0;n<r;n+=4)i=e[n+0],a=e[n+1],o=e[n+2],e[n+0]=Math.min(255,i*.393+a*.769+o*.189),e[n+1]=Math.min(255,i*.349+a*.686+o*.168),e[n+2]=Math.min(255,i*.272+a*.534+o*.131)};ts.Sepia=S5;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.Solarize=void 0;const w5=function(t){var e=t.data,r=t.width,n=t.height,i=r*4,a=n;do{var o=(a-1)*i,s=r;do{var l=o+(s-1)*4,u=e[l],c=e[l+1],y=e[l+2];u>127&&(u=255-u),c>127&&(c=255-c),y>127&&(y=255-y),e[l]=u,e[l+1]=c,e[l+2]=y}while(--s)}while(--a)};rs.Solarize=w5;var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.Threshold=void 0;const Ic=W,C5=de,k5=U,E5=function(t){var e=this.threshold()*255,r=t.data,n=r.length,i;for(i=0;i<n;i+=1)r[i]=r[i]<e?0:255};ns.Threshold=E5;Ic.Factory.addGetterSetter(C5.Node,"threshold",.5,(0,k5.getNumberValidator)(),Ic.Factory.afterSetFilter);Object.defineProperty(co,"__esModule",{value:!0});co.Konva=void 0;const Uc=tf,P5=yo,x5=wo,T5=Eo,N5=Po,F5=xo,zc=xn,R5=bi,M5=Dn,A5=Gi,O5=Fo,L5=Ro,b5=Mo,D5=Ao,G5=Gr,I5=Oo,U5=Lo,z5=bo,V5=Go,B5=Io,$5=Uo,H5=zo,j5=Bo,W5=$o,K5=Ho,Y5=jo,X5=Wo,Q5=Ko,q5=Yo,Z5=Xo,J5=Qo,e4=qo,t4=Zo,r4=Jo,n4=ts,i4=rs,a4=ns;co.Konva=Uc.Konva.Util._assign(Uc.Konva,{Arc:P5.Arc,Arrow:x5.Arrow,Circle:T5.Circle,Ellipse:N5.Ellipse,Image:F5.Image,Label:zc.Label,Tag:zc.Tag,Line:R5.Line,Path:M5.Path,Rect:A5.Rect,RegularPolygon:O5.RegularPolygon,Ring:L5.Ring,Sprite:b5.Sprite,Star:D5.Star,Text:G5.Text,TextPath:I5.TextPath,Transformer:U5.Transformer,Wedge:z5.Wedge,Filters:{Blur:V5.Blur,Brighten:B5.Brighten,Contrast:$5.Contrast,Emboss:H5.Emboss,Enhance:j5.Enhance,Grayscale:W5.Grayscale,HSL:K5.HSL,HSV:Y5.HSV,Invert:X5.Invert,Kaleidoscope:Q5.Kaleidoscope,Mask:q5.Mask,Noise:Z5.Noise,Pixelate:J5.Pixelate,Posterize:e4.Posterize,RGB:t4.RGB,RGBA:r4.RGBA,Sepia:n4.Sepia,Solarize:i4.Solarize,Threshold:a4.Threshold}});var o4=bu.exports;Object.defineProperty(o4,"__esModule",{value:!0});const s4=co;bu.exports=s4.Konva;var l4=bu.exports;const Qt=Vc(l4);function u4(){const t=at.useRef(null),[e,r]=at.useState(""),[n,i]=at.useState(null),[a,o]=at.useState(0),[s,l]=at.useState(0),[u,c]=at.useState(0),[y,f]=at.useState(0),[g,d]=at.useState(0),_={Blur:o,Pixelate:l,Sepia:f,Kaleidoscope:d,Contrast:c},C={Blur:Qt.Filters.Blur,Pixelate:Qt.Filters.Pixelate,Sepia:Qt.Filters.Sepia,Kaleidoscope:Qt.Filters.Kaleidoscope},m={Blur:[0,40],Pixelate:[0,10],Sepia:[0,0],Kaleidoscope:[0,0]};function v(T){return C[T]}function h(T){return T in m?Math.floor(Math.random()*(m[T][1]-m[T][0]+1)+m[T][0]):(console.error(`Invalid filter: ${T}`),0)}class p{constructor(E=[]){Ii(this,"names");Ii(this,"filters");Ii(this,"filterStrength");this.filters=[],this.names=E,this.names.forEach(N=>{this.filters.push(v(N))}),this.filterStrength=[],this.names.forEach(N=>{this.filterStrength.push(Number(h(N)))})}applyFilters(){for(let E=0;E<this.filters.length;E++)this.filterStrength[E]!=0&&(console.log("filterStrength ",this.filterStrength[E]),console.log("I: ",E),_[this.names[E]](Number(this.filterStrength[E])))}}const S=new p(["Blur"]),k=T=>{if(T.target.files&&T.target.files.length>0){const E=new FileReader;E.onload=function(N){if(N.target===null)return;const A=new window.Image;A.src=N.target.result,A.onload=()=>{i(A)}},E.readAsDataURL(T.target.files[0])}};at.useEffect(()=>{if(n){const T=new Qt.Stage({container:"container",width:800,height:400}),E=new Qt.Layer,N=new Qt.Image({image:n,x:0,y:(T.height()-400)/2,width:400,height:400}),A=new Qt.Image({image:n,x:400,y:(T.height()-400)/2,width:400,height:400,blurRadius:a,embossBlend:!0,embossDirection:"top-left",sepia:y,kaleidoscope:g,pixelSize:s,draggable:!1});A.cache(),A.filters(S.filters),E.add(N),E.add(A),T.add(E),S.applyFilters()}},[n,a,s,y,g,u]);function x(){l(10),o(10)}const w=T=>{r(T.target.value),console.log("Selected option:",e)};return Fe.jsxs("div",{className:"App",children:[Fe.jsx("div",{className:"background-image top"}),Fe.jsx("div",{className:"background-image bottom"}),Fe.jsx("div",{id:"container"}),Fe.jsx("button",{type:"button",onClick:()=>t.current&&t.current.click(),children:"Upload Image"}),Fe.jsx("input",{type:"file",onChange:k,ref:t,style:{display:"none"}}),Fe.jsx("div",{className:"dropdown",children:Fe.jsxs("select",{onChange:w,value:e,children:[Fe.jsx("option",{value:"",children:"Select an option"}),Fe.jsx("option",{value:"option1",children:"2014 Tumblr"}),Fe.jsx("option",{value:"option2",children:"American Gothic"}),Fe.jsx("option",{value:"option3",children:"IndieKid"}),Fe.jsx("option",{value:"option3",children:"Vintage"}),Fe.jsx("option",{value:"option3",children:"Nostalgia Core"}),Fe.jsx("option",{value:"option3",children:"Complete Chaos"})]})}),Fe.jsx("button",{id:"filter",onClick:()=>x(),children:"Apply Filter"})]})}zs.createRoot(document.getElementById("root")).render(Fe.jsx(e1.StrictMode,{children:Fe.jsx(u4,{})}));
